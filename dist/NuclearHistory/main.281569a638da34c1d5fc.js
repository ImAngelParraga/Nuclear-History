var sH=Object.defineProperty,d1=Object.getOwnPropertySymbols,oH=Object.prototype.hasOwnProperty,aH=Object.prototype.propertyIsEnumerable,h1=(et,Me,B)=>Me in et?sH(et,Me,{enumerable:!0,configurable:!0,writable:!0,value:B}):et[Me]=B,th=(et,Me)=>{for(var B in Me||(Me={}))oH.call(Me,B)&&h1(et,B,Me[B]);if(d1)for(var B of d1(Me))aH.call(Me,B)&&h1(et,B,Me[B]);return et};(self.webpackChunknuclear_history=self.webpackChunknuclear_history||[]).push([[179],{8255:et=>{function Me(B){return Promise.resolve().then(()=>{var f=new Error("Cannot find module '"+B+"'");throw f.code="MODULE_NOT_FOUND",f})}Me.keys=()=>[],Me.resolve=Me,Me.id=8255,et.exports=Me},3018:(et,Me,B)=>{"use strict";B.d(Me,{deG:()=>Va,tb:()=>SI,AFp:()=>Lv,ip1:()=>fm,CZH:()=>Ms,hGG:()=>Qv,z2F:()=>hp,sBO:()=>wi,Sil:()=>gm,_Vd:()=>nc,EJc:()=>RI,SBq:()=>rl,qLn:()=>Ae,vpe:()=>To,gxx:()=>ef,tBr:()=>Ru,XFs:()=>Ve,OlP:()=>Tn,zs3:()=>Yn,ZZ4:()=>Hg,aQg:()=>cv,soG:()=>ap,YKP:()=>dE,v3s:()=>tR,h0i:()=>sl,PXZ:()=>$I,R0b:()=>us,FiY:()=>ts,Lbi:()=>Vv,g9A:()=>xI,Qsj:()=>pA,FYo:()=>il,JOm:()=>$a,Tiy:()=>Sd,q3G:()=>An,tp0:()=>Ga,EAV:()=>ZI,Rgc:()=>Xt,dDg:()=>Hv,DyG:()=>zs,q4F:()=>iE,GfV:()=>yA,s_b:()=>qg,ifc:()=>Cn,eFA:()=>dp,G48:()=>ZM,Gpc:()=>me,f3M:()=>Km,X6Q:()=>dC,_c5:()=>yC,VLi:()=>YM,c2e:()=>MI,zSh:()=>tf,wAp:()=>vt,vHH:()=>ye,EiD:()=>ng,mCW:()=>Ul,qzn:()=>Oi,JVY:()=>ty,pB0:()=>ry,eBb:()=>Xp,L6k:()=>ny,LAX:()=>Nu,cg1:()=>Xu,Tjo:()=>lR,kL8:()=>YD,yhl:()=>Ha,dqk:()=>K,sIi:()=>fd,CqO:()=>y_,QGY:()=>bf,F4k:()=>wf,RDi:()=>ms,AaK:()=>ne,z3N:()=>ns,qOj:()=>lf,TTD:()=>gs,_Bn:()=>rv,xp6:()=>c0,uIk:()=>_w,ekj:()=>S_,Suo:()=>Av,Xpm:()=>va,lG2:()=>Mp,Yz7:()=>gn,cJS:()=>Hi,oAB:()=>fl,Yjl:()=>du,Y36:()=>Xl,_UZ:()=>p_,qZA:()=>f_,TgZ:()=>_f,EpF:()=>m_,n5z:()=>Ch,Ikx:()=>P_,LFG:()=>Ln,$8M:()=>Mi,NdJ:()=>Iw,CRH:()=>Pd,oxw:()=>Sw,Hsn:()=>Tw,F$t:()=>Ef,Q6J:()=>yi,s9C:()=>Cf,MGl:()=>Zu,hYB:()=>eu,iGM:()=>aI,MAs:()=>cD,CHM:()=>Rc,LSH:()=>Cs,kYT:()=>ro,Udp:()=>Xa,YNc:()=>pf,_uU:()=>Tf,Oqu:()=>Ed,hij:()=>M_,HOy:()=>Vw,Gf:()=>np});var f=B(9765),oe=B(5319),j=B(7574),Ee=B(6682),ae=B(2441);var ve=B(1307);function X(){return new f.xQ}function G(o){for(let a in o)if(o[a]===G)return a;throw Error("Could not find renamed property on target object.")}function ie(o,a){for(const u in a)a.hasOwnProperty(u)&&!o.hasOwnProperty(u)&&(o[u]=a[u])}function ne(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(ne).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const u=a.indexOf("\n");return-1===u?a:a.substring(0,u)}function ue(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const Se=G({__forward_ref__:G});function me(o){return o.__forward_ref__=me,o.toString=function(){return ne(this())},o}function Q(o){return De(o)?o():o}function De(o){return"function"==typeof o&&o.hasOwnProperty(Se)&&o.__forward_ref__===me}class ye extends Error{constructor(a,u){super(function(o,a){return`${o?`NG0${o}: `:""}${a}`}(a,u)),this.code=a}}function ze(o){return"string"==typeof o?o:null==o?"":String(o)}function St(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():ze(o)}function he(o,a){const u=a?` in ${a}`:"";throw new ye("201",`No provider for ${St(o)} found${u}`)}function wn(o,a){null==o&&function(o,a,u,c){throw new Error(`ASSERTION ERROR: ${o}`+(null==c?"":` [Expected=> ${u} ${c} ${a} <=Actual]`))}(a,o,null,"!=")}function gn(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function Hi(o){return{providers:o.providers||[],imports:o.imports||[]}}function Br(o){return Ii(o,Mn)||Ii(o,Oo)}function Ii(o,a){return o.hasOwnProperty(a)?o[a]:null}function $i(o){return o&&(o.hasOwnProperty(Nr)||o.hasOwnProperty(ft))?o[Nr]:null}const Mn=G({\u0275prov:G}),Nr=G({\u0275inj:G}),Oo=G({ngInjectableDef:G}),ft=G({ngInjectorDef:G});var Ve=(()=>((Ve=Ve||{})[Ve.Default=0]="Default",Ve[Ve.Host=1]="Host",Ve[Ve.Self=2]="Self",Ve[Ve.SkipSelf=4]="SkipSelf",Ve[Ve.Optional=8]="Optional",Ve))();let Wt;function En(o){const a=Wt;return Wt=o,a}function qt(o,a,u){const c=Br(o);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:u&Ve.Optional?null:void 0!==a?a:void he(ne(o),"Injector")}function it(o){return{toString:o}.toString()}var xn=(()=>((xn=xn||{})[xn.OnPush=0]="OnPush",xn[xn.Default=1]="Default",xn))(),Cn=(()=>((Cn=Cn||{})[Cn.Emulated=0]="Emulated",Cn[Cn.None=2]="None",Cn[Cn.ShadowDom=3]="ShadowDom",Cn))();const Ur="undefined"!=typeof globalThis&&globalThis,No="undefined"!=typeof window&&window,Y="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,K=Ur||"undefined"!=typeof global&&global||No||Y,Qe={},Ze=[],Kt=G({\u0275cmp:G}),cn=G({\u0275dir:G}),ln=G({\u0275pipe:G}),si=G({\u0275mod:G}),Lt=G({\u0275loc:G}),dn=G({\u0275fac:G}),wr=G({__NG_ELEMENT_ID__:G});let uu=0;function va(o){return it(()=>{const u={},c={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===xn.OnPush,directiveDefs:null,pipeDefs:null,selectors:o.selectors||Ze,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||Cn.Emulated,id:"c",styles:o.styles||Ze,_:null,setInput:null,schemas:o.schemas||null,tView:null},h=o.directives,m=o.features,b=o.pipes;return c.id+=uu++,c.inputs=qi(o.inputs,u),c.outputs=qi(o.outputs),m&&m.forEach(w=>w(c)),c.directiveDefs=h?()=>("function"==typeof h?h():h).map(hl):null,c.pipeDefs=b?()=>("function"==typeof b?b():b).map(cu):null,c})}function hl(o){return Er(o)||function(o){return o[cn]||null}(o)}function cu(o){return function(o){return o[ln]||null}(o)}const no={};function fl(o){return it(()=>{const a={type:o.type,bootstrap:o.bootstrap||Ze,declarations:o.declarations||Ze,imports:o.imports||Ze,exports:o.exports||Ze,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null};return null!=o.id&&(no[o.id]=o.type),a})}function ro(o,a){return it(()=>{const u=cr(o,!0);u.declarations=a.declarations||Ze,u.imports=a.imports||Ze,u.exports=a.exports||Ze})}function qi(o,a){if(null==o)return Qe;const u={};for(const c in o)if(o.hasOwnProperty(c)){let h=o[c],m=h;Array.isArray(h)&&(m=h[1],h=h[0]),u[h]=c,a&&(a[h]=m)}return u}const Mp=va;function du(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,onDestroy:o.type.prototype.ngOnDestroy||null}}function Er(o){return o[Kt]||null}function cr(o,a){const u=o[si]||null;if(!u&&!0===a)throw new Error(`Type ${ne(o)} does not have '\u0275mod' property.`);return u}function ai(o){return Array.isArray(o)&&"object"==typeof o[1]}function Jt(o){return Array.isArray(o)&&!0===o[1]}function ml(o){return 0!=(8&o.flags)}function hu(o){return 2==(2&o.flags)}function li(o){return 1==(1&o.flags)}function Ki(o){return null!==o.template}function xc(o){return 0!=(512&o[2])}function Gr(o,a){return o.hasOwnProperty(dn)?o[dn]:null}class Yi{constructor(a,u,c){this.previousValue=a,this.currentValue=u,this.firstChange=c}isFirstChange(){return this.firstChange}}function gs(){return ui}function ui(o){return o.type.prototype.ngOnChanges&&(o.setInput=ah),Zi}function Zi(){const o=Bo(this),a=null==o?void 0:o.current;if(a){const u=o.previous;if(u===Qe)o.previous=a;else for(let c in a)u[c]=a[c];o.current=null,this.ngOnChanges(a)}}function ah(o,a,u,c){const h=Bo(o)||function(o,a){return o[Op]=a}(o,{previous:Qe,current:null}),m=h.current||(h.current={}),b=h.previous,w=this.declaredInputs[u],I=b[w];m[w]=new Yi(I&&I.currentValue,a,b===Qe),o[c]=a}gs.ngInherit=!0;const Op="__ngSimpleChanges__";function Bo(o){return o[Op]||null}let lo;function ms(o){lo=o}function mn(o){return!!o.listen}const Sa={createRenderer:(o,a)=>void 0!==lo?lo:"undefined"!=typeof document?document:void 0};function Ot(o){for(;Array.isArray(o);)o=o[0];return o}function vl(o,a){return Ot(a[o])}function kr(o,a){return Ot(a[o.index])}function ys(o,a){return o.data[a]}function fr(o,a){const u=a[o];return ai(u)?u:u[0]}function Ho(o){return 4==(4&o[2])}function Ta(o){return 128==(128&o[2])}function uo(o,a){return null==a?null:o[a]}function Ma(o){o[18]=0}function vu(o,a){o[5]+=a;let u=o,c=o[3];for(;null!==c&&(1===a&&1===u[5]||-1===a&&0===u[5]);)c[5]+=a,u=c,c=c[3]}const yt={lFrame:Fp(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Mc(){return yt.bindingsEnabled}function Fe(){return yt.lFrame.lView}function Vt(){return yt.lFrame.tView}function Rc(o){return yt.lFrame.contextLView=o,o[8]}function Sn(){let o=dh();for(;null!==o&&64===o.type;)o=o.parent;return o}function dh(){return yt.lFrame.currentTNode}function Si(o,a){const u=yt.lFrame;u.currentTNode=o,u.isParent=a}function wl(){return yt.lFrame.isParent}function co(){yt.lFrame.isParent=!1}function zo(){return yt.isInCheckNoChangesMode}function _s(o){yt.isInCheckNoChangesMode=o}function $r(){return yt.lFrame.bindingIndex}function vs(){return yt.lFrame.bindingIndex++}function js(o){const a=yt.lFrame,u=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,u}function Oc(o,a){const u=yt.lFrame;u.bindingIndex=u.bindingRootIndex=o,Dl(a)}function Dl(o){yt.lFrame.currentDirectiveIndex=o}function qo(){return yt.lFrame.currentQueryIndex}function Eu(o){yt.lFrame.currentQueryIndex=o}function kc(o){const a=o[1];return 2===a.type?a.declTNode:1===a.type?o[6]:null}function kp(o,a,u){if(u&Ve.SkipSelf){let h=a,m=o;for(;!(h=h.parent,null!==h||u&Ve.Host||(h=kc(m),null===h||(m=m[15],10&h.type))););if(null===h)return!1;a=h,o=m}const c=yt.lFrame=ph();return c.currentTNode=a,c.lView=o,!0}function Ko(o){const a=ph(),u=o[1];yt.lFrame=a,a.currentTNode=u.firstChild,a.lView=o,a.tView=u,a.contextLView=o,a.bindingIndex=u.bindingStartIndex,a.inI18n=!1}function ph(){const o=yt.lFrame,a=null===o?null:o.child;return null===a?Fp(o):a}function Fp(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function Pp(){const o=yt.lFrame;return yt.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const gh=Pp;function Lp(){const o=Pp();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function zr(){return yt.lFrame.selectedIndex}function Yo(o){yt.lFrame.selectedIndex=o}function yn(){const o=yt.lFrame;return ys(o.tView,o.selectedIndex)}function Na(o,a){for(let u=a.directiveStart,c=a.directiveEnd;u<c;u++){const m=o.data[u].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:w,ngAfterViewInit:I,ngAfterViewChecked:S,ngOnDestroy:R}=m;b&&(o.contentHooks||(o.contentHooks=[])).push(-u,b),w&&((o.contentHooks||(o.contentHooks=[])).push(u,w),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(u,w)),I&&(o.viewHooks||(o.viewHooks=[])).push(-u,I),S&&((o.viewHooks||(o.viewHooks=[])).push(u,S),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(u,S)),null!=R&&(o.destroyHooks||(o.destroyHooks=[])).push(u,R)}}function ho(o,a,u){Pc(o,a,3,u)}function Fc(o,a,u,c){(3&o[2])===u&&Pc(o,a,u,c)}function Zo(o,a){let u=o[2];(3&u)===a&&(u&=2047,u+=1,o[2]=u)}function Pc(o,a,u,c){const m=null!=c?c:-1,b=a.length-1;let w=0;for(let I=void 0!==c?65535&o[18]:0;I<b;I++)if("number"==typeof a[I+1]){if(w=a[I],null!=c&&w>=c)break}else a[I]<0&&(o[18]+=65536),(w<m||-1==m)&&(Up(o,u,a,I),o[18]=(4294901760&o[18])+I+2),I++}function Up(o,a,u,c){const h=u[c]<0,m=u[c+1],w=o[h?-u[c]:u[c]];if(h){if(o[2]>>11<o[18]>>16&&(3&o[2])===a){o[2]+=2048;try{m.call(w)}finally{}}}else try{m.call(w)}finally{}}class Wo{constructor(a,u,c){this.factory=a,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=c}}function _n(o,a,u){const c=mn(o);let h=0;for(;h<u.length;){const m=u[h];if("number"==typeof m){if(0!==m)break;h++;const b=u[h++],w=u[h++],I=u[h++];c?o.setAttribute(a,w,I,b):a.setAttributeNS(b,w,I)}else{const b=m,w=u[++h];Il(b)?c&&o.setProperty(a,b,w):c?o.setAttribute(a,b,w):a.setAttribute(b,w),h++}}return h}function Al(o){return 3===o||4===o||6===o}function Il(o){return 64===o.charCodeAt(0)}function xl(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let u=-1;for(let c=0;c<a.length;c++){const h=a[c];"number"==typeof h?u=h:0===u||Vc(o,u,h,null,-1===u||2===u?a[++c]:null)}}return o}function Vc(o,a,u,c,h){let m=0,b=o.length;if(-1===a)b=-1;else for(;m<o.length;){const w=o[m++];if("number"==typeof w){if(w===a){b=-1;break}if(w>a){b=m-1;break}}}for(;m<o.length;){const w=o[m];if("number"==typeof w)break;if(w===u){if(null===c)return void(null!==h&&(o[m+1]=h));if(c===o[m+1])return void(o[m+2]=h)}m++,null!==c&&m++,null!==h&&m++}-1!==b&&(o.splice(b,0,a),m=b+1),o.splice(m++,0,u),null!==c&&o.splice(m++,0,c),null!==h&&o.splice(m++,0,h)}function bh(o){return-1!==o}function Sl(o){return 32767&o}function Qo(o,a){let u=function(o){return o>>16}(o),c=a;for(;u>0;)c=c[15],u--;return c}let Tl=!0;function ka(o){const a=Tl;return Tl=o,a}let dt=0;function Hs(o,a){const u=ws(o,a);if(-1!==u)return u;const c=a[1];c.firstCreatePass&&(o.injectorIndex=a.length,Dr(c.data,o),Dr(a,null),Dr(c.blueprint,null));const h=$s(o,a),m=o.injectorIndex;if(bh(h)){const b=Sl(h),w=Qo(h,a),I=w[1].data;for(let S=0;S<8;S++)a[m+S]=w[b+S]|I[b+S]}return a[m+8]=h,m}function Dr(o,a){o.push(0,0,0,0,0,0,0,0,a)}function ws(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function $s(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let u=0,c=null,h=a;for(;null!==h;){const m=h[1],b=m.type;if(c=2===b?m.declTNode:1===b?h[6]:null,null===c)return-1;if(u++,h=h[15],-1!==c.injectorIndex)return c.injectorIndex|u<<16}return-1}function Fr(o,a,u){!function(o,a,u){let c;"string"==typeof u?c=u.charCodeAt(0)||0:u.hasOwnProperty(wr)&&(c=u[wr]),null==c&&(c=u[wr]=dt++);const h=255&c;a.data[o+(h>>5)]|=1<<h}(o,a,u)}function Gp(o,a,u){if(u&Ve.Optional)return o;he(a,"NodeInjector")}function Fa(o,a,u,c){if(u&Ve.Optional&&void 0===c&&(c=null),0==(u&(Ve.Self|Ve.Host))){const h=o[9],m=En(void 0);try{return h?h.get(a,c,u&Ve.Optional):qt(a,c,u&Ve.Optional)}finally{En(m)}}return Gp(c,a,u)}function pr(o,a,u,c=Ve.Default,h){if(null!==o){const m=function(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(wr)?o[wr]:void 0;return"number"==typeof a?a>=0?255&a:Bc:a}(u);if("function"==typeof m){if(!kp(a,o,c))return c&Ve.Host?Gp(h,u,c):Fa(a,u,c,h);try{const b=m(c);if(null!=b||c&Ve.Optional)return b;he(u)}finally{gh()}}else if("number"==typeof m){let b=null,w=ws(o,a),I=-1,S=c&Ve.Host?a[16][6]:null;for((-1===w||c&Ve.SkipSelf)&&(I=-1===w?$s(o,a):a[w+8],-1!==I&&Jo(c,!1)?(b=a[1],w=Sl(I),a=Qo(I,a)):w=-1);-1!==w;){const R=a[1];if(Hp(m,w,R.data)){const P=xu(w,a,u,b,c,S);if(P!==Eh)return P}I=a[w+8],-1!==I&&Jo(c,a[1].data[w+8]===S)&&Hp(m,w,a)?(b=R,w=Sl(I),a=Qo(I,a)):w=-1}}}return Fa(a,u,c,h)}const Eh={};function Bc(){return new Qi(Sn(),Fe())}function xu(o,a,u,c,h,m){const b=a[1],w=b.data[o+8],R=Pa(w,b,u,null==c?hu(w)&&Tl:c!=b&&0!=(3&w.type),h&Ve.Host&&m===w);return null!==R?La(a,b,R,w):Eh}function Pa(o,a,u,c,h){const m=o.providerIndexes,b=a.data,w=1048575&m,I=o.directiveStart,R=m>>20,V=h?w+R:o.directiveEnd;for(let q=c?w:w+R;q<V;q++){const J=b[q];if(q<I&&u===J||q>=I&&J.type===u)return q}if(h){const q=b[I];if(q&&Ki(q)&&q.type===u)return I}return null}function La(o,a,u,c){let h=o[u];const m=a.data;if(function(o){return o instanceof Wo}(h)){const b=h;b.resolving&&function(o,a){throw new ye("200",`Circular dependency in DI detected for ${o}`)}(St(m[u]));const w=ka(b.canSeeViewProviders);b.resolving=!0;const I=b.injectImpl?En(b.injectImpl):null;kp(o,c,Ve.Default);try{h=o[u]=b.factory(void 0,m,o,c),a.firstCreatePass&&u>=c.directiveStart&&function(o,a,u){const{ngOnChanges:c,ngOnInit:h,ngDoCheck:m}=a.type.prototype;if(c){const b=ui(a);(u.preOrderHooks||(u.preOrderHooks=[])).push(o,b),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,b)}h&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-o,h),m&&((u.preOrderHooks||(u.preOrderHooks=[])).push(o,m),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,m))}(u,m[u],a)}finally{null!==I&&En(I),ka(w),b.resolving=!1,gh()}}return h}function Hp(o,a,u){return!!(u[a+(o>>5)]&1<<o)}function Jo(o,a){return!(o&Ve.Self||o&Ve.Host&&a)}class Qi{constructor(a,u){this._tNode=a,this._lView=u}get(a,u){return pr(this._tNode,this._lView,a,void 0,u)}}function Ch(o){return it(()=>{const a=o.prototype.constructor,u=a[dn]||Ml(a),c=Object.prototype;let h=Object.getPrototypeOf(o.prototype).constructor;for(;h&&h!==c;){const m=h[dn]||Ml(h);if(m&&m!==u)return m;h=Object.getPrototypeOf(h)}return m=>new m})}function Ml(o){return De(o)?()=>{const a=Ml(Q(o));return a&&a()}:Gr(o)}function Mi(o){return function(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const u=o.attrs;if(u){const c=u.length;let h=0;for(;h<c;){const m=u[h];if(Al(m))break;if(0===m)h+=2;else if("number"==typeof m)for(h++;h<c&&"string"==typeof u[h];)h++;else{if(m===a)return u[h+1];h+=2}}}return null}(Sn(),o)}const Rl="__parameters__";function Xo(o,a,u){return it(()=>{const c=function(o){return function(...u){if(o){const c=o(...u);for(const h in c)this[h]=c[h]}}}(a);function h(...m){if(this instanceof h)return c.apply(this,m),this;const b=new h(...m);return w.annotation=b,w;function w(I,S,R){const P=I.hasOwnProperty(Rl)?I[Rl]:Object.defineProperty(I,Rl,{value:[]})[Rl];for(;P.length<=R;)P.push(null);return(P[R]=P[R]||[]).push(b),I}}return u&&(h.prototype=Object.create(u.prototype)),h.prototype.ngMetadataName=o,h.annotationCls=h,h})}class Tn{constructor(a,u){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=gn({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Va=new Tn("AnalyzeForEntryComponents"),zs=Function;function er(o,a){void 0===a&&(a=o);for(let u=0;u<o.length;u++){let c=o[u];Array.isArray(c)?(a===o&&(a=o.slice(0,u)),er(c,a)):a!==o&&a.push(c)}return a}function ci(o,a){o.forEach(u=>Array.isArray(u)?ci(u,a):a(u))}function Es(o,a,u){a>=o.length?o.push(u):o.splice(a,0,u)}function _o(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function vo(o,a){const u=[];for(let c=0;c<o;c++)u.push(a);return u}function F(o,a,u){let c=te(o,a);return c>=0?o[1|c]=u:(c=~c,function(o,a,u,c){let h=o.length;if(h==a)o.push(u,c);else if(1===h)o.push(c,o[0]),o[0]=u;else{for(h--,o.push(o[h-1],o[h]);h>a;)o[h]=o[h-2],h--;o[a]=u,o[a+1]=c}}(o,c,a,u)),c}function H(o,a){const u=te(o,a);if(u>=0)return o[1|u]}function te(o,a){return function(o,a,u){let c=0,h=o.length>>u;for(;h!==c;){const m=c+(h-c>>1),b=o[m<<u];if(a===b)return m<<u;b>a?h=m:c=m+1}return~(h<<u)}(o,a,1)}const Xi={},Ks="__NG_DI_FLAG__",hi="ngTempTokenPath",xh=/\n/gm,qc="__source",Yc=G({provide:String,useValue:G});let Ua;function Fl(o){const a=Ua;return Ua=o,a}function wb(o,a=Ve.Default){if(void 0===Ua)throw new Error("inject() must be called from an injection context");return null===Ua?qt(o,void 0,a):Ua.get(o,a&Ve.Optional?null:void 0,a)}function Ln(o,a=Ve.Default){return(Wt||wb)(Q(o),a)}const Km=Ln;function ja(o){const a=[];for(let u=0;u<o.length;u++){const c=Q(o[u]);if(Array.isArray(c)){if(0===c.length)throw new Error("Arguments array must have arguments.");let h,m=Ve.Default;for(let b=0;b<c.length;b++){const w=c[b],I=Ym(w);"number"==typeof I?-1===I?h=w.token:m|=I:h=w}a.push(Ln(h,m))}else a.push(Ln(c))}return a}function Mu(o,a){return o[Ks]=a,o.prototype[Ks]=a,o}function Ym(o){return o[Ks]}function Ir(o,a,u,c){const h=o[hi];throw a[qc]&&h.unshift(a[qc]),o.message=function(o,a,u,c=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.substr(2):o;let h=ne(a);if(Array.isArray(a))h=a.map(ne).join(" -> ");else if("object"==typeof a){let m=[];for(let b in a)if(a.hasOwnProperty(b)){let w=a[b];m.push(b+":"+("string"==typeof w?JSON.stringify(w):ne(w)))}h=`{${m.join(", ")}}`}return`${u}${c?"("+c+")":""}[${h}]: ${o.replace(xh,"\n  ")}`}("\n"+o.message,h,u,c),o.ngTokenPath=h,o[hi]=null,o}const Ru=Mu(Xo("Inject",o=>({token:o})),-1),ts=Mu(Xo("Optional"),8),Ga=Mu(Xo("SkipSelf"),4);let ea;function Eo(o){var a;return(null===(a=function(){if(void 0===ea&&(ea=null,K.trustedTypes))try{ea=K.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch(o){}return ea}())||void 0===a?void 0:a.createHTML(o))||o}class Vl{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Db extends Vl{getTypeName(){return"HTML"}}class zC extends Vl{getTypeName(){return"Style"}}class Bl extends Vl{getTypeName(){return"Script"}}class ey extends Vl{getTypeName(){return"URL"}}class Jp extends Vl{getTypeName(){return"ResourceURL"}}function ns(o){return o instanceof Vl?o.changingThisBreaksApplicationSecurity:o}function Oi(o,a){const u=Ha(o);if(null!=u&&u!==a){if("ResourceURL"===u&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===a}function Ha(o){return o instanceof Vl&&o.getTypeName()||null}function ty(o){return new Db(o)}function ny(o){return new zC(o)}function Xp(o){return new Bl(o)}function Nu(o){return new ey(o)}function ry(o){return new Jp(o)}class Nh{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const u=(new window.DOMParser).parseFromString(Eo(a),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(a):(u.removeChild(u.firstChild),u)}catch(u){return null}}}class iy{constructor(a){if(this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const c=this.inertDocument.createElement("body");u.appendChild(c)}}getInertBodyElement(a){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=Eo(a),u;const c=this.inertDocument.createElement("body");return c.innerHTML=Eo(a),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(c),c}stripCustomNsAttrs(a){const u=a.attributes;for(let h=u.length-1;0<h;h--){const b=u.item(h).name;("xmlns:ns1"===b||0===b.indexOf("ns1:"))&&a.removeAttribute(b)}let c=a.firstChild;for(;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}const sy=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,kh=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ul(o){return(o=String(o)).match(sy)||o.match(kh)?o:"unsafe:"+o}function Zs(o){const a={};for(const u of o.split(","))a[u]=!0;return a}function jl(...o){const a={};for(const u of o)for(const c in u)u.hasOwnProperty(c)&&(a[c]=!0);return a}const Fh=Zs("area,br,col,hr,img,wbr"),ay=Zs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),nd=Zs("rp,rt"),Ph=jl(Fh,jl(ay,Zs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),jl(nd,Zs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),jl(nd,ay)),Lh=Zs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),rd=Zs("srcset"),uy=jl(Lh,rd,Zs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Zs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),id=Zs("script,style,template");class Vh{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let u=a.firstChild,c=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?c=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,c&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let h=this.checkClobberedElement(u,u.nextSibling);if(h){u=h;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(a){const u=a.nodeName.toLowerCase();if(!Ph.hasOwnProperty(u))return this.sanitizedSomething=!0,!id.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const c=a.attributes;for(let h=0;h<c.length;h++){const m=c.item(h),b=m.name,w=b.toLowerCase();if(!uy.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let I=m.value;Lh[w]&&(I=Ul(I)),rd[w]&&(o=I,I=(o=String(o)).split(",").map(a=>Ul(a.trim())).join(", ")),this.buf.push(" ",b,'="',dy(I),'"')}var o;return this.buf.push(">"),!0}endElement(a){const u=a.nodeName.toLowerCase();Ph.hasOwnProperty(u)&&!Fh.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(a){this.buf.push(dy(a))}checkClobberedElement(a,u){if(u&&(a.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return u}}const cy=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,tg=/([^\#-~ |!])/g;function dy(o){return o.replace(/&/g,"&amp;").replace(cy,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(tg,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let sd;function ng(o,a){let u=null;try{sd=sd||function(o){const a=new iy(o);return function(){try{return!!(new window.DOMParser).parseFromString(Eo(""),"text/html")}catch(o){return!1}}()?new Nh(a):a}(o);let c=a?String(a):"";u=sd.getInertBodyElement(c);let h=5,m=c;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,c=m,m=u.innerHTML,u=sd.getInertBodyElement(c)}while(c!==m);return Eo((new Vh).sanitizeChildren(Bh(u)||u))}finally{if(u){const c=Bh(u)||u;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function Bh(o){return"content"in o&&function(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var An=(()=>((An=An||{})[An.NONE=0]="NONE",An[An.HTML=1]="HTML",An[An.STYLE=2]="STYLE",An[An.SCRIPT=3]="SCRIPT",An[An.URL=4]="URL",An[An.RESOURCE_URL=5]="RESOURCE_URL",An))();function Cs(o){const a=function(){const o=Fe();return o&&o[12]}();return a?a.sanitize(An.URL,o)||"":Oi(o,"URL")?ns(o):Ul(ze(o))}const Gh="__ngContext__";function fn(o,a){o[Gh]=a}function Lr(o){const a=function(o){return o[Gh]||null}(o);return a?Array.isArray(a)?a:a.lView:null}function O(o){return o.ngOriginalError}function ee(o,...a){o.error(...a)}class Ae{constructor(){this._console=console}handleError(a){const u=this._findOriginalError(a),c=this._findContext(a),h=(o=a)&&o.ngErrorLogger||ee;var o;h(this._console,"ERROR",a),u&&h(this._console,"ORIGINAL ERROR",u),c&&h(this._console,"ERROR CONTEXT",c)}_findContext(a){return a?a.ngDebugContext||this._findContext(O(a)):null}_findOriginalError(a){let u=a&&O(a);for(;u&&O(u);)u=O(u);return u||null}}const dg=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(K))();function Ds(o){return o instanceof Function?o():o}var $a=(()=>(($a=$a||{})[$a.Important=1]="Important",$a[$a.DashCase=2]="DashCase",$a))();function Sb(o,a){return undefined(o,a)}function $h(o){const a=o[3];return Jt(a)?a[3]:a}function wy(o){return QC(o[13])}function Rb(o){return QC(o[4])}function QC(o){for(;null!==o&&!Jt(o);)o=o[4];return o}function zh(o,a,u,c,h){if(null!=c){let m,b=!1;Jt(c)?m=c:ai(c)&&(b=!0,c=c[0]);const w=Ot(c);0===o&&null!==u?null==h?Dy(a,u,w):za(a,u,w,h||null,!0):1===o&&null!==u?za(a,u,w,h||null,!0):2===o?function(o,a,u){const c=Iy(o,a);c&&function(o,a,u,c){mn(o)?o.removeChild(a,u,c):a.removeChild(u)}(o,c,a,u)}(a,w,b):3===o&&a.destroyNode(w),null!=m&&function(o,a,u,c,h){const m=u[7];m!==Ot(u)&&zh(a,o,c,m,h);for(let w=10;w<u.length;w++){const I=u[w];pg(I[1],I,o,a,c,m)}}(a,o,m,u,h)}}function Nb(o,a,u){return mn(o)?o.createElement(a,u):null===u?o.createElement(a):o.createElementNS(u,a)}function XC(o,a){const u=o[9],c=u.indexOf(a),h=a[3];1024&a[2]&&(a[2]&=-1025,vu(h,-1)),u.splice(c,1)}function Fb(o,a){if(o.length<=10)return;const u=10+a,c=o[u];if(c){const h=c[17];null!==h&&h!==o&&XC(h,c),a>0&&(o[u-1][4]=c[4]);const m=_o(o,10+a);!function(o,a){pg(o,a,a[11],2,null,null),a[0]=null,a[6]=null}(c[1],c);const b=m[19];null!==b&&b.detachView(m[1]),c[3]=null,c[4]=null,c[2]&=-129}return c}function e0(o,a){if(!(256&a[2])){const u=a[11];mn(u)&&u.destroyNode&&pg(o,a,u,3,null,null),function(o){let a=o[13];if(!a)return Cy(o[1],o);for(;a;){let u=null;if(ai(a))u=a[13];else{const c=a[10];c&&(u=c)}if(!u){for(;a&&!a[4]&&a!==o;)ai(a)&&Cy(a[1],a),a=a[3];null===a&&(a=o),ai(a)&&Cy(a[1],a),u=a&&a[4]}a=u}}(a)}}function Cy(o,a){if(!(256&a[2])){a[2]&=-129,a[2]|=256,function(o,a){let u;if(null!=o&&null!=(u=o.destroyHooks))for(let c=0;c<u.length;c+=2){const h=a[u[c]];if(!(h instanceof Wo)){const m=u[c+1];if(Array.isArray(m))for(let b=0;b<m.length;b+=2){const w=h[m[b]],I=m[b+1];try{I.call(w)}finally{}}else try{m.call(h)}finally{}}}}(o,a),function(o,a){const u=o.cleanup,c=a[7];let h=-1;if(null!==u)for(let m=0;m<u.length-1;m+=2)if("string"==typeof u[m]){const b=u[m+1],w="function"==typeof b?b(a):Ot(a[b]),I=c[h=u[m+2]],S=u[m+3];"boolean"==typeof S?w.removeEventListener(u[m],I,S):S>=0?c[h=S]():c[h=-S].unsubscribe(),m+=2}else{const b=c[h=u[m+1]];u[m].call(b)}if(null!==c){for(let m=h+1;m<c.length;m++)c[m]();a[7]=null}}(o,a),1===a[1].type&&mn(a[11])&&a[11].destroy();const u=a[17];if(null!==u&&Jt(a[3])){u!==a[3]&&XC(u,a);const c=a[19];null!==c&&c.detachView(o)}}}function rs(o,a,u){return function(o,a,u){let c=a;for(;null!==c&&40&c.type;)c=(a=c).parent;if(null===c)return u[0];if(2&c.flags){const h=o.data[c.directiveStart].encapsulation;if(h===Cn.None||h===Cn.Emulated)return null}return kr(c,u)}(o,a.parent,u)}function za(o,a,u,c,h){mn(o)?o.insertBefore(a,u,c,h):a.insertBefore(u,c,h)}function Dy(o,a,u){mn(o)?o.appendChild(a,u):a.appendChild(u)}function Ay(o,a,u,c,h){null!==c?za(o,a,u,c,h):Dy(o,a,u)}function Iy(o,a){return mn(o)?o.parentNode(a):a.parentNode}function Pb(o,a,u){return Lb(o,a,u)}let Lb=function(o,a,u){return 40&o.type?kr(o,u):null};function fg(o,a,u,c){const h=rs(o,c,a),m=a[11],w=Pb(c.parent||a[6],c,a);if(null!=h)if(Array.isArray(u))for(let I=0;I<u.length;I++)Ay(m,h,u[I],w,!1);else Ay(m,h,u,w,!1)}function Yh(o,a){if(null!==a){const u=a.type;if(3&u)return kr(a,o);if(4&u)return $l(-1,o[a.index]);if(8&u){const c=a.child;if(null!==c)return Yh(o,c);{const h=o[a.index];return Jt(h)?$l(-1,h):Ot(h)}}if(32&u)return Sb(a,o)()||Ot(o[a.index]);{const c=dS(o,a);return null!==c?Array.isArray(c)?c[0]:Yh($h(o[16]),c):Yh(o,a.next)}}return null}function dS(o,a){return null!==a?o[16][6].projection[a.projection]:null}function $l(o,a){const u=10+o+1;if(u<a.length){const c=a[u],h=c[1].firstChild;if(null!==h)return Yh(c,h)}return a[7]}function jb(o,a,u,c,h,m,b){for(;null!=u;){const w=c[u.index],I=u.type;if(b&&0===a&&(w&&fn(Ot(w),c),u.flags|=4),64!=(64&u.flags))if(8&I)jb(o,a,u.child,c,h,m,!1),zh(a,o,h,w,m);else if(32&I){const S=Sb(u,c);let R;for(;R=S();)zh(a,o,h,R,m);zh(a,o,h,w,m)}else 16&I?Gb(o,a,c,u,h,m):zh(a,o,h,w,m);u=b?u.projectionNext:u.next}}function pg(o,a,u,c,h,m){jb(u,c,o.firstChild,a,h,m,!1)}function Gb(o,a,u,c,h,m){const b=u[16],I=b[6].projection[c.projection];if(Array.isArray(I))for(let S=0;S<I.length;S++)zh(a,o,h,I[S],m);else jb(o,a,I,b[3],h,m,!0)}function r0(o,a,u){mn(o)?o.setAttribute(a,"style",u):a.style.cssText=u}function xy(o,a,u){mn(o)?""===u?o.removeAttribute(a,"class"):o.setAttribute(a,"class",u):a.className=u}function s0(o,a,u){let c=o.length;for(;;){const h=o.indexOf(a,u);if(-1===h)return h;if(0===h||o.charCodeAt(h-1)<=32){const m=a.length;if(h+m===c||o.charCodeAt(h+m)<=32)return h}u=h+1}}const o0="ng-template";function Hb(o,a,u){let c=0;for(;c<o.length;){let h=o[c++];if(u&&"class"===h){if(h=o[c],-1!==s0(h.toLowerCase(),a,0))return!0}else if(1===h){for(;c<o.length&&"string"==typeof(h=o[c++]);)if(h.toLowerCase()===a)return!0;return!1}}return!1}function a0(o){return 4===o.type&&o.value!==o0}function gS(o,a,u){return a===(4!==o.type||u?o.value:o0)}function l0(o,a,u){let c=4;const h=o.attrs||[],m=function(o){for(let a=0;a<o.length;a++)if(Al(o[a]))return a;return o.length}(h);let b=!1;for(let w=0;w<a.length;w++){const I=a[w];if("number"!=typeof I){if(!b)if(4&c){if(c=2|1&c,""!==I&&!gS(o,I,u)||""===I&&1===a.length){if(na(c))return!1;b=!0}}else{const S=8&c?I:a[++w];if(8&c&&null!==o.attrs){if(!Hb(o.attrs,S,u)){if(na(c))return!1;b=!0}continue}const P=QO(8&c?"class":I,h,a0(o),u);if(-1===P){if(na(c))return!1;b=!0;continue}if(""!==S){let V;V=P>m?"":h[P+1].toLowerCase();const q=8&c?V:null;if(q&&-1!==s0(q,S,0)||2&c&&S!==V){if(na(c))return!1;b=!0}}}}else{if(!b&&!na(c)&&!na(I))return!1;if(b&&na(I))continue;b=!1,c=I|1&c}}return na(c)||b}function na(o){return 0==(1&o)}function QO(o,a,u,c){if(null===a)return-1;let h=0;if(c||!u){let m=!1;for(;h<a.length;){const b=a[h];if(b===o)return h;if(3===b||6===b)m=!0;else{if(1===b||2===b){let w=a[++h];for(;"string"==typeof w;)w=a[++h];continue}if(4===b)break;if(0===b){h+=4;continue}}h+=m?1:2}return-1}return function(o,a){let u=o.indexOf(4);if(u>-1)for(u++;u<o.length;){const c=o[u];if("number"==typeof c)return-1;if(c===a)return u;u++}return-1}(a,o)}function u0(o,a,u=!1){for(let c=0;c<a.length;c++)if(l0(o,a[c],u))return!0;return!1}function Sy(o,a){e:for(let u=0;u<a.length;u++){const c=a[u];if(o.length===c.length){for(let h=0;h<o.length;h++)if(o[h]!==c[h])continue e;return!0}}return!1}function $b(o,a){return o?":not("+a.trim()+")":a}function ld(o){let a=o[0],u=1,c=2,h="",m=!1;for(;u<o.length;){let b=o[u];if("string"==typeof b)if(2&c){const w=o[++u];h+="["+b+(w.length>0?'="'+w+'"':"")+"]"}else 8&c?h+="."+b:4&c&&(h+=" "+b);else""!==h&&!na(b)&&(a+=$b(m,h),h=""),c=b,m=m||!na(c);u++}return""!==h&&(a+=$b(m,h)),a}const It={};function c0(o){d0(Vt(),Fe(),zr()+o,zo())}function d0(o,a,u,c){if(!c)if(3==(3&a[2])){const m=o.preOrderCheckHooks;null!==m&&ho(a,m,u)}else{const m=o.preOrderHooks;null!==m&&Fc(a,m,0,u)}Yo(u)}function Ty(o,a){return o<<17|a<<2}function As(o){return o>>17&32767}function Kr(o){return 2|o}function Fi(o){return(131068&o)>>2}function zb(o,a){return-131069&o|a<<2}function My(o){return 1|o}function RS(o,a){const u=o.contentQueries;if(null!==u)for(let c=0;c<u.length;c+=2){const h=u[c],m=u[c+1];if(-1!==m){const b=o.data[m];Eu(h),b.contentQueries(2,a[m],m)}}}function Gu(o,a,u,c,h,m,b,w,I,S){const R=a.blueprint.slice();return R[0]=h,R[2]=140|c,Ma(R),R[3]=R[15]=o,R[8]=u,R[10]=b||o&&o[10],R[11]=w||o&&o[11],R[12]=I||o&&o[12]||null,R[9]=S||o&&o[9]||null,R[6]=m,R[16]=2==a.type?o[16]:R,R}function Za(o,a,u,c,h){let m=o.data[a];if(null===m)m=function(o,a,u,c,h){const m=dh(),b=wl(),I=o.data[a]=function(o,a,u,c,h,m){return{type:u,index:c,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?m:m&&m.parent,u,a,c,h);return null===o.firstChild&&(o.firstChild=I),null!==m&&(b?null==m.child&&null!==I.parent&&(m.child=I):null===m.next&&(m.next=I)),I}(o,a,u,c,h),yt.lFrame.inI18n&&(m.flags|=64);else if(64&m.type){m.type=u,m.value=c,m.attrs=h;const b=function(){const o=yt.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}();m.injectorIndex=null===b?-1:b.injectorIndex}return Si(m,!0),m}function Kl(o,a,u,c){if(0===u)return-1;const h=a.length;for(let m=0;m<u;m++)a.push(c),o.blueprint.push(c),o.data.push(null);return h}function yg(o,a,u){Ko(a);try{const c=o.viewQuery;null!==c&&uw(1,c,u);const h=o.template;null!==h&&b0(o,a,h,1,u),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&RS(o,a),o.staticViewQueries&&uw(2,o.viewQuery,u);const m=o.components;null!==m&&function(o,a){for(let u=0;u<a.length;u++)VS(o,a[u])}(a,m)}catch(c){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),c}finally{a[2]&=-5,Lp()}}function Hu(o,a,u,c){const h=a[2];if(256==(256&h))return;Ko(a);const m=zo();try{Ma(a),function(o){yt.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==u&&b0(o,a,u,2,c);const b=3==(3&h);if(!m)if(b){const S=o.preOrderCheckHooks;null!==S&&ho(a,S,null)}else{const S=o.preOrderHooks;null!==S&&Fc(a,S,0,null),Zo(a,0)}if(function(o){for(let a=wy(o);null!==a;a=Rb(a)){if(!a[2])continue;const u=a[9];for(let c=0;c<u.length;c++){const h=u[c],m=h[3];0==(1024&h[2])&&vu(m,1),h[2]|=1024}}}(a),function(o){for(let a=wy(o);null!==a;a=Rb(a))for(let u=10;u<a.length;u++){const c=a[u],h=c[1];Ta(c)&&Hu(h,c,h.template,c[8])}}(a),null!==o.contentQueries&&RS(o,a),!m)if(b){const S=o.contentCheckHooks;null!==S&&ho(a,S)}else{const S=o.contentHooks;null!==S&&Fc(a,S,1),Zo(a,1)}!function(o,a){const u=o.hostBindingOpCodes;if(null!==u)try{for(let c=0;c<u.length;c++){const h=u[c];if(h<0)Yo(~h);else{const m=h,b=u[++c],w=u[++c];Oc(b,m),w(2,a[m])}}}finally{Yo(-1)}}(o,a);const w=o.components;null!==w&&function(o,a){for(let u=0;u<a.length;u++)LS(o,a[u])}(a,w);const I=o.viewQuery;if(null!==I&&uw(2,I,c),!m)if(b){const S=o.viewCheckHooks;null!==S&&ho(a,S)}else{const S=o.viewHooks;null!==S&&Fc(a,S,2),Zo(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),m||(a[2]&=-73),1024&a[2]&&(a[2]&=-1025,vu(a[3],-1))}finally{Lp()}}function Fy(o,a,u,c){const h=a[10],m=!zo(),b=Ho(a);try{m&&!b&&h.begin&&h.begin(),b&&yg(o,a,c),Hu(o,a,u,c)}finally{m&&!b&&h.end&&h.end()}}function b0(o,a,u,c,h){const m=zr(),b=2&c;try{Yo(-1),b&&a.length>20&&d0(o,a,20,zo()),u(c,h)}finally{Yo(m)}}function Py(o,a,u){!Mc()||(function(o,a,u,c){const h=u.directiveStart,m=u.directiveEnd;o.firstCreatePass||Hs(u,a),fn(c,a);const b=u.initialInputs;for(let w=h;w<m;w++){const I=o.data[w],S=Ki(I);S&&aN(a,u,I);const R=La(a,o,w,u);fn(R,a),null!==b&&M0(0,w-h,R,I,0,b),S&&(fr(u.index,a)[8]=R)}}(o,a,u,kr(u,a)),128==(128&u.flags)&&function(o,a,u){const c=u.directiveStart,h=u.directiveEnd,b=u.index,w=yt.lFrame.currentDirectiveIndex;try{Yo(b);for(let I=c;I<h;I++){const S=o.data[I],R=a[I];Dl(I),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&S0(S,R)}}finally{Yo(-1),Dl(w)}}(o,a,u))}function Xb(o,a,u=kr){const c=a.localNames;if(null!==c){let h=a.index+1;for(let m=0;m<c.length;m+=2){const b=c[m+1],w=-1===b?u(a,o):o[b];o[h++]=w}}}function ew(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=Ly(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):a}function Ly(o,a,u,c,h,m,b,w,I,S){const R=20+c,P=R+h,V=function(o,a){const u=[];for(let c=0;c<a;c++)u.push(c<o?null:It);return u}(R,P),q="function"==typeof S?S():S;return V[1]={type:o,blueprint:V,template:u,queries:null,viewQuery:w,declTNode:a,data:V.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:P,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:I,consts:q,incompleteFirstPass:!1}}function tw(o,a,u,c){const h=$y(a);null===u?h.push(c):(h.push(u),o.firstCreatePass&&k0(o).push(c,h.length-1))}function _g(o,a,u){for(let c in o)if(o.hasOwnProperty(c)){const h=o[c];(u=null===u?{}:u).hasOwnProperty(c)?u[c].push(a,h):u[c]=[a,h]}return u}function Pi(o,a,u,c,h,m,b,w){const I=kr(a,u);let R,S=a.inputs;!w&&null!=S&&(R=S[c])?(F0(o,u,R,c,h),hu(a)&&function(o,a){const u=fr(a,o);16&u[2]||(u[2]|=64)}(u,a.index)):3&a.type&&(c=function(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(c),h=null!=b?b(h,a.value||"",c):h,mn(m)?m.setProperty(I,c,h):Il(c)||(I.setProperty?I.setProperty(c,h):I[c]=h))}function wg(o,a,u,c){let h=!1;if(Mc()){const m=function(o,a,u){const c=o.directiveRegistry;let h=null;if(c)for(let m=0;m<c.length;m++){const b=c[m];u0(u,b.selectors,!1)&&(h||(h=[]),Fr(Hs(u,a),o,b.type),Ki(b)?(Xh(o,u),h.unshift(b)):h.push(b))}return h}(o,a,u),b=null===c?null:{"":-1};if(null!==m){h=!0,kS(u,o.data.length,m.length);for(let R=0;R<m.length;R++){const P=m[R];P.providersResolver&&P.providersResolver(P)}let w=!1,I=!1,S=Kl(o,a,m.length,null);for(let R=0;R<m.length;R++){const P=m[R];u.mergedAttrs=xl(u.mergedAttrs,P.hostAttrs),FS(o,u,a,S,P),T0(S,P,b),null!==P.contentQueries&&(u.flags|=8),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(u.flags|=128);const V=P.type.prototype;!w&&(V.ngOnChanges||V.ngOnInit||V.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(u.index),w=!0),!I&&(V.ngOnChanges||V.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(u.index),I=!0),S++}!function(o,a){const c=a.directiveEnd,h=o.data,m=a.attrs,b=[];let w=null,I=null;for(let S=a.directiveStart;S<c;S++){const R=h[S],P=R.inputs,V=null===m||a0(a)?null:PS(P,m);b.push(V),w=_g(P,S,w),I=_g(R.outputs,S,I)}null!==w&&(w.hasOwnProperty("class")&&(a.flags|=16),w.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=b,a.inputs=w,a.outputs=I}(o,u)}b&&function(o,a,u){if(a){const c=o.localNames=[];for(let h=0;h<a.length;h+=2){const m=u[a[h+1]];if(null==m)throw new ye("301",`Export of name '${a[h+1]}' not found!`);c.push(a[h],m)}}}(u,c,b)}return u.mergedAttrs=xl(u.mergedAttrs,u.attrs),h}function Vy(o,a,u,c,h,m){const b=m.hostBindings;if(b){let w=o.hostBindingOpCodes;null===w&&(w=o.hostBindingOpCodes=[]);const I=~a.index;(function(o){let a=o.length;for(;a>0;){const u=o[--a];if("number"==typeof u&&u<0)return u}return 0})(w)!=I&&w.push(I),w.push(c,h,b)}}function S0(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function Xh(o,a){a.flags|=2,(o.components||(o.components=[])).push(a.index)}function T0(o,a,u){if(u){if(a.exportAs)for(let c=0;c<a.exportAs.length;c++)u[a.exportAs[c]]=o;Ki(a)&&(u[""]=o)}}function kS(o,a,u){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+u,o.providerIndexes=a}function FS(o,a,u,c,h){o.data[c]=h;const m=h.factory||(h.factory=Gr(h.type)),b=new Wo(m,Ki(h),null);o.blueprint[c]=b,u[c]=b,Vy(o,a,0,c,Kl(o,u,h.hostVars,It),h)}function aN(o,a,u){const c=kr(a,o),h=ew(u),m=o[10],b=Eg(o,Gu(o,h,null,u.onPush?64:16,c,a,m,m.createRenderer(c,u),null,null));o[a.index]=b}function Yl(o,a,u,c,h,m){const b=kr(o,a);!function(o,a,u,c,h,m,b){if(null==m)mn(o)?o.removeAttribute(a,h,u):a.removeAttribute(h);else{const w=null==b?ze(m):b(m,c||"",h);mn(o)?o.setAttribute(a,h,w,u):u?a.setAttributeNS(u,h,w):a.setAttribute(h,w)}}(a[11],b,m,o.value,u,c,h)}function M0(o,a,u,c,h,m){const b=m[a];if(null!==b){const w=c.setInput;for(let I=0;I<b.length;){const S=b[I++],R=b[I++],P=b[I++];null!==w?c.setInput(u,P,S,R):u[R]=P}}}function PS(o,a){let u=null,c=0;for(;c<a.length;){const h=a[c];if(0!==h)if(5!==h){if("number"==typeof h)break;o.hasOwnProperty(h)&&(null===u&&(u=[]),u.push(h,o[h],a[c+1])),c+=2}else c+=2;else c+=4}return u}function sw(o,a,u,c){return new Array(o,!0,!1,a,null,0,c,u,null,null)}function LS(o,a){const u=fr(a,o);if(Ta(u)){const c=u[1];80&u[2]?Hu(c,u,c.template,u[8]):u[5]>0&&jy(u)}}function jy(o){for(let c=wy(o);null!==c;c=Rb(c))for(let h=10;h<c.length;h++){const m=c[h];if(1024&m[2]){const b=m[1];Hu(b,m,b.template,m[8])}else m[5]>0&&jy(m)}const u=o[1].components;if(null!==u)for(let c=0;c<u.length;c++){const h=fr(u[c],o);Ta(h)&&h[5]>0&&jy(h)}}function VS(o,a){const u=fr(a,o),c=u[1];(function(o,a){for(let u=a.length;u<o.blueprint.length;u++)a.push(o.blueprint[u])})(c,u),yg(c,u,u[8])}function Eg(o,a){return o[13]?o[14][4]=a:o[13]=a,o[14]=a,a}function aw(o){for(;o;){o[2]|=64;const a=$h(o);if(xc(o)&&!a)return o;o=a}return null}function Gy(o,a,u){const c=a[10];c.begin&&c.begin();try{Hu(o,a,o.template,u)}catch(h){throw dw(a,h),h}finally{c.end&&c.end()}}function Hy(o){!function(o){for(let a=0;a<o.components.length;a++){const u=o.components[a],c=Lr(u),h=c[1];Fy(h,c,h.template,u)}}(o[8])}function uw(o,a,u){Eu(0),a(o,u)}const US=(()=>Promise.resolve(null))();function $y(o){return o[7]||(o[7]=[])}function k0(o){return o.cleanup||(o.cleanup=[])}function dw(o,a){const u=o[9],c=u?u.get(Ae,null):null;c&&c.handleError(a)}function F0(o,a,u,c,h){for(let m=0;m<u.length;){const b=u[m++],w=u[m++],I=a[b],S=o.data[b];null!==S.setInput?S.setInput(I,h,c,w):I[w]=h}}function ra(o,a,u){const c=vl(a,o);!function(o,a,u){mn(o)?o.setValue(a,u):a.textContent=u}(o[11],c,u)}function qy(o,a,u){let c=u?o.styles:null,h=u?o.classes:null,m=0;if(null!==a)for(let b=0;b<a.length;b++){const w=a[b];"number"==typeof w?m=w:1==m?h=ue(h,w):2==m&&(c=ue(c,w+": "+a[++b]+";"))}u?o.styles=c:o.stylesWithoutHost=c,u?o.classes=h:o.classesWithoutHost=h}const ef=new Tn("INJECTOR",-1);class V0{get(a,u=Xi){if(u===Xi){const c=new Error(`NullInjectorError: No provider for ${ne(a)}!`);throw c.name="NullInjectorError",c}return u}}const tf=new Tn("Set Injector scope."),Cg={},uN={};let Dg;function B0(){return void 0===Dg&&(Dg=new V0),Dg}function hw(o,a=null,u=null,c){return new GS(o,u,a||B0(),c)}class GS{constructor(a,u,c,h=null){this.parent=c,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const m=[];u&&ci(u,w=>this.processProvider(w,a,u)),ci([a],w=>this.processInjectorType(w,[],m)),this.records.set(ef,nf(void 0,this));const b=this.records.get(tf);this.scope=null!=b?b.value:null,this.source=h||("object"==typeof a?null:ne(a))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(a=>a.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(a,u=Xi,c=Ve.Default){this.assertNotDestroyed();const h=Fl(this),m=En(void 0);try{if(!(c&Ve.SkipSelf)){let w=this.records.get(a);if(void 0===w){const I=("function"==typeof(o=a)||"object"==typeof o&&o instanceof Tn)&&Br(a);w=I&&this.injectableDefInScope(I)?nf(Ky(a),Cg):null,this.records.set(a,w)}if(null!=w)return this.hydrate(a,w)}return(c&Ve.Self?B0():this.parent).get(a,u=c&Ve.Optional&&u===Xi?null:u)}catch(b){if("NullInjectorError"===b.name){if((b[hi]=b[hi]||[]).unshift(ne(a)),h)throw b;return Ir(b,a,"R3InjectorError",this.source)}throw b}finally{En(m),Fl(h)}var o}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(a=>this.get(a))}toString(){const a=[];return this.records.forEach((c,h)=>a.push(ne(h))),`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(a,u,c){if(!(a=Q(a)))return!1;let h=$i(a);const m=null==h&&a.ngModule||void 0,b=void 0===m?a:m,w=-1!==c.indexOf(b);if(void 0!==m&&(h=$i(m)),null==h)return!1;if(null!=h.imports&&!w){let R;c.push(b);try{ci(h.imports,P=>{this.processInjectorType(P,u,c)&&(void 0===R&&(R=[]),R.push(P))})}finally{}if(void 0!==R)for(let P=0;P<R.length;P++){const{ngModule:V,providers:q}=R[P];ci(q,J=>this.processProvider(J,V,q||Ze))}}this.injectorDefTypes.add(b);const I=Gr(b)||(()=>new b);this.records.set(b,nf(I,Cg));const S=h.providers;if(null!=S&&!w){const R=a;ci(S,P=>this.processProvider(P,R,S))}return void 0!==m&&void 0!==a.providers}processProvider(a,u,c){let h=dd(a=Q(a))?a:Q(a&&a.provide);const m=Yy(o=a)?nf(void 0,o.useValue):nf(G0(o),Cg);var o;if(dd(a)||!0!==a.multi)this.records.get(h);else{let b=this.records.get(h);b||(b=nf(void 0,Cg,!0),b.factory=()=>ja(b.multi),this.records.set(h,b)),h=a,b.multi.push(a)}this.records.set(h,m)}hydrate(a,u){return u.value===Cg&&(u.value=uN,u.value=u.factory()),"object"==typeof u.value&&u.value&&null!==(o=u.value)&&"object"==typeof o&&"function"==typeof o.ngOnDestroy&&this.onDestroy.add(u.value),u.value;var o}injectableDefInScope(a){if(!a.providedIn)return!1;const u=Q(a.providedIn);return"string"==typeof u?"any"===u||u===this.scope:this.injectorDefTypes.has(u)}}function Ky(o){const a=Br(o),u=null!==a?a.factory:Gr(o);if(null!==u)return u;if(o instanceof Tn)throw new Error(`Token ${ne(o)} is missing a \u0275prov definition.`);if(o instanceof Function)return function(o){const a=o.length;if(a>0){const c=vo(a,"?");throw new Error(`Can't resolve all parameters for ${ne(o)}: (${c.join(", ")}).`)}const u=function(o){const a=o&&(o[Mn]||o[Oo]);if(a){const u=function(o){if(o.hasOwnProperty("name"))return o.name;const a=(""+o).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),a}return null}(o);return null!==u?()=>u.factory(o):()=>new o}(o);throw new Error("unreachable")}function G0(o,a,u){let c;if(dd(o)){const h=Q(o);return Gr(h)||Ky(h)}if(Yy(o))c=()=>Q(o.useValue);else if(function(o){return!(!o||!o.useFactory)}(o))c=()=>o.useFactory(...ja(o.deps||[]));else if(function(o){return!(!o||!o.useExisting)}(o))c=()=>Ln(Q(o.useExisting));else{const h=Q(o&&(o.useClass||o.provide));if(!function(o){return!!o.deps}(o))return Gr(h)||Ky(h);c=()=>new h(...ja(o.deps))}return c}function nf(o,a,u=!1){return{factory:o,value:a,multi:u?[]:void 0}}function Yy(o){return null!==o&&"object"==typeof o&&Yc in o}function dd(o){return"function"==typeof o}const KS=function(o,a,u){return function(o,a=null,u=null,c){const h=hw(o,a,u,c);return h._resolveInjectorDefTypes(),h}({name:u},a,o,u)};let Yn=(()=>{class o{static create(u,c){return Array.isArray(u)?KS(u,c,""):KS(u.providers,u.parent,u.name||"")}}return o.THROW_IF_NOT_FOUND=Xi,o.NULL=new V0,o.\u0275prov=gn({token:o,providedIn:"any",factory:()=>Ln(ef)}),o.__NG_ELEMENT_ID__=-1,o})();function nT(o,a){Na(Lr(o)[1],Sn())}function lf(o){let a=function(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),u=!0;const c=[o];for(;a;){let h;if(Ki(o))h=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new Error("Directives cannot inherit Components");h=a.\u0275dir}if(h){if(u){c.push(h);const b=o;b.inputs=Ja(o.inputs),b.declaredInputs=Ja(o.declaredInputs),b.outputs=Ja(o.outputs);const w=h.hostBindings;w&&nD(o,w);const I=h.viewQuery,S=h.contentQueries;if(I&&rT(o,I),S&&iT(o,S),ie(o.inputs,h.inputs),ie(o.declaredInputs,h.declaredInputs),ie(o.outputs,h.outputs),Ki(h)&&h.data.animation){const R=o.data;R.animation=(R.animation||[]).concat(h.data.animation)}}const m=h.features;if(m)for(let b=0;b<m.length;b++){const w=m[b];w&&w.ngInherit&&w(o),w===lf&&(u=!1)}}a=Object.getPrototypeOf(a)}!function(o){let a=0,u=null;for(let c=o.length-1;c>=0;c--){const h=o[c];h.hostVars=a+=h.hostVars,h.hostAttrs=xl(h.hostAttrs,u=xl(u,h.hostAttrs))}}(c)}function Ja(o){return o===Qe?{}:o===Ze?[]:o}function rT(o,a){const u=o.viewQuery;o.viewQuery=u?(c,h)=>{a(c,h),u(c,h)}:a}function iT(o,a){const u=o.contentQueries;o.contentQueries=u?(c,h,m)=>{a(c,h,m),u(c,h,m)}:a}function nD(o,a){const u=o.hostBindings;o.hostBindings=u?(c,h)=>{a(c,h),u(c,h)}:a}let uf=null;function Ql(){if(!uf){const o=K.Symbol;if(o&&o.iterator)uf=o.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<a.length;++u){const c=a[u];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(uf=c)}}}return uf}function fd(o){return!!e_(o)&&(Array.isArray(o)||!(o instanceof Map)&&Ql()in o)}function e_(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function pi(o,a,u){return!Object.is(o[a],u)&&(o[a]=u,!0)}function $u(o,a,u,c){const h=pi(o,a,u);return pi(o,a+1,c)||h}function _w(o,a,u,c){const h=Fe();return pi(h,vs(),a)&&(Vt(),Yl(yn(),h,o,a,u,c)),_w}function pd(o,a,u,c){return pi(o,vs(),u)?a+ze(u)+c:It}function hf(o,a,u,c,h,m,b,w,I,S){const P=function(o,a,u,c,h,m){const b=$u(o,a,u,c);return $u(o,a+2,h,m)||b}(o,$r(),u,h,b,I);return js(4),P?a+ze(u)+c+ze(h)+m+ze(b)+w+ze(I)+S:It}function pf(o,a,u,c,h,m,b,w){const I=Fe(),S=Vt(),R=o+20,P=S.firstCreatePass?function(o,a,u,c,h,m,b,w,I){const S=a.consts,R=Za(a,o,4,b||null,uo(S,w));wg(a,u,R,uo(S,I)),Na(a,R);const P=R.tViews=Ly(2,R,c,h,m,a.directiveRegistry,a.pipeRegistry,null,a.schemas,S);return null!==a.queries&&(a.queries.template(a,R),P.queries=a.queries.embeddedTView(R)),R}(R,S,I,a,u,c,h,m,b):S.data[R];Si(P,!1);const V=I[11].createComment("");fg(S,I,V,P),fn(V,I),Eg(I,I[R]=sw(V,I,V,P)),li(P)&&Py(S,I,P),null!=b&&Xb(I,P,w)}function cD(o){return function(o,a){return o[a]}(yt.lFrame.contextLView,20+o)}function Xl(o,a=Ve.Default){const u=Fe();return null===u?Ln(o,a):pr(Sn(),u,Q(o),a)}function yi(o,a,u){const c=Fe();return pi(c,vs(),a)&&Pi(Vt(),yn(),c,o,a,c[11],u,!1),yi}function h_(o,a,u,c,h){const b=h?"class":"style";F0(o,u,a.inputs[b],b,c)}function _f(o,a,u,c){const h=Fe(),m=Vt(),b=20+o,w=h[11],I=h[b]=Nb(w,a,yt.lFrame.currentNamespace),S=m.firstCreatePass?function(o,a,u,c,h,m,b){const w=a.consts,S=Za(a,o,2,h,uo(w,m));return wg(a,u,S,uo(w,b)),null!==S.attrs&&qy(S,S.attrs,!1),null!==S.mergedAttrs&&qy(S,S.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,S),S}(b,m,h,0,a,u,c):m.data[b];Si(S,!0);const R=S.mergedAttrs;null!==R&&_n(w,I,R);const P=S.classes;null!==P&&xy(w,I,P);const V=S.styles;null!==V&&r0(w,I,V),64!=(64&S.flags)&&fg(m,h,I,S),0===yt.lFrame.elementDepthCount&&fn(I,h),yt.lFrame.elementDepthCount++,li(S)&&(Py(m,h,S),function(o,a,u){if(ml(a)){const h=a.directiveEnd;for(let m=a.directiveStart;m<h;m++){const b=o.data[m];b.contentQueries&&b.contentQueries(1,u[m],m)}}}(m,S,h)),null!==c&&Xb(h,S)}function f_(){let o=Sn();wl()?co():(o=o.parent,Si(o,!1));const a=o;yt.lFrame.elementDepthCount--;const u=Vt();u.firstCreatePass&&(Na(u,o),ml(o)&&u.queries.elementEnd(o)),null!=a.classesWithoutHost&&function(o){return 0!=(16&o.flags)}(a)&&h_(u,a,Fe(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function(o){return 0!=(32&o.flags)}(a)&&h_(u,a,Fe(),a.stylesWithoutHost,!1)}function p_(o,a,u,c){_f(o,a,u,c),f_()}function m_(){return Fe()}function bf(o){return!!o&&"function"==typeof o.then}function wf(o){return!!o&&"function"==typeof o.subscribe}const y_=wf;function Iw(o,a,u,c){const h=Fe(),m=Vt(),b=Sn();return function(o,a,u,c,h,m,b,w){const I=li(c),R=o.firstCreatePass&&k0(o),P=a[8],V=$y(a);let q=!0;if(3&c.type||w){const se=kr(c,a),Ge=w?w(se):se,Re=V.length,ut=w?_t=>w(Ot(_t[c.index])):c.index;if(mn(u)){let _t=null;if(!w&&I&&(_t=function(o,a,u,c){const h=o.cleanup;if(null!=h)for(let m=0;m<h.length-1;m+=2){const b=h[m];if(b===u&&h[m+1]===c){const w=a[7],I=h[m+2];return w.length>I?w[I]:null}"string"==typeof b&&(m+=2)}return null}(o,a,h,c.index)),null!==_t)(_t.__ngLastListenerFn__||_t).__ngNextListenerFn__=m,_t.__ngLastListenerFn__=m,q=!1;else{m=w_(c,a,P,m,!1);const Ht=u.listen(Ge,h,m);V.push(m,Ht),R&&R.push(h,ut,Re,Re+1)}}else m=w_(c,a,P,m,!0),Ge.addEventListener(h,m,b),V.push(m),R&&R.push(h,ut,Re,b)}else m=w_(c,a,P,m,!1);const J=c.outputs;let fe;if(q&&null!==J&&(fe=J[h])){const se=fe.length;if(se)for(let Ge=0;Ge<se;Ge+=2){const ar=a[fe[Ge]][fe[Ge+1]].subscribe(m),to=V.length;V.push(m,ar),R&&R.push(h,c.index,to,-(to+1))}}}(m,h,h[11],b,o,a,!!u,c),Iw}function xw(o,a,u,c){try{return!1!==u(c)}catch(h){return dw(o,h),!1}}function w_(o,a,u,c,h){return function m(b){if(b===Function)return c;const w=2&o.flags?fr(o.index,a):a;0==(32&a[2])&&aw(w);let I=xw(a,0,c,b),S=m.__ngNextListenerFn__;for(;S;)I=xw(a,0,S,b)&&I,S=S.__ngNextListenerFn__;return h&&!1===I&&(b.preventDefault(),b.returnValue=!1),I}}function Sw(o=1){return function(o){return(yt.lFrame.contextLView=function(o,a){for(;o>0;)a=a[15],o--;return a}(o,yt.lFrame.contextLView))[8]}(o)}function _T(o,a){let u=null;const c=function(o){const a=o.attrs;if(null!=a){const u=a.indexOf(5);if(0==(1&u))return a[u+1]}return null}(o);for(let h=0;h<a.length;h++){const m=a[h];if("*"!==m){if(null===c?u0(o,m,!0):Sy(c,m))return h}else u=h}return u}function Ef(o){const a=Fe()[16][6];if(!a.projection){const c=a.projection=vo(o?o.length:1,null),h=c.slice();let m=a.child;for(;null!==m;){const b=o?_T(m,o):0;null!==b&&(h[b]?h[b].projectionNext=m:c[b]=m,h[b]=m),m=m.next}}}function Tw(o,a=0,u){const c=Fe(),h=Vt(),m=Za(h,20+o,16,null,u||null);null===m.projection&&(m.projection=a),co(),64!=(64&m.flags)&&function(o,a,u){Gb(a[11],0,a,u,rs(o,u,a),Pb(u.parent||a[6],u,a))}(h,c,m)}function Cf(o,a,u){return Zu(o,"",a,"",u),Cf}function Zu(o,a,u,c,h){const m=Fe(),b=pd(m,a,u,c);return b!==It&&Pi(Vt(),yn(),m,o,b,m[11],h,!1),Zu}function eu(o,a,u,c,h,m,b){const w=Fe(),I=function(o,a,u,c,h,m){const w=$u(o,$r(),u,h);return js(2),w?a+ze(u)+c+ze(h)+m:It}(w,a,u,c,h,m);return I!==It&&Pi(Vt(),yn(),w,o,I,w[11],b,!1),eu}function Rg(o,a,u,c,h){const m=o[u+1],b=null===a;let w=c?As(m):Fi(m),I=!1;for(;0!==w&&(!1===I||b);){const R=o[w+1];A_(o[w],a)&&(I=!0,o[w+1]=c?My(R):Kr(R)),w=c?As(R):Fi(R)}I&&(o[u+1]=c?Kr(m):My(m))}function A_(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&te(o,a)>=0}function Xa(o,a,u){return oa(o,a,u,!1),Xa}function S_(o,a){return oa(o,a,null,!0),S_}function oa(o,a,u,c){const h=Fe(),m=Vt(),b=js(2);m.firstUpdatePass&&function(o,a,u,c){const h=o.data;if(null===h[u+1]){const m=h[zr()],b=function(o,a){return a>=o.expandoStartIndex}(o,u);(function(o,a){return 0!=(o.flags&(a?16:32))})(m,c)&&null===a&&!b&&(a=!1),a=function(o,a,u,c){const h=function(o){const a=yt.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}(o);let m=c?a.residualClasses:a.residualStyles;if(null===h)0===(c?a.classBindings:a.styleBindings)&&(u=bd(u=T_(null,o,a,u,c),a.attrs,c),m=null);else{const b=a.directiveStylingLast;if(-1===b||o[b]!==h)if(u=T_(h,o,a,u,c),null===m){let I=function(o,a,u){const c=u?a.classBindings:a.styleBindings;if(0!==Fi(c))return o[As(c)]}(o,a,c);void 0!==I&&Array.isArray(I)&&(I=T_(null,o,a,I[1],c),I=bd(I,a.attrs,c),function(o,a,u,c){o[As(u?a.classBindings:a.styleBindings)]=c}(o,a,c,I))}else m=function(o,a,u){let c;const h=a.directiveEnd;for(let m=1+a.directiveStylingLast;m<h;m++)c=bd(c,o[m].hostAttrs,u);return bd(c,a.attrs,u)}(o,a,c)}return void 0!==m&&(c?a.residualClasses=m:a.residualStyles=m),u}(h,m,a,c),function(o,a,u,c,h,m){let b=m?a.classBindings:a.styleBindings,w=As(b),I=Fi(b);o[c]=u;let R,S=!1;if(Array.isArray(u)){const P=u;R=P[1],(null===R||te(P,R)>0)&&(S=!0)}else R=u;if(h)if(0!==I){const V=As(o[w+1]);o[c+1]=Ty(V,w),0!==V&&(o[V+1]=zb(o[V+1],c)),o[w+1]=function(o,a){return 131071&o|a<<17}(o[w+1],c)}else o[c+1]=Ty(w,0),0!==w&&(o[w+1]=zb(o[w+1],c)),w=c;else o[c+1]=Ty(I,0),0===w?w=c:o[I+1]=zb(o[I+1],c),I=c;S&&(o[c+1]=Kr(o[c+1])),Rg(o,R,c,!0),Rg(o,R,c,!1),function(o,a,u,c,h){const m=h?o.residualClasses:o.residualStyles;null!=m&&"string"==typeof a&&te(m,a)>=0&&(u[c+1]=My(u[c+1]))}(a,R,o,c,m),b=Ty(w,I),m?a.classBindings=b:a.styleBindings=b}(h,m,a,u,b,c)}}(m,o,b,c),a!==It&&pi(h,b,a)&&function(o,a,u,c,h,m,b,w){if(!(3&a.type))return;const I=o.data,S=I[w+1];wd(function(o){return 1==(1&o)}(S)?Sf(I,a,u,h,Fi(S),b):void 0)||(wd(m)||function(o){return 2==(2&o)}(S)&&(m=Sf(I,null,u,h,w,b)),function(o,a,u,c,h){const m=mn(o);if(a)h?m?o.addClass(u,c):u.classList.add(c):m?o.removeClass(u,c):u.classList.remove(c);else{let b=-1===c.indexOf("-")?void 0:$a.DashCase;if(null==h)m?o.removeStyle(u,c,b):u.style.removeProperty(c);else{const w="string"==typeof h&&h.endsWith("!important");w&&(h=h.slice(0,-10),b|=$a.Important),m?o.setStyle(u,c,h,b):u.style.setProperty(c,h,w?"important":"")}}}(c,b,vl(zr(),u),h,m))}(m,m.data[zr()],h,h[11],o,h[b+1]=function(o,a){return null==o||("string"==typeof a?o+=a:"object"==typeof o&&(o=ne(ns(o)))),o}(a,u),c,b)}function T_(o,a,u,c,h){let m=null;const b=u.directiveEnd;let w=u.directiveStylingLast;for(-1===w?w=u.directiveStart:w++;w<b&&(m=a[w],c=bd(c,m.hostAttrs,h),m!==o);)w++;return null!==o&&(u.directiveStylingLast=w),c}function bd(o,a,u){const c=u?1:2;let h=-1;if(null!==a)for(let m=0;m<a.length;m++){const b=a[m];"number"==typeof b?h=b:h===c&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),F(o,b,!!u||a[++m]))}return void 0===o?null:o}function Sf(o,a,u,c,h,m){const b=null===a;let w;for(;h>0;){const I=o[h],S=Array.isArray(I),R=S?I[1]:I,P=null===R;let V=u[h+1];V===It&&(V=P?Ze:void 0);let q=P?H(V,c):R===c?V:void 0;if(S&&!wd(q)&&(q=H(I,c)),wd(q)&&(w=q,b))return w;const J=o[h+1];h=b?As(J):Fi(J)}if(null!==a){let I=m?a.residualClasses:a.residualStyles;null!=I&&(w=H(I,c))}return w}function wd(o){return void 0!==o}function Tf(o,a=""){const u=Fe(),c=Vt(),h=o+20,m=c.firstCreatePass?Za(c,h,1,a,null):c.data[h],b=u[h]=function(o,a){return mn(o)?o.createText(a):o.createTextNode(a)}(u[11],a);fg(c,u,b,m),Si(m,!1)}function Ed(o){return M_("",o,""),Ed}function M_(o,a,u){const c=Fe(),h=pd(c,o,a,u);return h!==It&&ra(c,zr(),h),M_}function Vw(o,a,u,c,h,m,b,w,I){const S=Fe(),R=hf(S,o,a,u,c,h,m,b,w,I);return R!==It&&ra(S,zr(),R),Vw}function P_(o,a,u){const c=Fe();return pi(c,vs(),a)&&Pi(Vt(),yn(),c,o,a,c[11],u,!0),P_}const Ju=void 0;var Qs=["en",[["a","p"],["AM","PM"],Ju],[["AM","PM"],Ju,Ju],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ju,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ju,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ju,"{1} 'at' {0}",Ju],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(o){const a=Math.floor(Math.abs(o)),u=o.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===u?1:5}];let Cd={};function Xu(o){const a=function(o){return o.toLowerCase().replace(/_/g,"-")}(o);let u=V_(a);if(u)return u;const c=a.split("-")[0];if(u=V_(c),u)return u;if("en"===c)return Qs;throw new Error(`Missing locale data for the locale "${o}".`)}function YD(o){return Xu(o)[vt.PluralCase]}function V_(o){return o in Cd||(Cd[o]=K.ng&&K.ng.common&&K.ng.common.locales&&K.ng.common.locales[o]),Cd[o]}var vt=(()=>((vt=vt||{})[vt.LocaleId=0]="LocaleId",vt[vt.DayPeriodsFormat=1]="DayPeriodsFormat",vt[vt.DayPeriodsStandalone=2]="DayPeriodsStandalone",vt[vt.DaysFormat=3]="DaysFormat",vt[vt.DaysStandalone=4]="DaysStandalone",vt[vt.MonthsFormat=5]="MonthsFormat",vt[vt.MonthsStandalone=6]="MonthsStandalone",vt[vt.Eras=7]="Eras",vt[vt.FirstDayOfWeek=8]="FirstDayOfWeek",vt[vt.WeekendRange=9]="WeekendRange",vt[vt.DateFormat=10]="DateFormat",vt[vt.TimeFormat=11]="TimeFormat",vt[vt.DateTimeFormat=12]="DateTimeFormat",vt[vt.NumberSymbols=13]="NumberSymbols",vt[vt.NumberFormats=14]="NumberFormats",vt[vt.CurrencyCode=15]="CurrencyCode",vt[vt.CurrencySymbol=16]="CurrencySymbol",vt[vt.CurrencyName=17]="CurrencyName",vt[vt.Currencies=18]="Currencies",vt[vt.Directionality=19]="Directionality",vt[vt.PluralCase=20]="PluralCase",vt[vt.ExtraData=21]="ExtraData",vt))();const U_="en-US";let qe=U_;function nr(o){wn(o,"Expected localeId to be defined"),"string"==typeof o&&(qe=o.toLowerCase().replace(/_/g,"-"))}function X_(o,a,u,c,h){if(o=Q(o),Array.isArray(o))for(let m=0;m<o.length;m++)X_(o[m],a,u,c,h);else{const m=Vt(),b=Fe();let w=dd(o)?o:Q(o.provide),I=G0(o);const S=Sn(),R=1048575&S.providerIndexes,P=S.directiveStart,V=S.providerIndexes>>20;if(dd(o)||!o.multi){const q=new Wo(I,h,Xl),J=tv(w,a,h?R:R+V,P);-1===J?(Fr(Hs(S,b),m,w),ev(m,o,a.length),a.push(w),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),u.push(q),b.push(q)):(u[J]=q,b[J]=q)}else{const q=tv(w,a,R+V,P),J=tv(w,a,R,R+V),fe=q>=0&&u[q],se=J>=0&&u[J];if(h&&!se||!h&&!fe){Fr(Hs(S,b),m,w);const Ge=function(o,a,u,c,h){const m=new Wo(o,u,Xl);return m.multi=[],m.index=a,m.componentProviders=0,nl(m,h,c&&!u),m}(h?nv:Vf,u.length,h,c,I);!h&&se&&(u[J].providerFactory=Ge),ev(m,o,a.length,0),a.push(w),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),u.push(Ge),b.push(Ge)}else ev(m,o,q>-1?q:J,nl(u[h?J:q],I,!h&&c));!h&&c&&se&&u[J].componentProviders++}}}function ev(o,a,u,c){const h=dd(a);if(h||function(o){return!!o.useClass}(a)){const b=(a.useClass||a).prototype.ngOnDestroy;if(b){const w=o.destroyHooks||(o.destroyHooks=[]);if(!h&&a.multi){const I=w.indexOf(u);-1===I?w.push(u,[c,b]):w[I+1].push(c,b)}else w.push(u,b)}}}function nl(o,a,u){return u&&o.componentProviders++,o.multi.push(a)-1}function tv(o,a,u,c){for(let h=u;h<c;h++)if(a[h]===o)return h;return-1}function Vf(o,a,u,c){return Bf(this.multi,[])}function nv(o,a,u,c){const h=this.multi;let m;if(this.providerFactory){const b=this.providerFactory.componentProviders,w=La(u,u[1],this.providerFactory.index,c);m=w.slice(0,b),Bf(h,m);for(let I=b;I<w.length;I++)m.push(w[I])}else m=[],Bf(h,m);return m}function Bf(o,a){for(let u=0;u<o.length;u++)a.push((0,o[u])());return a}function rv(o,a=[]){return u=>{u.providersResolver=(c,h)=>function(o,a,u){const c=Vt();if(c.firstCreatePass){const h=Ki(o);X_(u,c.data,c.blueprint,h,!0),X_(a,c.data,c.blueprint,h,!1)}}(c,h?h(o):o,a)}}class Ad{}const tE="ngComponent";class dA{resolveComponentFactory(a){throw function(o){const a=Error(`No component factory found for ${ne(o)}. Did you add it to @NgModule.entryComponents?`);return a[tE]=o,a}(a)}}let nc=(()=>{class o{}return o.NULL=new dA,o})();function av(...o){}function Id(o,a){return new rl(kr(o,a))}const UT=function(){return Id(Sn(),Fe())};let rl=(()=>{class o{constructor(u){this.nativeElement=u}}return o.__NG_ELEMENT_ID__=UT,o})();function rE(o){return o instanceof rl?o.nativeElement:o}class il{}let pA=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>Uf(),o})();const Uf=function(){const o=Fe(),u=fr(Sn().index,o);return function(o){return o[11]}(ai(u)?u:o)};let Sd=(()=>{class o{}return o.\u0275prov=gn({token:o,providedIn:"root",factory:()=>null}),o})();class yA{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const iE=new yA("12.2.9");class yr{constructor(){}supports(a){return fd(a)}create(a){return new GT(a)}}const lv=(o,a)=>a;class GT{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||lv}forEachItem(a){let u;for(u=this._itHead;null!==u;u=u._next)a(u)}forEachOperation(a){let u=this._itHead,c=this._removalsHead,h=0,m=null;for(;u||c;){const b=!c||u&&u.currentIndex<lE(c,h,m)?u:c,w=lE(b,h,m),I=b.currentIndex;if(b===c)h--,c=c._nextRemoved;else if(u=u._next,null==b.previousIndex)h++;else{m||(m=[]);const S=w-h,R=I-h;if(S!=R){for(let V=0;V<S;V++){const q=V<m.length?m[V]:m[V]=0,J=q+V;R<=J&&J<S&&(m[V]=q+1)}m[b.previousIndex]=R-S}}w!==I&&a(b,w,I)}}forEachPreviousItem(a){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)a(u)}forEachAddedItem(a){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)a(u)}forEachMovedItem(a){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)a(u)}forEachRemovedItem(a){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)a(u)}forEachIdentityChange(a){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)a(u)}diff(a){if(null==a&&(a=[]),!fd(a))throw new Error(`Error trying to diff '${ne(a)}'. Only arrays and iterables are allowed`);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let h,m,b,u=this._itHead,c=!1;if(Array.isArray(a)){this.length=a.length;for(let w=0;w<this.length;w++)m=a[w],b=this._trackByFn(w,m),null!==u&&Object.is(u.trackById,b)?(c&&(u=this._verifyReinsertion(u,m,b,w)),Object.is(u.item,m)||this._addIdentityChange(u,m)):(u=this._mismatch(u,m,b,w),c=!0),u=u._next}else h=0,function(o,a){if(Array.isArray(o))for(let u=0;u<o.length;u++)a(o[u]);else{const u=o[Ql()]();let c;for(;!(c=u.next()).done;)a(c.value)}}(a,w=>{b=this._trackByFn(h,w),null!==u&&Object.is(u.trackById,b)?(c&&(u=this._verifyReinsertion(u,w,b,h)),Object.is(u.item,w)||this._addIdentityChange(u,w)):(u=this._mismatch(u,w,b,h),c=!0),u=u._next,h++}),this.length=h;return this._truncate(u),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,u,c,h){let m;return null===a?m=this._itTail:(m=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(a.item,u)||this._addIdentityChange(a,u),this._reinsertAfter(a,m,h)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(c,h))?(Object.is(a.item,u)||this._addIdentityChange(a,u),this._moveAfter(a,m,h)):a=this._addAfter(new oE(u,c),m,h),a}_verifyReinsertion(a,u,c,h){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==m?a=this._reinsertAfter(m,a._prev,h):a.currentIndex!=h&&(a.currentIndex=h,this._addToMoves(a,h)),a}_truncate(a){for(;null!==a;){const u=a._next;this._addToRemovals(this._unlink(a)),a=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,u,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const h=a._prevRemoved,m=a._nextRemoved;return null===h?this._removalsHead=m:h._nextRemoved=m,null===m?this._removalsTail=h:m._prevRemoved=h,this._insertAfter(a,u,c),this._addToMoves(a,c),a}_moveAfter(a,u,c){return this._unlink(a),this._insertAfter(a,u,c),this._addToMoves(a,c),a}_addAfter(a,u,c){return this._insertAfter(a,u,c),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,u,c){const h=null===u?this._itHead:u._next;return a._next=h,a._prev=u,null===h?this._itTail=a:h._prev=a,null===u?this._itHead=a:u._next=a,null===this._linkedRecords&&(this._linkedRecords=new aE),this._linkedRecords.put(a),a.currentIndex=c,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const u=a._prev,c=a._next;return null===u?this._itHead=c:u._next=c,null===c?this._itTail=u:c._prev=u,a}_addToMoves(a,u){return a.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new aE),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,u){return a.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class oE{constructor(a,u){this.item=a,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class HT{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,u){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===u||u<=c.currentIndex)&&Object.is(c.trackById,a))return c;return null}remove(a){const u=a._prevDup,c=a._nextDup;return null===u?this._head=c:u._nextDup=c,null===c?this._tail=u:c._prevDup=u,null===this._head}}class aE{constructor(){this.map=new Map}put(a){const u=a.trackById;let c=this.map.get(u);c||(c=new HT,this.map.set(u,c)),c.add(a)}get(a,u){const h=this.map.get(a);return h?h.get(a,u):null}remove(a){const u=a.trackById;return this.map.get(u).remove(a)&&this.map.delete(u),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function lE(o,a,u){const c=o.previousIndex;if(null===c)return c;let h=0;return u&&c<u.length&&(h=u[c]),c+a+h}class jf{constructor(){}supports(a){return a instanceof Map||e_(a)}create(){return new rc}}class rc{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let u;for(u=this._mapHead;null!==u;u=u._next)a(u)}forEachPreviousItem(a){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)a(u)}forEachChangedItem(a){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)a(u)}forEachAddedItem(a){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)a(u)}forEachRemovedItem(a){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)a(u)}diff(a){if(a){if(!(a instanceof Map||e_(a)))throw new Error(`Error trying to diff '${ne(a)}'. Only maps and objects are allowed`)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(a,(c,h)=>{if(u&&u.key===h)this._maybeAddToChanges(u,c),this._appendAfter=u,u=u._next;else{const m=this._getOrCreateRecordForKey(h,c);u=this._insertBeforeOrAppend(u,m)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let c=u;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,u){if(a){const c=a._prev;return u._next=a,u._prev=c,a._prev=u,c&&(c._next=u),a===this._mapHead&&(this._mapHead=u),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(a,u){if(this._records.has(a)){const h=this._records.get(a);this._maybeAddToChanges(h,u);const m=h._prev,b=h._next;return m&&(m._next=b),b&&(b._prev=m),h._next=null,h._prev=null,h}const c=new _A(a);return this._records.set(a,c),c.currentValue=u,this._addToAdditions(c),c}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,u){Object.is(u,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=u,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,u){a instanceof Map?a.forEach(u):Object.keys(a).forEach(c=>u(a[c],c))}}class _A{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function uE(){return new Hg([new yr])}let Hg=(()=>{class o{constructor(u){this.factories=u}static create(u,c){if(null!=c){const h=c.factories.slice();u=u.concat(h)}return new o(u)}static extend(u){return{provide:o,useFactory:c=>o.create(u,c||uE()),deps:[[o,new Ga,new ts]]}}find(u){const c=this.factories.find(h=>h.supports(u));if(null!=c)return c;throw new Error(`Cannot find a differ supporting object '${u}' of type '${function(o){return o.name||typeof o}(u)}'`)}}return o.\u0275prov=gn({token:o,providedIn:"root",factory:uE}),o})();function uv(){return new cv([new jf])}let cv=(()=>{class o{constructor(u){this.factories=u}static create(u,c){if(c){const h=c.factories.slice();u=u.concat(h)}return new o(u)}static extend(u){return{provide:o,useFactory:c=>o.create(u,c||uv()),deps:[[o,new Ga,new ts]]}}find(u){const c=this.factories.find(h=>h.supports(u));if(c)return c;throw new Error(`Cannot find a differ supporting object '${u}'`)}}return o.\u0275prov=gn({token:o,providedIn:"root",factory:uv}),o})();function Zn(o,a,u,c,h=!1){for(;null!==u;){const m=a[u.index];if(null!==m&&c.push(Ot(m)),Jt(m))for(let w=10;w<m.length;w++){const I=m[w],S=I[1].firstChild;null!==S&&Zn(I[1],I,S,c)}const b=u.type;if(8&b)Zn(o,a,u.child,c);else if(32&b){const w=Sb(u,a);let I;for(;I=w();)c.push(I)}else if(16&b){const w=dS(a,u);if(Array.isArray(w))c.push(...w);else{const I=$h(a[16]);Zn(I[1],I,w,c,!0)}}u=h?u.projectionNext:u.next}return c}class Gt{constructor(a,u){this._lView=a,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,u=a[1];return Zn(u,a,u.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(Jt(a)){const u=a[8],c=u?u.indexOf(this):-1;c>-1&&(Fb(a,c),_o(u,c))}this._attachedToViewContainer=!1}e0(this._lView[1],this._lView)}onDestroy(a){tw(this._lView[1],this._lView,null,a)}markForCheck(){aw(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Gy(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(o,a,u){_s(!0);try{Gy(o,a,u)}finally{_s(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var a;this._appRef=null,pg(this._lView[1],a=this._lView,a[11],2,null,null)}attachToAppRef(a){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=a}}class vA extends Gt{constructor(a){super(a),this._view=a}detectChanges(){Hy(this._view)}checkNoChanges(){!function(o){_s(!0);try{Hy(o)}finally{_s(!1)}}(this._view)}get context(){return null}}const dv=function(o){return function(o,a,u){if(hu(o)&&!u){const c=fr(o.index,a);return new Gt(c,c)}return 47&o.type?new Gt(a[16],a):null}(Sn(),Fe(),16==(16&o))};let wi=(()=>{class o{}return o.__NG_ELEMENT_ID__=dv,o})();const $T=[new jf],zT=new Hg([new yr]),cE=new cv($T),YT=function(){return ic(Sn(),Fe())};let Xt=(()=>{class o{}return o.__NG_ELEMENT_ID__=YT,o})();const ZT=Xt,hv=class extends ZT{constructor(a,u,c){super(),this._declarationLView=a,this._declarationTContainer=u,this.elementRef=c}createEmbeddedView(a){const u=this._declarationTContainer.tViews,c=Gu(this._declarationLView,u,a,16,null,u.declTNode,null,null,null,null);c[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(c[19]=m.createEmbeddedView(u)),yg(u,c,a),new Gt(c)}};function ic(o,a){return 4&o.type?new hv(a,o,Id(o,a)):null}class sl{}class dE{}const QT=function(){return hE(Sn(),Fe())};let qg=(()=>{class o{}return o.__NG_ELEMENT_ID__=QT,o})();const JT=qg,DA=class extends JT{constructor(a,u,c){super(),this._lContainer=a,this._hostTNode=u,this._hostLView=c}get element(){return Id(this._hostTNode,this._hostLView)}get injector(){return new Qi(this._hostTNode,this._hostLView)}get parentInjector(){const a=$s(this._hostTNode,this._hostLView);if(bh(a)){const u=Qo(a,this._hostLView),c=Sl(a);return new Qi(u[1].data[c+8],u)}return new Qi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const u=AA(this._lContainer);return null!==u&&u[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,u,c){const h=a.createEmbeddedView(u||{});return this.insert(h,c),h}createComponent(a,u,c,h,m){const b=c||this.parentInjector;if(!m&&null==a.ngModule&&b){const I=b.get(sl,null);I&&(m=I)}const w=a.create(b,h,void 0,m);return this.insert(w.hostView,u),w}insert(a,u){const c=a._lView,h=c[1];if(Jt(c[3])){const R=this.indexOf(a);if(-1!==R)this.detach(R);else{const P=c[3],V=new DA(P,P[6],P[3]);V.detach(V.indexOf(a))}}const m=this._adjustIndex(u),b=this._lContainer;!function(o,a,u,c){const h=10+c,m=u.length;c>0&&(u[h-1][4]=a),c<m-10?(a[4]=u[h],Es(u,10+c,a)):(u.push(a),a[4]=null),a[3]=u;const b=a[17];null!==b&&u!==b&&function(o,a){const u=o[9];a[16]!==a[3][3][16]&&(o[2]=!0),null===u?o[9]=[a]:u.push(a)}(b,a);const w=a[19];null!==w&&w.insertView(o),a[2]|=128}(h,c,b,m);const w=$l(m,b),I=c[11],S=Iy(I,b[7]);return null!==S&&function(o,a,u,c,h,m){c[0]=h,c[6]=a,pg(o,c,u,1,h,m)}(h,b[6],I,c,S,w),a.attachToViewContainerRef(),Es(Td(b),m,a),a}move(a,u){return this.insert(a,u)}indexOf(a){const u=AA(this._lContainer);return null!==u?u.indexOf(a):-1}remove(a){const u=this._adjustIndex(a,-1),c=Fb(this._lContainer,u);c&&(_o(Td(this._lContainer),u),e0(c[1],c))}detach(a){const u=this._adjustIndex(a,-1),c=Fb(this._lContainer,u);return c&&null!=_o(Td(this._lContainer),u)?new Gt(c):null}_adjustIndex(a,u=0){return null==a?this.length+u:a}};function AA(o){return o[8]}function Td(o){return o[8]||(o[8]=[])}function hE(o,a){let u;const c=a[o.index];if(Jt(c))u=c;else{let h;if(8&o.type)h=Ot(c);else{const m=a[11];h=m.createComment("");const b=kr(o,a);za(m,Iy(m,b),h,function(o,a){return mn(o)?o.nextSibling(a):a.nextSibling}(m,b),!1)}a[o.index]=u=sw(c,a,h,o),Eg(a,u)}return new DA(u,o,a)}const kd={};class Xf extends nc{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const u=Er(a);return new wv(u,this.ngModule)}}function nm(o){const a=[];for(let u in o)o.hasOwnProperty(u)&&a.push({propName:o[u],templateName:u});return a}const pM=new Tn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>dg});class wv extends Ad{constructor(a,u){super(),this.componentDef=a,this.ngModule=u,this.componentType=a.type,this.selector=a.selectors.map(ld).join(","),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return nm(this.componentDef.inputs)}get outputs(){return nm(this.componentDef.outputs)}create(a,u,c,h){const m=(h=h||this.ngModule)?function(o,a){return{get:(u,c,h)=>{const m=o.get(u,kd,h);return m!==kd||c===kd?m:a.get(u,c,h)}}}(a,h.injector):a,b=m.get(il,Sa),w=m.get(Sd,null),I=b.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",R=c?function(o,a,u){if(mn(o))return o.selectRootElement(a,u===Cn.ShadowDom);let c="string"==typeof a?o.querySelector(a):a;return c.textContent="",c}(I,c,this.componentDef.encapsulation):Nb(b.createRenderer(null,this.componentDef),S,function(o){const a=o.toLowerCase();return"svg"===a?"http://www.w3.org/2000/svg":"math"===a?"http://www.w3.org/1998/MathML/":null}(S)),P=this.componentDef.onPush?576:528,V=function(o,a){return{components:[],scheduler:o||dg,clean:US,playerHandler:a||null,flags:0}}(),q=Ly(0,null,null,1,0,null,null,null,null,null),J=Gu(null,q,V,P,null,null,b,I,w,m);let fe,se;Ko(J);try{const Ge=function(o,a,u,c,h,m){const b=u[1];u[20]=o;const I=Za(b,20,2,"#host",null),S=I.mergedAttrs=a.hostAttrs;null!==S&&(qy(I,S,!0),null!==o&&(_n(h,o,S),null!==I.classes&&xy(h,o,I.classes),null!==I.styles&&r0(h,o,I.styles)));const R=c.createRenderer(o,a),P=Gu(u,ew(a),null,a.onPush?64:16,u[20],I,c,R,m||null,null);return b.firstCreatePass&&(Fr(Hs(I,u),b,a.type),Xh(b,I),kS(I,u.length,1)),Eg(u,P),u[20]=P}(R,this.componentDef,J,b,I);if(R)if(c)_n(I,R,["ng-version",iE.full]);else{const{attrs:Re,classes:ut}=function(o){const a=[],u=[];let c=1,h=2;for(;c<o.length;){let m=o[c];if("string"==typeof m)2===h?""!==m&&a.push(m,o[++c]):8===h&&u.push(m);else{if(!na(h))break;h=m}c++}return{attrs:a,classes:u}}(this.componentDef.selectors[0]);Re&&_n(I,R,Re),ut&&ut.length>0&&xy(I,R,ut.join(" "))}if(se=ys(q,20),void 0!==u){const Re=se.projection=[];for(let ut=0;ut<this.ngContentSelectors.length;ut++){const _t=u[ut];Re.push(null!=_t?Array.from(_t):null)}}fe=function(o,a,u,c,h){const m=u[1],b=function(o,a,u){const c=Sn();o.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),FS(o,c,a,Kl(o,a,1,null),u));const h=La(a,o,c.directiveStart,c);fn(h,a);const m=kr(c,a);return m&&fn(m,a),h}(m,u,a);if(c.components.push(b),o[8]=b,h&&h.forEach(I=>I(b,a)),a.contentQueries){const I=Sn();a.contentQueries(1,b,I.directiveStart)}const w=Sn();return!m.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(Yo(w.index),Vy(u[1],w,0,w.directiveStart,w.directiveEnd,a),S0(a,b)),b}(Ge,this.componentDef,J,V,[nT]),yg(q,J,null)}finally{Lp()}return new YA(this.componentType,fe,Id(se,J),J,se)}}class YA extends class{}{constructor(a,u,c,h,m){super(),this.location=c,this._rootLView=h,this._tNode=m,this.instance=u,this.hostView=this.changeDetectorRef=new vA(h),this.componentType=a}get injector(){return new Qi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}const hc=new Map;class ep extends sl{constructor(a,u){super(),this._parent=u,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Xf(this);const c=cr(a),h=a[Lt]||null;h&&nr(h),this._bootstrapComponents=Ds(c.bootstrap),this._r3Injector=hw(a,u,[{provide:sl,useValue:this},{provide:nc,useValue:this.componentFactoryResolver}],ne(a)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(a)}get(a,u=Yn.THROW_IF_NOT_FOUND,c=Ve.Default){return a===Yn||a===sl||a===ef?this:this._r3Injector.get(a,u,c)}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class fc extends dE{constructor(a){super(),this.moduleType=a,null!==cr(a)&&function(o){const a=new Set;!function u(c){const h=cr(c,!0),m=h.id;null!==m&&(function(o,a,u){if(a&&a!==u)throw new Error(`Duplicate module registered for ${o} - ${ne(a)} vs ${ne(a.name)}`)}(m,hc.get(m),c),hc.set(m,c));const b=Ds(h.imports);for(const w of b)a.has(w)||(a.add(w),u(w))}(o)}(a)}create(a){return new ep(this.moduleType,a)}}function im(o){return a=>{setTimeout(o,void 0,a)}}const To=class extends f.xQ{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,u,c){var h,m,b;let w=a,I=u||(()=>null),S=c;if(a&&"object"==typeof a){const P=a;w=null===(h=P.next)||void 0===h?void 0:h.bind(P),I=null===(m=P.error)||void 0===m?void 0:m.bind(P),S=null===(b=P.complete)||void 0===b?void 0:b.bind(P)}this.__isAsync&&(I=im(I),w&&(w=im(w)),S&&(S=im(S)));const R=super.subscribe({next:w,error:I,complete:S});return a instanceof oe.w&&a.add(R),R}};function FE(){return this._results[Ql()]()}class sm{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Ql(),c=sm.prototype;c[u]||(c[u]=FE)}get changes(){return this._changes||(this._changes=new To)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,u){return this._results.reduce(a,u)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,u){const c=this;c.dirty=!1;const h=er(a);(this._changesDetected=!function(o,a,u){if(o.length!==a.length)return!1;for(let c=0;c<o.length;c++){let h=o[c],m=a[c];if(u&&(h=u(h),m=u(m)),m!==h)return!1}return!0}(c._results,h,u))&&(c._results=h,c.length=h.length,c.last=h[this.length-1],c.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class PE{constructor(a){this.queryList=a,this.matches=null}clone(){return new PE(this.queryList)}setDirty(){this.queryList.setDirty()}}class LE{constructor(a=[]){this.queries=a}createEmbeddedView(a){const u=a.queries;if(null!==u){const c=null!==a.contentQueries?a.contentQueries[0]:u.length,h=[];for(let m=0;m<c;m++){const b=u.getByIndex(m);h.push(this.queries[b.indexInDeclarationView].clone())}return new LE(h)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let u=0;u<this.queries.length;u++)null!==HE(a,u).matches&&this.queries[u].setDirty()}}class VE{constructor(a,u,c=null){this.predicate=a,this.flags=u,this.read=c}}class tp{constructor(a=[]){this.queries=a}elementStart(a,u){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(a,u)}elementEnd(a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(a)}embeddedTView(a){let u=null;for(let c=0;c<this.length;c++){const h=null!==u?u.length:0,m=this.getByIndex(c).embeddedTView(a,h);m&&(m.indexInDeclarationView=c,null!==u?u.push(m):u=[m])}return null!==u?new tp(u):null}template(a,u){for(let c=0;c<this.queries.length;c++)this.queries[c].template(a,u)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class Fd{constructor(a,u=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(a,u){this.isApplyingToNode(u)&&this.matchTNode(a,u)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,u){this.elementStart(a,u)}embeddedTView(a,u){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,u),new Fd(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let c=a.parent;for(;null!==c&&8&c.type&&c.index!==u;)c=c.parent;return u===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(a,u){const c=this.metadata.predicate;if(Array.isArray(c))for(let h=0;h<c.length;h++){const m=c[h];this.matchTNodeWithReadOption(a,u,BE(u,m)),this.matchTNodeWithReadOption(a,u,Pa(u,a,m,!1,!1))}else c===Xt?4&u.type&&this.matchTNodeWithReadOption(a,u,-1):this.matchTNodeWithReadOption(a,u,Pa(u,a,c,!1,!1))}matchTNodeWithReadOption(a,u,c){if(null!==c){const h=this.metadata.read;if(null!==h)if(h===rl||h===qg||h===Xt&&4&u.type)this.addMatch(u.index,-2);else{const m=Pa(u,a,h,!1,!1);null!==m&&this.addMatch(u.index,m)}else this.addMatch(u.index,c)}}addMatch(a,u){null===this.matches?this.matches=[a,u]:this.matches.push(a,u)}}function BE(o,a){const u=o.localNames;if(null!==u)for(let c=0;c<u.length;c+=2)if(u[c]===a)return u[c+1];return null}function DM(o,a,u,c){return-1===u?function(o,a){return 11&o.type?Id(o,a):4&o.type?ic(o,a):null}(a,o):-2===u?function(o,a,u){return u===rl?Id(a,o):u===Xt?ic(a,o):u===qg?hE(a,o):void 0}(o,a,c):La(o,o[1],u,a)}function oI(o,a,u,c){const h=a[19].queries[c];if(null===h.matches){const m=o.data,b=u.matches,w=[];for(let I=0;I<b.length;I+=2){const S=b[I];w.push(S<0?null:DM(a,m[S],b[I+1],u.metadata.read))}h.matches=w}return h.matches}function UE(o,a,u,c){const h=o.queries.getByIndex(u),m=h.matches;if(null!==m){const b=oI(o,a,h,u);for(let w=0;w<m.length;w+=2){const I=m[w];if(I>0)c.push(b[w/2]);else{const S=m[w+1],R=a[-I];for(let P=10;P<R.length;P++){const V=R[P];V[17]===V[3]&&UE(V[1],V,S,c)}if(null!==R[9]){const P=R[9];for(let V=0;V<P.length;V++){const q=P[V];UE(q[1],q,S,c)}}}}}return c}function aI(o){const a=Fe(),u=Vt(),c=qo();Eu(c+1);const h=HE(u,c);if(o.dirty&&Ho(a)===(2==(2&h.metadata.flags))){if(null===h.matches)o.reset([]);else{const m=h.crossesNgTemplate?UE(u,a,c,[]):oI(u,a,h,c);o.reset(m,rE),o.notifyOnChanges()}return!0}return!1}function np(o,a,u){const c=Vt();c.firstCreatePass&&(rp(c,new VE(o,a,u),-1),2==(2&a)&&(c.staticViewQueries=!0)),om(c,Fe(),a)}function Av(o,a,u,c){const h=Vt();if(h.firstCreatePass){const m=Sn();rp(h,new VE(a,u,c),m.index),function(o,a){const u=o.contentQueries||(o.contentQueries=[]);a!==(u.length?u[u.length-1]:-1)&&u.push(o.queries.length-1,a)}(h,o),2==(2&u)&&(h.staticContentQueries=!0)}om(h,Fe(),u)}function Pd(){return o=Fe(),a=qo(),o[19].queries[a].queryList;var o,a}function om(o,a,u){const c=new sm(4==(4&u));tw(o,a,c,c.destroy),null===a[19]&&(a[19]=new LE),a[19].queries.push(new PE(c))}function rp(o,a,u){null===o.queries&&(o.queries=new tp),o.queries.track(new Fd(a,u))}function HE(o,a){return o.queries.getByIndex(a)}const fm=new Tn("Application Initializer");let Ms=(()=>{class o{constructor(u){this.appInits=u,this.resolve=av,this.reject=av,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,h)=>{this.resolve=c,this.reject=h})}runInitializers(){if(this.initialized)return;const u=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const m=this.appInits[h]();if(bf(m))u.push(m);else if(y_(m)){const b=new Promise((w,I)=>{m.subscribe({complete:w,error:I})});u.push(b)}}Promise.all(u).then(()=>{c()}).catch(h=>{this.reject(h)}),0===u.length&&c(),this.initialized=!0}}return o.\u0275fac=function(u){return new(u||o)(Ln(fm,8))},o.\u0275prov=gn({token:o,factory:o.\u0275fac}),o})();const Lv=new Tn("AppId"),eC={provide:Lv,useFactory:function(){return`${tC()}${tC()}${tC()}`},deps:[]};function tC(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const xI=new Tn("Platform Initializer"),Vv=new Tn("Platform ID"),SI=new Tn("appBootstrapListener");let MI=(()=>{class o{log(u){console.log(u)}warn(u){console.warn(u)}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=gn({token:o,factory:o.\u0275fac}),o})();const ap=new Tn("LocaleId"),RI=new Tn("DefaultCurrencyCode");class nC{constructor(a,u){this.ngModuleFactory=a,this.componentFactories=u}}const pm=function(o){return new fc(o)},rC=pm,PI=function(o){return Promise.resolve(pm(o))},Uv=function(o){const a=pm(o),c=Ds(cr(o).declarations).reduce((h,m)=>{const b=Er(m);return b&&h.push(new wv(b)),h},[]);return new nC(a,c)},LI=Uv,zM=function(o){return Promise.resolve(Uv(o))};let gm=(()=>{class o{constructor(){this.compileModuleSync=rC,this.compileModuleAsync=PI,this.compileModuleAndAllComponentsSync=LI,this.compileModuleAndAllComponentsAsync=zM}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=gn({token:o,factory:o.\u0275fac}),o})();const sC=(()=>Promise.resolve(0))();function jv(o){"undefined"==typeof Zone?sC.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class us{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new To(!1),this.onMicrotaskEmpty=new To(!1),this.onStable=new To(!1),this.onError=new To(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!c&&u,h.shouldCoalesceRunChangeDetection=c,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function(){let o=K.requestAnimationFrame,a=K.cancelAnimationFrame;if("undefined"!=typeof Zone&&o&&a){const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u);const c=a[Zone.__symbol__("OriginalDelegate")];c&&(a=c)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function(o){const a=()=>{!function(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(K,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,mm(o),o.isCheckStableRunning=!0,lp(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),mm(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,c,h,m,b,w)=>{try{return uC(o),u.invokeTask(h,m,b,w)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||o.shouldCoalesceRunChangeDetection)&&a(),Gv(o)}},onInvoke:(u,c,h,m,b,w,I)=>{try{return uC(o),u.invoke(h,m,b,w,I)}finally{o.shouldCoalesceRunChangeDetection&&a(),Gv(o)}},onHasTask:(u,c,h,m)=>{u.hasTask(h,m),c===h&&("microTask"==m.change?(o._hasPendingMicrotasks=m.microTask,mm(o),lp(o)):"macroTask"==m.change&&(o.hasPendingMacrotasks=m.macroTask))},onHandleError:(u,c,h,m)=>(u.handleError(h,m),o.runOutsideAngular(()=>o.onError.emit(m)),!1)})}(h)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!us.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(us.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(a,u,c){return this._inner.run(a,u,c)}runTask(a,u,c,h){const m=this._inner,b=m.scheduleEventTask("NgZoneEvent: "+h,a,aC,av,av);try{return m.runTask(b,u,c)}finally{m.cancelTask(b)}}runGuarded(a,u,c){return this._inner.runGuarded(a,u,c)}runOutsideAngular(a){return this._outer.run(a)}}const aC={};function lp(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function mm(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function uC(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function Gv(o){o._nesting--,lp(o)}class up{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new To,this.onMicrotaskEmpty=new To,this.onStable=new To,this.onError=new To}run(a,u,c){return a.apply(u,c)}runGuarded(a,u,c){return a.apply(u,c)}runOutsideAngular(a){return a()}runTask(a,u,c,h){return a.apply(u,c)}}let Hv=(()=>{class o{constructor(u){this._ngZone=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{us.assertNotInAngularZone(),jv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())jv(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(u)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,c,h){let m=-1;c&&c>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==m),u(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:u,timeoutId:m,updateCb:h})}whenStable(u,c,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,c,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(u,c,h){return[]}}return o.\u0275fac=function(u){return new(u||o)(Ln(us))},o.\u0275prov=gn({token:o,factory:o.\u0275fac}),o})(),UI=(()=>{class o{constructor(){this._applications=new Map,$v.addToWindow(this)}registerApplication(u,c){this._applications.set(u,c)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,c=!0){return $v.findTestabilityInTree(this,u,c)}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=gn({token:o,factory:o.\u0275fac}),o})();class KM{addToWindow(a){}findTestabilityInTree(a,u,c){return null}}function YM(o){$v=o}let $v=new KM,jI=!0,cC=!1;function dC(){return cC=!0,jI}function ZM(){if(cC)throw new Error("Cannot enable prod mode after platform setup.");jI=!1}let fa;const Yt=new Tn("AllowMultipleToken");class $I{constructor(a,u){this.name=a,this.token=u}}function dp(o,a,u=[]){const c=`Platform: ${a}`,h=new Tn(c);return(m=[])=>{let b=Ci();if(!b||b.injector.get(Yt,!1))if(o)o(u.concat(m).concat({provide:h,useValue:!0}));else{const w=u.concat(m).concat({provide:h,useValue:!0},{provide:tf,useValue:"platform"});!function(o){if(fa&&!fa.destroyed&&!fa.injector.get(Yt,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");fa=o.get(pa);const a=o.get(xI,null);a&&a.forEach(u=>u())}(Yn.create({providers:w,name:c}))}return function(o){const a=Ci();if(!a)throw new Error("No platform exists!");if(!a.injector.get(o,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return a}(h)}}function Ci(){return fa&&!fa.destroyed?fa:null}let pa=(()=>{class o{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,c){const w=function(o,a){let u;return u="noop"===o?new up:("zone.js"===o?void 0:o)||new us({enableLongStackTrace:dC(),shouldCoalesceEventChangeDetection:!!(null==a?void 0:a.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==a?void 0:a.ngZoneRunCoalescing)}),u}(c?c.ngZone:void 0,{ngZoneEventCoalescing:c&&c.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:c&&c.ngZoneRunCoalescing||!1}),I=[{provide:us,useValue:w}];return w.run(()=>{const S=Yn.create({providers:I,parent:this.injector,name:u.moduleType.name}),R=u.create(S),P=R.injector.get(Ae,null);if(!P)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return w.runOutsideAngular(()=>{const V=w.onError.subscribe({next:q=>{P.handleError(q)}});R.onDestroy(()=>{qv(this._modules,R),V.unsubscribe()})}),function(o,a,u){try{const c=u();return bf(c)?c.catch(h=>{throw a.runOutsideAngular(()=>o.handleError(h)),h}):c}catch(c){throw a.runOutsideAngular(()=>o.handleError(c)),c}}(P,w,()=>{const V=R.injector.get(Ms);return V.runInitializers(),V.donePromise.then(()=>(nr(R.injector.get(ap,U_)||U_),this._moduleDoBootstrap(R),R))})})}bootstrapModule(u,c=[]){const h=ym({},c);return function(o,a,u){const c=new fc(u);return Promise.resolve(c)}(0,0,u).then(m=>this.bootstrapModuleFactory(m,h))}_moduleDoBootstrap(u){const c=u.injector.get(hp);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(h=>c.bootstrap(h));else{if(!u.instance.ngDoBootstrap)throw new Error(`The module ${ne(u.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);u.instance.ngDoBootstrap(c)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(u){return new(u||o)(Ln(Yn))},o.\u0275prov=gn({token:o,factory:o.\u0275fac}),o})();function ym(o,a){return Array.isArray(a)?a.reduce(ym,o):Object.assign(Object.assign({},o),a)}let hp=(()=>{class o{constructor(u,c,h,m,b){this._zone=u,this._injector=c,this._exceptionHandler=h,this._componentFactoryResolver=m,this._initStatus=b,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new j.y(S=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{S.next(this._stable),S.complete()})}),I=new j.y(S=>{let R;this._zone.runOutsideAngular(()=>{R=this._zone.onStable.subscribe(()=>{us.assertNotInAngularZone(),jv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,S.next(!0))})})});const P=this._zone.onUnstable.subscribe(()=>{us.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{S.next(!1)}))});return()=>{R.unsubscribe(),P.unsubscribe()}});this.isStable=(0,Ee.T)(w,I.pipe(o=>(0,ve.x)()(function(o,a){return function(c){let h;h="function"==typeof o?o:function(){return o};const m=Object.create(c,ae.N);return m.source=c,m.subjectFactory=h,m}}(X)(o))))}bootstrap(u,c){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let h;h=u instanceof Ad?u:this._componentFactoryResolver.resolveComponentFactory(u),this.componentTypes.push(h.componentType);const m=function(o){return o.isBoundToModule}(h)?void 0:this._injector.get(sl),w=h.create(Yn.NULL,[],c||h.selector,m),I=w.location.nativeElement,S=w.injector.get(Hv,null),R=S&&w.injector.get(UI);return S&&R&&R.registerApplication(I,S),w.onDestroy(()=>{this.detachView(w.hostView),qv(this.components,w),R&&R.unregisterApplication(I)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const c=u;this._views.push(c),c.attachToAppRef(this)}detachView(u){const c=u;qv(this._views,c),c.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(SI,[]).concat(this._bootstrapListeners).forEach(h=>h(u))}ngOnDestroy(){this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return o.\u0275fac=function(u){return new(u||o)(Ln(us),Ln(Yn),Ln(Ae),Ln(nc),Ln(Ms))},o.\u0275prov=gn({token:o,factory:o.\u0275fac}),o})();function qv(o,a){const u=o.indexOf(a);u>-1&&o.splice(u,1)}class tR{}class rR{}const iR={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let ZI=(()=>{class o{constructor(u,c){this._compiler=u,this._config=c||iR}load(u){return this.loadAndCompile(u)}loadAndCompile(u){let[c,h]=u.split("#");return void 0===h&&(h="default"),B(8255)(c).then(m=>m[h]).then(m=>WI(m,c,h)).then(m=>this._compiler.compileModuleAsync(m))}loadFactory(u){let[c,h]=u.split("#"),m="NgFactory";return void 0===h&&(h="default",m=""),B(8255)(this._config.factoryPathPrefix+c+this._config.factoryPathSuffix).then(b=>b[h+m]).then(b=>WI(b,c,h))}}return o.\u0275fac=function(u){return new(u||o)(Ln(gm),Ln(rR,8))},o.\u0275prov=gn({token:o,factory:o.\u0275fac}),o})();function WI(o,a,u){if(!o)throw new Error(`Cannot find '${u}' in '${a}'`);return o}const lR=function(o){return null},yC=dp(null,"core",[{provide:Vv,useValue:"unknown"},{provide:pa,deps:[Yn]},{provide:UI,deps:[]},{provide:MI,deps:[]}]),_m=[{provide:hp,useClass:hp,deps:[us,Yn,Ae,nc,Ms]},{provide:pM,deps:[us],useFactory:function(o){let a=[];return o.onStable.subscribe(()=>{for(;a.length;)a.pop()()}),function(u){a.push(u)}}},{provide:Ms,useClass:Ms,deps:[[new ts,fm]]},{provide:gm,useClass:gm,deps:[]},eC,{provide:Hg,useFactory:function(){return zT},deps:[]},{provide:cv,useFactory:function(){return cE},deps:[]},{provide:ap,useFactory:function(o){return nr(o=o||"undefined"!=typeof $localize&&$localize.locale||U_),o},deps:[[new Ru(ap),new ts,new Ga]]},{provide:RI,useValue:"USD"}];let Qv=(()=>{class o{constructor(u){}}return o.\u0275fac=function(u){return new(u||o)(Ln(hp))},o.\u0275mod=fl({type:o}),o.\u0275inj=Hi({providers:_m}),o})()},8939:(et,Me,B)=>{"use strict";B.d(Me,{hO:()=>ne,xv:()=>X,Dh:()=>ve,GT:()=>ce,cc:()=>ue,on:()=>U,pX:()=>ae});var f=B(3018),oe=B(7841),j=B(6643);et=B.hmd(et);const Ee=["ngOnDestroy"],ae=(De,xe,ye,Oe={})=>new Proxy(De,{get:($e,ze)=>ye.runOutsideAngular(()=>{var St;if(De[ze])return(null===(St=null==Oe?void 0:Oe.spy)||void 0===St?void 0:St.get)&&Oe.spy.get(ze,De[ze]),De[ze];if(Ee.indexOf(ze)>-1)return()=>{};const Ct=xe.toPromise().then(Ne=>{const le=Ne&&Ne[ze];return"function"==typeof le?le.bind(Ne):le&&le.then?le.then(he=>ye.run(()=>he)):ye.run(()=>le)});return new Proxy(()=>{},{get:(Ne,le)=>Ct[le],apply:(Ne,le,he)=>Ct.then(_e=>{var ge;const je=_e&&_e(...he);return(null===(ge=null==Oe?void 0:Oe.spy)||void 0===ge?void 0:ge.apply)&&Oe.spy.apply(ze,he,je),je})})})}),ce=(De,xe)=>{xe.forEach(ye=>{Object.getOwnPropertyNames(ye.prototype||ye).forEach(Oe=>{Object.defineProperty(De.prototype,Oe,Object.getOwnPropertyDescriptor(ye.prototype||ye,Oe))})})};class pe{constructor(xe){return xe}}const ve=new f.OlP("angularfire2.app.options"),X=new f.OlP("angularfire2.app.name");function U(De,xe,ye){const $e="object"==typeof ye&&ye||{};$e.name=$e.name||"string"==typeof ye&&ye||"[DEFAULT]";const St=oe.Z.apps.filter(Ct=>Ct&&Ct.name===$e.name)[0]||xe.runOutsideAngular(()=>oe.Z.initializeApp(De,$e));try{JSON.stringify(De)!==JSON.stringify(St.options)&&G("error",`${St.name} Firebase App already initialized with different options${et.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ct){}return new pe(St)}const G=(De,...xe)=>{(0,f.X6Q)()&&"undefined"!=typeof console&&console[De](...xe)},ie={provide:pe,useFactory:U,deps:[ve,f.R0b,[new f.FiY,X]]};let ne=(()=>{class De{constructor(ye){oe.Z.registerVersion("angularfire",j.q4.full,"core"),oe.Z.registerVersion("angularfire",j.q4.full,"app-compat"),oe.Z.registerVersion("angular",f.q4F.full,ye.toString())}static initializeApp(ye,Oe){return{ngModule:De,providers:[{provide:ve,useValue:ye},{provide:X,useValue:Oe}]}}}return De.\u0275fac=function(ye){return new(ye||De)(f.LFG(f.Lbi))},De.\u0275mod=f.oAB({type:De}),De.\u0275inj=f.cJS({providers:[ie]}),De})();function ue(De,xe,ye,Oe,$e){const[,ze,St]=globalThis.\u0275AngularfireInstanceCache.find(Ct=>Ct[0]===De)||[];if(ze)return function(De,xe){try{return De.toString()===xe.toString()}catch(ye){return De===xe}}($e,St)||(Q("error",`${xe} was already initialized on the ${ye} Firebase App with different settings.${me?" You may need to reload as Firebase is not HMR aware.":""}`),Q("warn",{is:$e,was:St})),ze;{const Ct=Oe();return globalThis.\u0275AngularfireInstanceCache.push([De,Ct,$e]),Ct}}const me=!!et.hot,Q=(De,...xe)=>{(0,f.X6Q)()&&"undefined"!=typeof console&&console[De](...xe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6643:(et,Me,B)=>{"use strict";B.d(Me,{q4:()=>Ba,iC:()=>Nl,HU:()=>qp,vb:()=>Kn,JM:()=>Ih});var f=B(3018),oe=B(2329),j=B(8239),Ee=B(5452),ae=B(3854),ce=B(6034),pe=B(5601),ve=B(6676);const U="0.5.1",ie=`w:${U}`,ne="FIS_v2",xe=new ae.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ye(x){return x instanceof ae.ZR&&x.code.includes("request-failed")}function Oe({projectId:x}){return`https://firebaseinstallations.googleapis.com/v1/projects/${x}/installations`}function $e(x){return{token:x.token,requestStatus:2,expiresIn:_e(x.expiresIn),creationTime:Date.now()}}function ze(x,M){return St.apply(this,arguments)}function St(){return(St=(0,j.Z)(function*(x,M){const H=(yield M.json()).error;return xe.create("request-failed",{requestName:x,serverCode:H.code,serverMessage:H.message,serverStatus:H.status})})).apply(this,arguments)}function Ct({apiKey:x}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x})}function Ne(x,{refreshToken:M}){const F=Ct(x);return F.append("Authorization",function(x){return`${ne} ${x}`}(M)),F}function le(x){return he.apply(this,arguments)}function he(){return(he=(0,j.Z)(function*(x){const M=yield x();return M.status>=500&&M.status<600?x():M})).apply(this,arguments)}function _e(x){return Number(x.replace("s","000"))}function je(x,M){return be.apply(this,arguments)}function be(){return(be=(0,j.Z)(function*(x,{fid:M}){const F=Oe(x),we={method:"POST",headers:Ct(x),body:JSON.stringify({fid:M,authVersion:ne,appId:x.appId,sdkVersion:ie})},Pe=yield le(()=>fetch(F,we));if(Pe.ok){const Je=yield Pe.json();return{fid:Je.fid||M,registrationStatus:2,refreshToken:Je.refreshToken,authToken:$e(Je.authToken)}}throw yield ze("Create Installation",Pe)})).apply(this,arguments)}function ct(x){return new Promise(M=>{setTimeout(M,x)})}const Hn=/^[cdef][\w-]{21}$/;function en(){try{const x=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(x),x[0]=112+x[0]%16;const F=function(x){return function(x){return btoa(String.fromCharCode(...x)).replace(/\+/g,"-").replace(/\//g,"_")}(x).substr(0,22)}(x);return Hn.test(F)?F:""}catch(x){return""}}function nn(x){return`${x.appName}!${x.appId}`}const ur=new Map;function ii(x,M){const F=nn(x);$t(F,M),function(x,M){const F=(!Or&&"BroadcastChannel"in self&&(Or=new BroadcastChannel("[Firebase] FID Change"),Or.onmessage=x=>{$t(x.data.key,x.data.fid)}),Or);F&&F.postMessage({key:x,fid:M}),0===ur.size&&Or&&(Or.close(),Or=null)}(F,M)}function $t(x,M){const F=ur.get(x);if(F)for(const H of F)H(M)}let Or=null;const Ii="firebase-installations-store";let ps=null;function ks(){return ps||(ps=(0,ve.openDb)("firebase-installations-database",1,x=>{switch(x.oldVersion){case 0:x.createObjectStore(Ii)}})),ps}function $i(x,M){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,j.Z)(function*(x,M){const F=nn(x),te=(yield ks()).transaction(Ii,"readwrite"),we=te.objectStore(Ii),Pe=yield we.get(F);return yield we.put(M,F),yield te.complete,(!Pe||Pe.fid!==M.fid)&&ii(x,M.fid),M})).apply(this,arguments)}function Nr(x){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,j.Z)(function*(x){const M=nn(x),H=(yield ks()).transaction(Ii,"readwrite");yield H.objectStore(Ii).delete(M),yield H.complete})).apply(this,arguments)}function ft(x,M){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,j.Z)(function*(x,M){const F=nn(x),te=(yield ks()).transaction(Ii,"readwrite"),we=te.objectStore(Ii),Pe=yield we.get(F),Je=M(Pe);return void 0===Je?yield we.delete(F):yield we.put(Je,F),yield te.complete,Je&&(!Pe||Pe.fid!==Je.fid)&&ii(x,Je.fid),Je})).apply(this,arguments)}function Wt(x){return un.apply(this,arguments)}function un(){return(un=(0,j.Z)(function*(x){let M;const F=yield ft(x,H=>{const te=En(H),we=qt(x,te);return M=we.registrationPromise,we.installationEntry});return""===F.fid?{installationEntry:yield M}:{installationEntry:F,registrationPromise:M}})).apply(this,arguments)}function En(x){return Cn(x||{fid:en(),registrationStatus:0})}function qt(x,M){if(0===M.registrationStatus){if(!navigator.onLine)return{installationEntry:M,registrationPromise:Promise.reject(xe.create("app-offline"))};const F={fid:M.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:F,registrationPromise:function(x,M){return it.apply(this,arguments)}(x,F)}}return 1===M.registrationStatus?{installationEntry:M,registrationPromise:xn(x)}:{installationEntry:M}}function it(){return(it=(0,j.Z)(function*(x,M){try{return $i(x,yield je(x,M))}catch(F){throw ye(F)&&409===F.customData.serverCode?yield Nr(x):yield $i(x,{fid:M.fid,registrationStatus:0}),F}})).apply(this,arguments)}function xn(x){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,j.Z)(function*(x){let M=yield zi(x);for(;1===M.registrationStatus;)yield ct(100),M=yield zi(x);if(0===M.registrationStatus){const{installationEntry:F,registrationPromise:H}=yield Wt(x);return H||F}return M})).apply(this,arguments)}function zi(x){return ft(x,M=>{if(!M)throw xe.create("installation-not-found");return Cn(M)})}function Cn(x){return function(x){return 1===x.registrationStatus&&x.registrationTime+1e4<Date.now()}(x)?{fid:x.fid,registrationStatus:0}:x}function No(x,M){return Y.apply(this,arguments)}function Y(){return(Y=(0,j.Z)(function*({appConfig:x,platformLoggerProvider:M},F){const H=W(x,F),te=Ne(x,F),we=M.getImmediate({optional:!0});we&&te.append("x-firebase-client",we.getPlatformInfoString());const Je={method:"POST",headers:te,body:JSON.stringify({installation:{sdkVersion:ie}})},Xe=yield le(()=>fetch(H,Je));if(Xe.ok)return $e(yield Xe.json());throw yield ze("Generate Auth Token",Xe)})).apply(this,arguments)}function W(x,{fid:M}){return`${Oe(x)}/${M}/authTokens:generate`}function K(x){return ke.apply(this,arguments)}function ke(){return(ke=(0,j.Z)(function*(x,M=!1){let F;const H=yield ft(x.appConfig,we=>{if(!ln(we))throw xe.create("not-registered");const Pe=we.authToken;if(!M&&si(Pe))return we;if(1===Pe.requestStatus)return F=de(x,M),we;{if(!navigator.onLine)throw xe.create("app-offline");const Je=dn(we);return F=Kt(x,Je),Je}});return F?yield F:H.authToken})).apply(this,arguments)}function de(x,M){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,j.Z)(function*(x,M){let F=yield Ze(x.appConfig);for(;1===F.authToken.requestStatus;)yield ct(100),F=yield Ze(x.appConfig);const H=F.authToken;return 0===H.requestStatus?K(x,M):H})).apply(this,arguments)}function Ze(x){return ft(x,M=>{if(!ln(M))throw xe.create("not-registered");return function(x){return 1===x.requestStatus&&x.requestTime+1e4<Date.now()}(M.authToken)?Object.assign(Object.assign({},M),{authToken:{requestStatus:0}}):M})}function Kt(x,M){return cn.apply(this,arguments)}function cn(){return(cn=(0,j.Z)(function*(x,M){try{const F=yield No(x,M),H=Object.assign(Object.assign({},M),{authToken:F});return yield $i(x.appConfig,H),F}catch(F){if(!ye(F)||401!==F.customData.serverCode&&404!==F.customData.serverCode){const H=Object.assign(Object.assign({},M),{authToken:{requestStatus:0}});yield $i(x.appConfig,H)}else yield Nr(x.appConfig);throw F}})).apply(this,arguments)}function ln(x){return void 0!==x&&2===x.registrationStatus}function si(x){return 2===x.requestStatus&&!function(x){const M=Date.now();return M<x.creationTime||x.creationTime+x.expiresIn<M+36e5}(x)}function dn(x){const M={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},x),{authToken:M})}function va(){return(va=(0,j.Z)(function*(x){const M=x,{installationEntry:F,registrationPromise:H}=yield Wt(M.appConfig);return H?H.catch(console.error):K(M).catch(console.error),F.fid})).apply(this,arguments)}function hl(){return(hl=(0,j.Z)(function*(x,M=!1){const F=x;return yield cu(F.appConfig),(yield K(F,M)).token})).apply(this,arguments)}function cu(x){return no.apply(this,arguments)}function no(){return(no=(0,j.Z)(function*(x){const{registrationPromise:M}=yield Wt(x);M&&(yield M)})).apply(this,arguments)}function cr(x){return xe.create("missing-app-config-values",{valueName:x})}const nh="installations";(0,Ee._registerComponent)(new ce.wA(nh,x=>{const M=x.getProvider("app").getImmediate();return{app:M,appConfig:function(x){if(!x||!x.options)throw cr("App Configuration");if(!x.name)throw cr("App Name");const M=["projectId","apiKey","appId"];for(const F of M)if(!x.options[F])throw cr(F);return{appName:x.name,projectId:x.options.projectId,apiKey:x.options.apiKey,appId:x.options.appId}}(M),platformLoggerProvider:(0,Ee._getProvider)(M,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,Ee._registerComponent)(new ce.wA("installations-internal",x=>{const M=x.getProvider("app").getImmediate(),F=(0,Ee._getProvider)(M,nh).getImmediate();return{getId:()=>function(x){return va.apply(this,arguments)}(F),getToken:te=>function(x){return hl.apply(this,arguments)}(F,te)}},"PRIVATE")),(0,Ee.registerVersion)("@firebase/installations",U);const jr="@firebase/remote-config",Fn=new ae.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ic{constructor(M,F,H,te){this.client=M,this.storage=F,this.storageCache=H,this.logger=te}isCachedDataFresh(M,F){if(!F)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const H=Date.now()-F,te=H<=M;return this.logger.debug(`Config fetch cache check. Cache age millis: ${H}. Cache max age millis (minimumFetchIntervalMillis setting): ${M}. Is cache hit: ${te}.`),te}fetch(M){var F=this;return(0,j.Z)(function*(){const[H,te]=yield Promise.all([F.storage.getLastSuccessfulFetchTimestampMillis(),F.storage.getLastSuccessfulFetchResponse()]);if(te&&F.isCachedDataFresh(M.cacheMaxAgeMillis,H))return te;M.eTag=te&&te.eTag;const we=yield F.client.fetch(M),Pe=[F.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===we.status&&Pe.push(F.storage.setLastSuccessfulFetchResponse(we)),yield Promise.all(Pe),we})()}}function ai(x=navigator){return x.languages&&x.languages[0]||x.language}class Jt{constructor(M,F,H,te,we,Pe){this.firebaseInstallations=M,this.sdkVersion=F,this.namespace=H,this.projectId=te,this.apiKey=we,this.appId=Pe}fetch(M){var F=this;return(0,j.Z)(function*(){const[H,te]=yield Promise.all([F.firebaseInstallations.getId(),F.firebaseInstallations.getToken()]),Pe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${F.projectId}/namespaces/${F.namespace}:fetch?key=${F.apiKey}`,Je={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":M.eTag||"*"},Xe={sdk_version:F.sdkVersion,app_instance_id:H,app_instance_id_token:te,app_id:F.appId,language_code:ai()},zt={method:"POST",headers:Je,body:JSON.stringify(Xe)},tn=fetch(Pe,zt),di=new Promise((Ks,hi)=>{M.signal.addEventListener(()=>{const kl=new Error("The operation was aborted.");kl.name="AbortError",hi(kl)})});let Ar;try{yield Promise.race([tn,di]),Ar=yield tn}catch(Ks){let hi="fetch-client-network";throw"AbortError"===Ks.name&&(hi="fetch-timeout"),Fn.create(hi,{originalErrorMessage:Ks.message})}let Rn=Ar.status;const bo=Ar.headers.get("ETag")||void 0;let zc,Xi;if(200===Ar.status){let Ks;try{Ks=yield Ar.json()}catch(hi){throw Fn.create("fetch-client-parse",{originalErrorMessage:hi.message})}zc=Ks.entries,Xi=Ks.state}if("INSTANCE_STATE_UNSPECIFIED"===Xi?Rn=500:"NO_CHANGE"===Xi?Rn=304:("NO_TEMPLATE"===Xi||"EMPTY_CONFIG"===Xi)&&(zc={}),304!==Rn&&200!==Rn)throw Fn.create("fetch-status",{httpStatus:Rn});return{status:Rn,eTag:bo,config:zc}})()}}class li{constructor(M,F){this.client=M,this.storage=F}fetch(M){var F=this;return(0,j.Z)(function*(){const H=(yield F.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return F.attemptFetch(M,H)})()}attemptFetch(M,{throttleEndTimeMillis:F,backoffCount:H}){var te=this;return(0,j.Z)(function*(){yield function(x,M){return new Promise((F,H)=>{const te=Math.max(M-Date.now(),0),we=setTimeout(F,te);x.addEventListener(()=>{clearTimeout(we),H(Fn.create("fetch-throttle",{throttleEndTimeMillis:M}))})})}(M.signal,F);try{const we=yield te.client.fetch(M);return yield te.storage.deleteThrottleMetadata(),we}catch(we){if(!function(x){if(!(x instanceof ae.ZR&&x.customData))return!1;const M=Number(x.customData.httpStatus);return 429===M||500===M||503===M||504===M}(we))throw we;const Pe={throttleEndTimeMillis:Date.now()+(0,ae.$s)(H),backoffCount:H+1};return yield te.storage.setThrottleMetadata(Pe),te.attemptFetch(M,Pe)}})()}}class jm{constructor(M,F,H,te,we){this.app=M,this._client=F,this._storageCache=H,this._storage=te,this._logger=we,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ea(x,M){const F=x.target.error||void 0;return Fn.create(M,{originalErrorMessage:F&&F.message})}const Lo="app_namespace_store";class oh{constructor(M,F,H,te=function(){return new Promise((x,M)=>{try{const F=indexedDB.open("firebase_remote_config",1);F.onerror=H=>{M(Ea(H,"storage-open"))},F.onsuccess=H=>{x(H.target.result)},F.onupgradeneeded=H=>{const te=H.target.result;switch(H.oldVersion){case 0:te.createObjectStore(Lo,{keyPath:"compositeKey"})}}}catch(F){M(Fn.create("storage-open",{originalErrorMessage:F}))}})}()){this.appId=M,this.appName=F,this.namespace=H,this.openDbPromise=te}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(M){return this.set("last_fetch_status",M)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(M){return this.set("last_successful_fetch_timestamp_millis",M)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(M){return this.set("last_successful_fetch_response",M)}getActiveConfig(){return this.get("active_config")}setActiveConfig(M){return this.set("active_config",M)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(M){return this.set("active_config_etag",M)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(M){return this.set("throttle_metadata",M)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(M){var F=this;return(0,j.Z)(function*(){const H=yield F.openDbPromise;return new Promise((te,we)=>{const Je=H.transaction([Lo],"readonly").objectStore(Lo),Xe=F.createCompositeKey(M);try{const zt=Je.get(Xe);zt.onerror=tn=>{we(Ea(tn,"storage-get"))},zt.onsuccess=tn=>{const di=tn.target.result;te(di?di.value:void 0)}}catch(zt){we(Fn.create("storage-get",{originalErrorMessage:zt&&zt.message}))}})})()}set(M,F){var H=this;return(0,j.Z)(function*(){const te=yield H.openDbPromise;return new Promise((we,Pe)=>{const Xe=te.transaction([Lo],"readwrite").objectStore(Lo),zt=H.createCompositeKey(M);try{const tn=Xe.put({compositeKey:zt,value:F});tn.onerror=di=>{Pe(Ea(di,"storage-set"))},tn.onsuccess=()=>{we()}}catch(tn){Pe(Fn.create("storage-set",{originalErrorMessage:tn&&tn.message}))}})})()}delete(M){var F=this;return(0,j.Z)(function*(){const H=yield F.openDbPromise;return new Promise((te,we)=>{const Je=H.transaction([Lo],"readwrite").objectStore(Lo),Xe=F.createCompositeKey(M);try{const zt=Je.delete(Xe);zt.onerror=tn=>{we(Ea(tn,"storage-delete"))},zt.onsuccess=()=>{te()}}catch(zt){we(Fn.create("storage-delete",{originalErrorMessage:zt&&zt.message}))}})})()}createCompositeKey(M){return[this.appId,this.appName,this.namespace,M].join()}}class Ca{constructor(M){this.storage=M}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var M=this;return(0,j.Z)(function*(){const F=M.storage.getLastFetchStatus(),H=M.storage.getLastSuccessfulFetchTimestampMillis(),te=M.storage.getActiveConfig(),we=yield F;we&&(M.lastFetchStatus=we);const Pe=yield H;Pe&&(M.lastSuccessfulFetchTimestampMillis=Pe);const Je=yield te;Je&&(M.activeConfig=Je)})()}setLastFetchStatus(M){return this.lastFetchStatus=M,this.storage.setLastFetchStatus(M)}setLastSuccessfulFetchTimestampMillis(M){return this.lastSuccessfulFetchTimestampMillis=M,this.storage.setLastSuccessfulFetchTimestampMillis(M)}setActiveConfig(M){return this.activeConfig=M,this.storage.setActiveConfig(M)}}function zm(){return fu.apply(this,arguments)}function fu(){return(fu=(0,j.Z)(function*(){if(!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch(x){return!1}})).apply(this,arguments)}(0,Ee._registerComponent)(new ce.wA("remote-config",function(M,{instanceIdentifier:F}){const H=M.getProvider("app").getImmediate(),te=M.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Fn.create("registration-window");if(!(0,ae.hl)())throw Fn.create("indexed-db-unavailable");const{projectId:we,apiKey:Pe,appId:Je}=H.options;if(!we)throw Fn.create("registration-project-id");if(!Pe)throw Fn.create("registration-api-key");if(!Je)throw Fn.create("registration-app-id");const Xe=new oh(Je,H.name,F=F||"firebase"),zt=new Ca(Xe),tn=new pe.Yd(jr);tn.logLevel=pe.in.ERROR;const di=new Jt(te,Ee.SDK_VERSION,F,we,Pe,Je),Ar=new li(di,Xe),Rn=new Ic(Ar,Xe,zt,tn),bo=new jm(H,Rn,zt,Xe,tn);return function(x){const M=(0,ae.m9)(x);M._initializePromise||(M._initializePromise=M._storageCache.loadFromStorage().then(()=>{M._isInitializationComplete=!0}))}(bo),bo},"PUBLIC").setMultipleInstances(!0)),(0,Ee.registerVersion)(jr,"0.3.0");const Vo="/firebase-messaging-sw.js",yl="/firebase-cloud-messaging-push-scope",ao="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",pu="google.c.a.c_id",Tc="google.c.a.c_l",Rp="google.c.a.ts",Aa="google.c.a.e";var Gr=(()=>{return(x=Gr||(Gr={})).PUSH_RECEIVED="push-received",x.NOTIFICATION_CLICKED="notification-clicked",Gr;var x})();function Yi(x){const M=new Uint8Array(x);return btoa(String.fromCharCode(...M)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function gs(x){const F=(x+"=".repeat((4-x.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),H=atob(F),te=new Uint8Array(H.length);for(let we=0;we<H.length;++we)te[we]=H.charCodeAt(we);return te}const ui="fcm_token_details_db",ah="fcm_token_object_Store";function Op(x){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,j.Z)(function*(x){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(we=>we.name).includes(ui))return null;let M=null;return(yield(0,ve.openDb)(ui,5,function(){var H=(0,j.Z)(function*(te){var we;if(te.oldVersion<2||!te.objectStoreNames.contains(ah))return;const Pe=te.transaction.objectStore(ah),Je=yield Pe.index("fcmSenderId").get(x);if(yield Pe.clear(),Je)if(2===te.oldVersion){const Xe=Je;if(!Xe.auth||!Xe.p256dh||!Xe.endpoint)return;M={token:Xe.fcmToken,createTime:null!==(we=Xe.createTime)&&void 0!==we?we:Date.now(),subscriptionOptions:{auth:Xe.auth,p256dh:Xe.p256dh,endpoint:Xe.endpoint,swScope:Xe.swScope,vapidKey:"string"==typeof Xe.vapidKey?Xe.vapidKey:Yi(Xe.vapidKey)}}}else if(3===te.oldVersion){const Xe=Je;M={token:Xe.fcmToken,createTime:Xe.createTime,subscriptionOptions:{auth:Yi(Xe.auth),p256dh:Yi(Xe.p256dh),endpoint:Xe.endpoint,swScope:Xe.swScope,vapidKey:Yi(Xe.vapidKey)}}}else if(4===te.oldVersion){const Xe=Je;M={token:Xe.fcmToken,createTime:Xe.createTime,subscriptionOptions:{auth:Yi(Xe.auth),p256dh:Yi(Xe.p256dh),endpoint:Xe.endpoint,swScope:Xe.swScope,vapidKey:Yi(Xe.vapidKey)}}}});return function(te){return H.apply(this,arguments)}}())).close(),yield(0,ve.deleteDb)(ui),yield(0,ve.deleteDb)("fcm_vapid_details_db"),yield(0,ve.deleteDb)("undefined"),gu(M)?M:null})).apply(this,arguments)}function gu(x){if(!x||!x.subscriptionOptions)return!1;const{subscriptionOptions:M}=x;return"number"==typeof x.createTime&&x.createTime>0&&"string"==typeof x.token&&x.token.length>0&&"string"==typeof M.auth&&M.auth.length>0&&"string"==typeof M.p256dh&&M.p256dh.length>0&&"string"==typeof M.endpoint&&M.endpoint.length>0&&"string"==typeof M.swScope&&M.swScope.length>0&&"string"==typeof M.vapidKey&&M.vapidKey.length>0}const hr="firebase-messaging-store";let Uo=null;function Ia(){return Uo||(Uo=(0,ve.openDb)("firebase-messaging-database",1,x=>{switch(x.oldVersion){case 0:x.createObjectStore(hr)}})),Uo}function lo(x){return ms.apply(this,arguments)}function ms(){return(ms=(0,j.Z)(function*(x){const M=Sa(x),H=yield(yield Ia()).transaction(hr).objectStore(hr).get(M);if(H)return H;{const te=yield Op(x.appConfig.senderId);if(te)return yield jo(x,te),te}})).apply(this,arguments)}function jo(x,M){return xa.apply(this,arguments)}function xa(){return(xa=(0,j.Z)(function*(x,M){const F=Sa(x),te=(yield Ia()).transaction(hr,"readwrite");return yield te.objectStore(hr).put(M,F),yield te.complete,M})).apply(this,arguments)}function mn(x){return mu.apply(this,arguments)}function mu(){return(mu=(0,j.Z)(function*(x){const M=Sa(x),H=(yield Ia()).transaction(hr,"readwrite");yield H.objectStore(hr).delete(M),yield H.complete})).apply(this,arguments)}function Sa({appConfig:x}){return x.appId}const Ot=new ae.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function uh(x,M){return _u.apply(this,arguments)}function _u(){return(_u=(0,j.Z)(function*(x,M){const F=yield fr(x),H=Ta(M),te={method:"POST",headers:F,body:JSON.stringify(H)};let we;try{we=yield(yield fetch(Go(x.appConfig),te)).json()}catch(Pe){throw Ot.create("token-subscribe-failed",{errorInfo:Pe})}if(we.error)throw Ot.create("token-subscribe-failed",{errorInfo:we.error.message});if(!we.token)throw Ot.create("token-subscribe-no-token");return we.token})).apply(this,arguments)}function vl(x,M){return kr.apply(this,arguments)}function kr(){return(kr=(0,j.Z)(function*(x,M){const F=yield fr(x),H=Ta(M.subscriptionOptions),te={method:"PATCH",headers:F,body:JSON.stringify(H)};let we;try{we=yield(yield fetch(`${Go(x.appConfig)}/${M.token}`,te)).json()}catch(Pe){throw Ot.create("token-update-failed",{errorInfo:Pe})}if(we.error)throw Ot.create("token-update-failed",{errorInfo:we.error.message});if(!we.token)throw Ot.create("token-update-no-token");return we.token})).apply(this,arguments)}function Np(x,M){return ys.apply(this,arguments)}function ys(){return(ys=(0,j.Z)(function*(x,M){const H={method:"DELETE",headers:yield fr(x)};try{const we=yield(yield fetch(`${Go(x.appConfig)}/${M}`,H)).json();if(we.error)throw Ot.create("token-unsubscribe-failed",{errorInfo:we.error.message})}catch(te){throw Ot.create("token-unsubscribe-failed",{errorInfo:te})}})).apply(this,arguments)}function Go({projectId:x}){return`https://fcmregistrations.googleapis.com/v1/projects/${x}/registrations`}function fr(x){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,j.Z)(function*({appConfig:x,installations:M}){const F=yield M.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x.apiKey,"x-goog-firebase-installations-auth":`FIS ${F}`})})).apply(this,arguments)}function Ta({p256dh:x,auth:M,endpoint:F,vapidKey:H}){const te={web:{endpoint:F,auth:M,p256dh:x}};return H!==ao&&(te.web.applicationPubKey=H),te}const bl=6048e5;function uo(x){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,j.Z)(function*(x){const M=yield Mc(x.swRegistration,x.vapidKey),F={vapidKey:x.vapidKey,swScope:x.swRegistration.scope,endpoint:M.endpoint,auth:Yi(M.getKey("auth")),p256dh:Yi(M.getKey("p256dh"))},H=yield lo(x.firebaseDependencies);if(H){if(ch(H.subscriptionOptions,F))return Date.now()>=H.createTime+bl?qm(x,{token:H.token,createTime:Date.now(),subscriptionOptions:F}):H.token;try{yield Np(x.firebaseDependencies,H.token)}catch(te){console.warn(te)}return Ra(x.firebaseDependencies,F)}return Ra(x.firebaseDependencies,F)})).apply(this,arguments)}function vu(x){return yt.apply(this,arguments)}function yt(){return(yt=(0,j.Z)(function*(x){const M=yield lo(x.firebaseDependencies);M&&(yield Np(x.firebaseDependencies,M.token),yield mn(x.firebaseDependencies));const F=yield x.swRegistration.pushManager.getSubscription();return!F||F.unsubscribe()})).apply(this,arguments)}function qm(x,M){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,j.Z)(function*(x,M){try{const F=yield vl(x.firebaseDependencies,M),H=Object.assign(Object.assign({},M),{token:F,createTime:Date.now()});return yield jo(x.firebaseDependencies,H),F}catch(F){throw yield vu(x),F}})).apply(this,arguments)}function Ra(x,M){return $o.apply(this,arguments)}function $o(){return($o=(0,j.Z)(function*(x,M){const H={token:yield uh(x,M),createTime:Date.now(),subscriptionOptions:M};return yield jo(x,H),H.token})).apply(this,arguments)}function Mc(x,M){return Us.apply(this,arguments)}function Us(){return(Us=(0,j.Z)(function*(x,M){return(yield x.pushManager.getSubscription())||x.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:gs(M)})})).apply(this,arguments)}function ch(x,M){return M.vapidKey===x.vapidKey&&M.endpoint===x.endpoint&&M.auth===x.auth&&M.p256dh===x.p256dh}function Fe(x){const M={from:x.from,collapseKey:x.collapse_key,messageId:x.fcm_message_id};return function(x,M){if(!M.notification)return;x.notification={};const F=M.notification.title;F&&(x.notification.title=F);const H=M.notification.body;H&&(x.notification.body=H);const te=M.notification.image;te&&(x.notification.image=te)}(M,x),function(x,M){!M.data||(x.data=M.data)}(M,x),function(x,M){if(!M.fcmOptions)return;x.fcmOptions={};const F=M.fcmOptions.link;F&&(x.fcmOptions.link=F);const H=M.fcmOptions.analytics_label;H&&(x.fcmOptions.analyticsLabel=H)}(M,x),M}function dh(x){return"object"==typeof x&&!!x&&pu in x}function Oa(x,M){const F=[];for(let H=0;H<x.length;H++)F.push(x.charAt(H)),H<M.length&&F.push(M.charAt(H));return F.join("")}function wl(x){return Ot.create("missing-app-config-values",{valueName:x})}Oa("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Oa("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class co{constructor(M,F,H){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const te=function(x){if(!x||!x.options)throw wl("App Configuration Object");if(!x.name)throw wl("App Name");const M=["projectId","apiKey","appId","messagingSenderId"],{options:F}=x;for(const H of M)if(!F[H])throw wl(H);return{appName:x.name,projectId:F.projectId,apiKey:F.apiKey,appId:F.appId,senderId:F.messagingSenderId}}(M);this.firebaseDependencies={app:M,appConfig:te,installations:F,analyticsProvider:H}}_delete(){return Promise.resolve()}}function hh(x){return bu.apply(this,arguments)}function bu(){return(bu=(0,j.Z)(function*(x){try{x.swRegistration=yield navigator.serviceWorker.register(Vo,{scope:yl}),x.swRegistration.update().catch(()=>{})}catch(M){throw Ot.create("failed-service-worker-registration",{browserErrorMessage:M.message})}})).apply(this,arguments)}function zo(x,M){return _s.apply(this,arguments)}function _s(){return(_s=(0,j.Z)(function*(x,M){if(!M&&!x.swRegistration&&(yield hh(x)),M||!x.swRegistration){if(!(M instanceof ServiceWorkerRegistration))throw Ot.create("invalid-sw-registration");x.swRegistration=M}})).apply(this,arguments)}function Hr(x,M){return $r.apply(this,arguments)}function $r(){return($r=(0,j.Z)(function*(x,M){M?x.vapidKey=M:x.vapidKey||(x.vapidKey=ao)})).apply(this,arguments)}function vs(){return(vs=(0,j.Z)(function*(x,M){if(!navigator)throw Ot.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ot.create("permission-blocked");return yield Hr(x,null==M?void 0:M.vapidKey),yield zo(x,null==M?void 0:M.serviceWorkerRegistration),uo(x)})).apply(this,arguments)}function js(x,M,F){return El.apply(this,arguments)}function El(){return(El=(0,j.Z)(function*(x,M,F){const H=fh(M);(yield x.firebaseDependencies.analyticsProvider.get()).logEvent(H,{message_id:F[pu],message_name:F[Tc],message_time:F[Rp],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function fh(x){switch(x){case Gr.NOTIFICATION_CLICKED:return"notification_open";case Gr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Cl(){return(Cl=(0,j.Z)(function*(x,M){const F=M.data;if(!F.isFirebaseMessaging)return;x.onMessageHandler&&F.messageType===Gr.PUSH_RECEIVED&&("function"==typeof x.onMessageHandler?x.onMessageHandler(Fe(F)):x.onMessageHandler.next(Fe(F)));const H=F.data;dh(H)&&"1"===H[Aa]&&(yield js(x,F.messageType,H))})).apply(this,arguments)}function Eu(){return kc.apply(this,arguments)}function kc(){return(kc=(0,j.Z)(function*(){return"undefined"!=typeof window&&(0,ae.hl)()&&(yield(0,ae.eu)())&&(0,ae.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,Ee._registerComponent)(new ce.wA("messaging",x=>{const M=new co(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),x.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",F=>function(x,M){return Cl.apply(this,arguments)}(M,F)),M},"PUBLIC")),(0,Ee._registerComponent)(new ce.wA("messaging-internal",x=>{const M=x.getProvider("messaging").getImmediate();return{getToken:H=>function(x,M){return vs.apply(this,arguments)}(M,H)}},"PRIVATE"));const mh="analytics",zr="firebase_id",bs="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Cu="https://www.googletagmanager.com/gtag/js",zn=new pe.Yd("@firebase/analytics");function yh(x){return Promise.all(x.map(M=>M.catch(F=>F)))}function Vp(x,M){const F=document.createElement("script");F.src=`${Cu}?l=${x}&id=${M}`,F.async=!0,document.head.appendChild(F)}function Na(x,M,F,H,te,we){return ho.apply(this,arguments)}function ho(){return(ho=(0,j.Z)(function*(x,M,F,H,te,we){const Pe=H[te];try{if(Pe)yield M[Pe];else{const Xe=(yield yh(F)).find(zt=>zt.measurementId===te);Xe&&(yield M[Xe.appId])}}catch(Je){zn.error(Je)}x("config",te,we)})).apply(this,arguments)}function Fc(x,M,F,H,te){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,j.Z)(function*(x,M,F,H,te){try{let we=[];if(te&&te.send_to){let Pe=te.send_to;Array.isArray(Pe)||(Pe=[Pe]);const Je=yield yh(F);for(const Xe of Pe){const zt=Je.find(di=>di.measurementId===Xe),tn=zt&&M[zt.appId];if(!tn){we=[];break}we.push(tn)}}0===we.length&&(we=Object.values(M)),yield Promise.all(we),x("event",H,te||{})}catch(we){zn.error(we)}})).apply(this,arguments)}function fo(){const x=window.document.getElementsByTagName("script");for(const M of Object.values(x))if(M.src&&M.src.includes(Cu))return M;return null}const Wi=new ae.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),_h=new class{constructor(M={},F=1e3){this.throttleMetadata=M,this.intervalMillis=F}getThrottleMetadata(M){return this.throttleMetadata[M]}setThrottleMetadata(M,F){this.throttleMetadata[M]=F}deleteThrottleMetadata(M){delete this.throttleMetadata[M]}};function po(x){return new Headers({Accept:"application/json","x-goog-api-key":x})}function Au(x){return vh.apply(this,arguments)}function vh(){return(vh=(0,j.Z)(function*(x){var M;const{appId:F,apiKey:H}=x,te={method:"GET",headers:po(H)},we=bs.replace("{app-id}",F),Pe=yield fetch(we,te);if(200!==Pe.status&&304!==Pe.status){let Je="";try{const Xe=yield Pe.json();(null===(M=Xe.error)||void 0===M?void 0:M.message)&&(Je=Xe.error.message)}catch(Xe){}throw Wi.create("config-fetch-failed",{httpStatus:Pe.status,responseMessage:Je})}return Pe.json()})).apply(this,arguments)}function _n(x){return Al.apply(this,arguments)}function Al(){return(Al=(0,j.Z)(function*(x,M=_h,F){const{appId:H,apiKey:te,measurementId:we}=x.options;if(!H)throw Wi.create("no-app-id");if(!te){if(we)return{measurementId:we,appId:H};throw Wi.create("no-api-key")}const Pe=M.getThrottleMetadata(H)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Je=new Sl;return setTimeout((0,j.Z)(function*(){Je.abort()}),void 0!==F?F:6e4),Il({appId:H,apiKey:te,measurementId:we},Pe,Je,M)})).apply(this,arguments)}function Il(x,M,F){return xl.apply(this,arguments)}function xl(){return(xl=(0,j.Z)(function*(x,{throttleEndTimeMillis:M,backoffCount:F},H,te=_h){const{appId:we,measurementId:Pe}=x;try{yield Vc(H,M)}catch(Je){if(Pe)return zn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Pe} provided in the "measurementId" field in the local Firebase config. [${Je.message}]`),{appId:we,measurementId:Pe};throw Je}try{const Je=yield Au(x);return te.deleteThrottleMetadata(we),Je}catch(Je){if(!bh(Je)){if(te.deleteThrottleMetadata(we),Pe)return zn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Pe} provided in the "measurementId" field in the local Firebase config. [${Je.message}]`),{appId:we,measurementId:Pe};throw Je}const Xe=503===Number(Je.customData.httpStatus)?(0,ae.$s)(F,te.intervalMillis,30):(0,ae.$s)(F,te.intervalMillis),zt={throttleEndTimeMillis:Date.now()+Xe,backoffCount:F+1};return te.setThrottleMetadata(we,zt),zn.debug(`Calling attemptFetch again in ${Xe} millis`),Il(x,zt,H,te)}})).apply(this,arguments)}function Vc(x,M){return new Promise((F,H)=>{const te=Math.max(M-Date.now(),0),we=setTimeout(F,te);x.addEventListener(()=>{clearTimeout(we),H(Wi.create("fetch-throttle",{throttleEndTimeMillis:M}))})})}function bh(x){if(!(x instanceof ae.ZR&&x.customData))return!1;const M=Number(x.customData.httpStatus);return 429===M||500===M||503===M||504===M}class Sl{constructor(){this.listeners=[]}addEventListener(M){this.listeners.push(M)}abort(){this.listeners.forEach(M=>M())}}function wh(){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,j.Z)(function*(){if(!(0,ae.hl)())return zn.warn(Wi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ae.eu)()}catch(x){return zn.warn(Wi.create("indexeddb-unavailable",{errorInfo:x}).message),!1}return!0})).apply(this,arguments)}function ka(){return(ka=(0,j.Z)(function*(x,M,F,H,te,we,Pe){var Je;const Xe=_n(x);Xe.then(Rn=>{F[Rn.measurementId]=Rn.appId,x.options.measurementId&&Rn.measurementId!==x.options.measurementId&&zn.warn(`The measurement ID in the local Firebase config (${x.options.measurementId}) does not match the measurement ID fetched from the server (${Rn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Rn=>zn.error(Rn)),M.push(Xe);const zt=wh().then(Rn=>{if(Rn)return H.getId()}),[tn,di]=yield Promise.all([Xe,zt]);fo()||Vp(we,tn.measurementId),te("js",new Date);const Ar=null!==(Je=null==Pe?void 0:Pe.config)&&void 0!==Je?Je:{};return Ar.origin="firebase",Ar.update=!0,null!=di&&(Ar[zr]=di),te("config",tn.measurementId,Ar),tn.measurementId})).apply(this,arguments)}class Iu{constructor(M){this.app=M}_delete(){return delete Ti[this.app.options.appId],Promise.resolve()}}let Ti={},vn=[];const dt={};let Dr,ws,Pn="dataLayer",$s=!1;function Gp(x,M,F){!function(){const x=[];if((0,ae.ru)()&&x.push("This is a browser extension environment."),(0,ae.zI)()||x.push("Cookies are not available."),x.length>0){const M=x.map((H,te)=>`(${te+1}) ${H}`).join(" "),F=Wi.create("invalid-analytics-context",{errorInfo:M});zn.warn(F.message)}}();const H=x.options.appId;if(!H)throw Wi.create("no-app-id");if(!x.options.apiKey){if(!x.options.measurementId)throw Wi.create("no-api-key");zn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${x.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ti[H])throw Wi.create("already-exists",{id:H});if(!$s){!function(x){let M=[];Array.isArray(window[x])?M=window[x]:window[x]=M}(Pn);const{wrappedGtag:we,gtagCore:Pe}=function(x,M,F,H,te){let we=function(...Pe){window[H].push(arguments)};return window[te]&&"function"==typeof window[te]&&(we=window[te]),window[te]=function(x,M,F,H){function we(){return(we=(0,j.Z)(function*(Pe,Je,Xe){try{"event"===Pe?yield Fc(x,M,F,Je,Xe):"config"===Pe?yield Na(x,M,F,H,Je,Xe):x("set",Je)}catch(zt){zn.error(zt)}})).apply(this,arguments)}return function(Pe,Je,Xe){return we.apply(this,arguments)}}(we,x,M,F),{gtagCore:we,wrappedGtag:window[te]}}(Ti,vn,dt,Pn,"gtag");ws=we,Dr=Pe,$s=!0}return Ti[H]=function(x,M,F,H,te,we,Pe){return ka.apply(this,arguments)}(x,vn,dt,M,Dr,Pn,F),new Iu(x)}function pr(){return(pr=(0,j.Z)(function*(x,M,F,H,te){if(te&&te.global)x("event",F,H);else{const we=yield M;x("event",F,Object.assign(Object.assign({},H),{send_to:we}))}})).apply(this,arguments)}function Ml(){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,j.Z)(function*(){if((0,ae.ru)()||!(0,ae.zI)()||!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch(x){return!1}})).apply(this,arguments)}(0,Ee._registerComponent)(new ce.wA(mh,(M,{options:F})=>Gp(M.getProvider("app").getImmediate(),M.getProvider("installations-internal").getImmediate(),F),"PUBLIC")),(0,Ee._registerComponent)(new ce.wA("analytics-internal",function(M){try{const F=M.getProvider(mh).getImmediate();return{logEvent:(H,te,we)=>function(x,M,F,H){x=(0,ae.m9)(x),function(x,M,F,H,te){return pr.apply(this,arguments)}(ws,Ti[x.app.options.appId],M,F,H).catch(te=>zn.error(te))}(F,H,te,we)}}catch(F){throw Wi.create("interop-component-reg-failed",{reason:F})}},"PRIVATE")),(0,Ee.registerVersion)("@firebase/analytics","0.7.1");var Dh=B(7771),Uc=B(3637),jc=B(3342),Tn=B(3101),Va=B(309);const Ba=new f.GfV("7.1.0"),Ah="__angularfire_symbol__analyticsIsSupported",Ol="__angularfire_symbol__remoteConfigIsSupported",mo="__angularfire_symbol__messagingIsSupported";function Ih(x,M,F){if(M){if(1===M.length)return M[0];const we=M.filter(Pe=>Pe.app===F);if(1===we.length)return we[0]}return F.container.getProvider(x).getImmediate({optional:!0})}globalThis[Ah]||(globalThis[Ah]=Ml().then(x=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=x)),globalThis[mo]||(globalThis[mo]=Eu().then(x=>globalThis.__angularfire_symbol__messagingIsSupportedValue=x)),globalThis[Ol]||(globalThis[Ol]=zm().then(x=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=x));const Kn=(x,M)=>{const F=M?[M]:(0,oe.C6)(),H=[];return F.forEach(te=>{te.container.getProvider(x).instances.forEach(Pe=>{H.includes(Pe)||H.push(Pe)})}),H};function zs(){}class yo{constructor(M,F=Dh.N){this.zone=M,this.delegate=F}now(){return this.delegate.now()}schedule(M,F,H){const te=this.zone;return this.delegate.schedule(function(Pe){te.runGuarded(()=>{M.apply(this,[Pe])})},F,H)}}class zp{constructor(M){this.zone=M,this.task=null}call(M,F){const H=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",zs,{},zs,zs)),F.pipe((0,jc.b)({next:H,complete:H,error:H})).subscribe(M).add(H)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let qp=(()=>{class x{constructor(F){this.ngZone=F,this.outsideAngular=F.runOutsideAngular(()=>new yo(Zone.current)),this.insideAngular=F.run(()=>new yo(Zone.current,Uc.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return x.\u0275fac=function(F){return new(F||x)(f.LFG(f.R0b))},x.\u0275prov=f.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();function er(){const x=globalThis.\u0275AngularFireScheduler;if(!x)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return x}function Nl(x){return er(),function(x){return function(F){return(F=F.lift(new zp(x.ngZone))).pipe((0,Tn.R)(x.outsideAngular),(0,Va.QV)(x.insideAngular))}}(er())(x)}},4486:(et,Me,B)=>{"use strict";B.d(Me,{Z:()=>Se});var f=B(3854),oe=B(6034),j=B(5452),Ee=B(5601);class ae{constructor(Q,De){this._delegate=Q,this.firebase=De,(0,j._addComponent)(Q,new oe.wA("app-compat",()=>this,"PUBLIC")),this.container=Q.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Q){this._delegate.automaticDataCollectionEnabled=Q}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Q=>{this._delegate.checkDestroyed(),Q()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,j.deleteApp)(this._delegate)))}_getService(Q,De=j._DEFAULT_ENTRY_NAME){var xe;this._delegate.checkDestroyed();const ye=this._delegate.container.getProvider(Q);return!ye.isInitialized()&&"EXPLICIT"===(null===(xe=ye.getComponent())||void 0===xe?void 0:xe.instantiationMode)&&ye.initialize(),ye.getImmediate({identifier:De})}_removeServiceInstance(Q,De=j._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Q).clearInstance(De)}_addComponent(Q){(0,j._addComponent)(this._delegate,Q)}_addOrOverwriteComponent(Q){(0,j._addOrOverwriteComponent)(this._delegate,Q)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const pe=new f.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),U=function X(){const me=function(me){const Q={},De={__esModule:!0,initializeApp:function(Ct,Ne={}){const le=j.initializeApp(Ct,Ne);if((0,f.r3)(Q,le.name))return Q[le.name];const he=new me(le,De);return Q[le.name]=he,he},app:ye,registerVersion:j.registerVersion,setLogLevel:j.setLogLevel,onLog:j.onLog,apps:null,SDK_VERSION:j.SDK_VERSION,INTERNAL:{registerComponent:function(Ct){const Ne=Ct.name,le=Ne.replace("-compat","");if(j._registerComponent(Ct)&&"PUBLIC"===Ct.type){const he=(_e=ye())=>{if("function"!=typeof _e[le])throw pe.create("invalid-app-argument",{appName:Ne});return _e[le]()};void 0!==Ct.serviceProps&&(0,f.ZB)(he,Ct.serviceProps),De[le]=he,me.prototype[le]=function(..._e){return this._getService.bind(this,Ne).apply(this,Ct.multipleInstances?_e:[])}}return"PUBLIC"===Ct.type?De[le]:null},removeApp:function(Ct){delete Q[Ct]},useAsService:function(Ct,Ne){return"serverAuth"===Ne?null:Ne},modularAPIs:j}};function ye(Ct){if(!(0,f.r3)(Q,Ct=Ct||j._DEFAULT_ENTRY_NAME))throw pe.create("no-app",{appName:Ct});return Q[Ct]}return De.default=De,Object.defineProperty(De,"apps",{get:function(){return Object.keys(Q).map(Ct=>Q[Ct])}}),ye.App=me,De}(ae);return me.INTERNAL=Object.assign(Object.assign({},me.INTERNAL),{createFirebaseNamespace:X,extendNamespace:function(De){(0,f.ZB)(me,De)},createSubscribe:f.ne,ErrorFactory:f.LL,deepExtend:f.ZB}),me}(),G=new Ee.Yd("@firebase/app-compat");if((0,f.jU)()&&void 0!==self.firebase){G.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const me=self.firebase.SDK_VERSION;me&&me.indexOf("LITE")>=0&&G.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Se=U;(0,j.registerVersion)("@firebase/app-compat","0.1.4",undefined)},5452:(et,Me,B)=>{"use strict";B.r(Me),B.d(Me,{FirebaseError:()=>Ee.ZR,SDK_VERSION:()=>Ai,_DEFAULT_ENTRY_NAME:()=>Hn,_addComponent:()=>nn,_addOrOverwriteComponent:()=>ur,_apps:()=>en,_clearComponents:()=>$t,_components:()=>$n,_getProvider:()=>wn,_registerComponent:()=>ii,_removeServiceInstance:()=>mt,deleteApp:()=>ps,getApp:()=>Br,getApps:()=>Ii,initializeApp:()=>Hi,onLog:()=>Mn,registerVersion:()=>$i,setLogLevel:()=>Nr});var f=B(8239),oe=B(6034),j=B(5601),Ee=B(3854);class ae{constructor(Ve){this.container=Ve}getPlatformInfoString(){return this.container.getProviders().map(Wt=>{if(function(ft){const Ve=ft.getComponent();return"VERSION"===(null==Ve?void 0:Ve.type)}(Wt)){const un=Wt.getImmediate();return`${un.library}/${un.version}`}return null}).filter(Wt=>Wt).join(" ")}}const pe="@firebase/app",X=new j.Yd("@firebase/app"),Hn="[DEFAULT]",Tt={[pe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},en=new Map,$n=new Map;function nn(ft,Ve){try{ft.container.addComponent(Ve)}catch(Wt){X.debug(`Component ${Ve.name} failed to register with FirebaseApp ${ft.name}`,Wt)}}function ur(ft,Ve){ft.container.addOrOverwriteComponent(Ve)}function ii(ft){const Ve=ft.name;if($n.has(Ve))return X.debug(`There were multiple attempts to register component ${Ve}.`),!1;$n.set(Ve,ft);for(const Wt of en.values())nn(Wt,ft);return!0}function wn(ft,Ve){return ft.container.getProvider(Ve)}function mt(ft,Ve,Wt=Hn){wn(ft,Ve).clearInstance(Wt)}function $t(){$n.clear()}const Or=new Ee.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class gn{constructor(Ve,Wt,un){this._isDeleted=!1,this._options=Object.assign({},Ve),this._config=Object.assign({},Wt),this._name=Wt.name,this._automaticDataCollectionEnabled=Wt.automaticDataCollectionEnabled,this._container=un,this.container.addComponent(new oe.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ve){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ve}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ve){this._isDeleted=Ve}checkDestroyed(){if(this.isDeleted)throw Or.create("app-deleted",{appName:this._name})}}const Ai="9.1.2";function Hi(ft,Ve={}){"object"!=typeof Ve&&(Ve={name:Ve});const Wt=Object.assign({name:Hn,automaticDataCollectionEnabled:!1},Ve),un=Wt.name;if("string"!=typeof un||!un)throw Or.create("bad-app-name",{appName:String(un)});const En=en.get(un);if(En){if((0,Ee.vZ)(ft,En.options)&&(0,Ee.vZ)(Wt,En.config))return En;throw Or.create("duplicate-app",{appName:un})}const qt=new oe.H0(un);for(const it of $n.values())qt.addComponent(it);const rt=new gn(ft,Wt,qt);return en.set(un,rt),rt}function Br(ft=Hn){const Ve=en.get(ft);if(!Ve)throw Or.create("no-app",{appName:ft});return Ve}function Ii(){return Array.from(en.values())}function ps(ft){return ks.apply(this,arguments)}function ks(){return(ks=(0,f.Z)(function*(ft){const Ve=ft.name;en.has(Ve)&&(en.delete(Ve),yield Promise.all(ft.container.getProviders().map(Wt=>Wt.delete())),ft.isDeleted=!0)})).apply(this,arguments)}function $i(ft,Ve,Wt){var un;let En=null!==(un=Tt[ft])&&void 0!==un?un:ft;Wt&&(En+=`-${Wt}`);const qt=En.match(/\s|\//),rt=Ve.match(/\s|\//);if(qt||rt){const it=[`Unable to register library "${En}" with version "${Ve}":`];return qt&&it.push(`library name "${En}" contains illegal characters (whitespace or "/")`),qt&&rt&&it.push("and"),rt&&it.push(`version name "${Ve}" contains illegal characters (whitespace or "/")`),void X.warn(it.join(" "))}ii(new oe.wA(`${En}-version`,()=>({library:En,version:Ve}),"VERSION"))}function Mn(ft,Ve){if(null!==ft&&"function"!=typeof ft)throw Or.create("invalid-log-argument");(0,j.Am)(ft,Ve)}function Nr(ft){(0,j.Ub)(ft)}ii(new oe.wA("platform-logger",Ve=>new ae(Ve),"PRIVATE")),$i(pe,"0.7.3",undefined),$i("fire-js","")},6034:(et,Me,B)=>{"use strict";B.d(Me,{wA:()=>j,H0:()=>ve});var f=B(4762),oe=B(3854),j=function(){function X(U,G,ie){this.name=U,this.instanceFactory=G,this.type=ie,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return X.prototype.setInstantiationMode=function(U){return this.instantiationMode=U,this},X.prototype.setMultipleInstances=function(U){return this.multipleInstances=U,this},X.prototype.setServiceProps=function(U){return this.serviceProps=U,this},X.prototype.setInstanceCreatedCallback=function(U){return this.onInstanceCreated=U,this},X}(),Ee="[DEFAULT]",ae=function(){function X(U,G){this.name=U,this.container=G,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return X.prototype.get=function(U){var G=this.normalizeInstanceIdentifier(U);if(!this.instancesDeferred.has(G)){var ie=new oe.BH;if(this.instancesDeferred.set(G,ie),this.isInitialized(G)||this.shouldAutoInitialize())try{var ne=this.getOrInitializeService({instanceIdentifier:G});ne&&ie.resolve(ne)}catch(ue){}}return this.instancesDeferred.get(G).promise},X.prototype.getImmediate=function(U){var G,ie=this.normalizeInstanceIdentifier(null==U?void 0:U.identifier),ne=null!==(G=null==U?void 0:U.optional)&&void 0!==G&&G;if(!this.isInitialized(ie)&&!this.shouldAutoInitialize()){if(ne)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:ie})}catch(ue){if(ne)return null;throw ue}},X.prototype.getComponent=function(){return this.component},X.prototype.setComponent=function(U){var G,ie;if(U.name!==this.name)throw Error("Mismatching Component "+U.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=U,this.shouldAutoInitialize()){if(function(X){return"EAGER"===X.instantiationMode}(U))try{this.getOrInitializeService({instanceIdentifier:Ee})}catch(ye){}try{for(var ne=(0,f.XA)(this.instancesDeferred.entries()),ue=ne.next();!ue.done;ue=ne.next()){var Se=(0,f.CR)(ue.value,2),Q=Se[1],De=this.normalizeInstanceIdentifier(Se[0]);try{var xe=this.getOrInitializeService({instanceIdentifier:De});Q.resolve(xe)}catch(ye){}}}catch(ye){G={error:ye}}finally{try{ue&&!ue.done&&(ie=ne.return)&&ie.call(ne)}finally{if(G)throw G.error}}}},X.prototype.clearInstance=function(U){void 0===U&&(U=Ee),this.instancesDeferred.delete(U),this.instancesOptions.delete(U),this.instances.delete(U)},X.prototype.delete=function(){return(0,f.mG)(this,void 0,void 0,function(){var U;return(0,f.Jh)(this,function(G){switch(G.label){case 0:return U=Array.from(this.instances.values()),[4,Promise.all((0,f.ev)((0,f.ev)([],(0,f.CR)(U.filter(function(ie){return"INTERNAL"in ie}).map(function(ie){return ie.INTERNAL.delete()}))),(0,f.CR)(U.filter(function(ie){return"_delete"in ie}).map(function(ie){return ie._delete()}))))];case 1:return G.sent(),[2]}})})},X.prototype.isComponentSet=function(){return null!=this.component},X.prototype.isInitialized=function(U){return void 0===U&&(U=Ee),this.instances.has(U)},X.prototype.getOptions=function(U){return void 0===U&&(U=Ee),this.instancesOptions.get(U)||{}},X.prototype.initialize=function(U){var G,ie;void 0===U&&(U={});var ne=U.options,ue=void 0===ne?{}:ne,Se=this.normalizeInstanceIdentifier(U.instanceIdentifier);if(this.isInitialized(Se))throw Error(this.name+"("+Se+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var me=this.getOrInitializeService({instanceIdentifier:Se,options:ue});try{for(var Q=(0,f.XA)(this.instancesDeferred.entries()),De=Q.next();!De.done;De=Q.next()){var xe=(0,f.CR)(De.value,2),Oe=xe[1];Se===this.normalizeInstanceIdentifier(xe[0])&&Oe.resolve(me)}}catch(ze){G={error:ze}}finally{try{De&&!De.done&&(ie=Q.return)&&ie.call(Q)}finally{if(G)throw G.error}}return me},X.prototype.onInit=function(U,G){var ie,ne=this.normalizeInstanceIdentifier(G),ue=null!==(ie=this.onInitCallbacks.get(ne))&&void 0!==ie?ie:new Set;ue.add(U),this.onInitCallbacks.set(ne,ue);var Se=this.instances.get(ne);return Se&&U(Se,ne),function(){ue.delete(U)}},X.prototype.invokeOnInitCallbacks=function(U,G){var ie,ne,ue=this.onInitCallbacks.get(G);if(ue)try{for(var Se=(0,f.XA)(ue),me=Se.next();!me.done;me=Se.next()){var Q=me.value;try{Q(U,G)}catch(De){}}}catch(De){ie={error:De}}finally{try{me&&!me.done&&(ne=Se.return)&&ne.call(Se)}finally{if(ie)throw ie.error}}},X.prototype.getOrInitializeService=function(U){var G=U.instanceIdentifier,ie=U.options,ne=void 0===ie?{}:ie,ue=this.instances.get(G);if(!ue&&this.component&&(ue=this.component.instanceFactory(this.container,{instanceIdentifier:ce(G),options:ne}),this.instances.set(G,ue),this.instancesOptions.set(G,ne),this.invokeOnInitCallbacks(ue,G),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,G,ue)}catch(Se){}return ue||null},X.prototype.normalizeInstanceIdentifier=function(U){return void 0===U&&(U=Ee),this.component?this.component.multipleInstances?U:Ee:U},X.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},X}();function ce(X){return X===Ee?void 0:X}var ve=function(){function X(U){this.name=U,this.providers=new Map}return X.prototype.addComponent=function(U){var G=this.getProvider(U.name);if(G.isComponentSet())throw new Error("Component "+U.name+" has already been registered with "+this.name);G.setComponent(U)},X.prototype.addOrOverwriteComponent=function(U){this.getProvider(U.name).isComponentSet()&&this.providers.delete(U.name),this.addComponent(U)},X.prototype.getProvider=function(U){if(this.providers.has(U))return this.providers.get(U);var G=new ae(U,this);return this.providers.set(U,G),G},X.prototype.getProviders=function(){return Array.from(this.providers.values())},X}()},5601:(et,Me,B)=>{"use strict";B.d(Me,{in:()=>oe,Yd:()=>pe,Ub:()=>ve,Am:()=>X});const f=[];var oe=(()=>{return(U=oe||(oe={}))[U.DEBUG=0]="DEBUG",U[U.VERBOSE=1]="VERBOSE",U[U.INFO=2]="INFO",U[U.WARN=3]="WARN",U[U.ERROR=4]="ERROR",U[U.SILENT=5]="SILENT",oe;var U})();const j={debug:oe.DEBUG,verbose:oe.VERBOSE,info:oe.INFO,warn:oe.WARN,error:oe.ERROR,silent:oe.SILENT},Ee=oe.INFO,ae={[oe.DEBUG]:"log",[oe.VERBOSE]:"log",[oe.INFO]:"info",[oe.WARN]:"warn",[oe.ERROR]:"error"},ce=(U,G,...ie)=>{if(G<U.logLevel)return;const ne=(new Date).toISOString(),ue=ae[G];if(!ue)throw new Error(`Attempted to log a message with an invalid logType (value: ${G})`);console[ue](`[${ne}]  ${U.name}:`,...ie)};class pe{constructor(G){this.name=G,this._logLevel=Ee,this._logHandler=ce,this._userLogHandler=null,f.push(this)}get logLevel(){return this._logLevel}set logLevel(G){if(!(G in oe))throw new TypeError(`Invalid value "${G}" assigned to \`logLevel\``);this._logLevel=G}setLogLevel(G){this._logLevel="string"==typeof G?j[G]:G}get logHandler(){return this._logHandler}set logHandler(G){if("function"!=typeof G)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=G}get userLogHandler(){return this._userLogHandler}set userLogHandler(G){this._userLogHandler=G}debug(...G){this._userLogHandler&&this._userLogHandler(this,oe.DEBUG,...G),this._logHandler(this,oe.DEBUG,...G)}log(...G){this._userLogHandler&&this._userLogHandler(this,oe.VERBOSE,...G),this._logHandler(this,oe.VERBOSE,...G)}info(...G){this._userLogHandler&&this._userLogHandler(this,oe.INFO,...G),this._logHandler(this,oe.INFO,...G)}warn(...G){this._userLogHandler&&this._userLogHandler(this,oe.WARN,...G),this._logHandler(this,oe.WARN,...G)}error(...G){this._userLogHandler&&this._userLogHandler(this,oe.ERROR,...G),this._logHandler(this,oe.ERROR,...G)}}function ve(U){f.forEach(G=>{G.setLogLevel(U)})}function X(U,G){for(const ie of f){let ne=null;G&&G.level&&(ne=j[G.level]),ie.userLogHandler=null===U?null:(ue,Se,...me)=>{const Q=me.map(De=>{if(null==De)return null;if("string"==typeof De)return De;if("number"==typeof De||"boolean"==typeof De)return De.toString();if(De instanceof Error)return De.message;try{return JSON.stringify(De)}catch(xe){return null}}).filter(De=>De).join(" ");Se>=(null!=ne?ne:ue.logLevel)&&U({level:oe[Se].toLowerCase(),message:Q,args:me,type:ue.name})}}}},3854:(et,Me,B)=>{"use strict";B.d(Me,{BH:()=>ne,LL:()=>be,ZR:()=>je,zI:()=>he,US:()=>ce,tV:()=>X,$s:()=>zi,r3:()=>wn,Sg:()=>ue,ne:()=>ps,vZ:()=>Or,ZB:()=>G,pd:()=>Br,m9:()=>No,z$:()=>Se,jU:()=>De,ru:()=>xe,d:()=>Oe,xb:()=>$t,w1:()=>$e,hl:()=>Ne,uI:()=>me,UG:()=>Q,b$:()=>ye,G6:()=>Ct,Mn:()=>ze,xO:()=>Ai,zd:()=>Hi,eu:()=>le});const Ee=function(Y){const W=[];let K=0;for(let ke=0;ke<Y.length;ke++){let de=Y.charCodeAt(ke);de<128?W[K++]=de:de<2048?(W[K++]=de>>6|192,W[K++]=63&de|128):55296==(64512&de)&&ke+1<Y.length&&56320==(64512&Y.charCodeAt(ke+1))?(de=65536+((1023&de)<<10)+(1023&Y.charCodeAt(++ke)),W[K++]=de>>18|240,W[K++]=de>>12&63|128,W[K++]=de>>6&63|128,W[K++]=63&de|128):(W[K++]=de>>12|224,W[K++]=de>>6&63|128,W[K++]=63&de|128)}return W},ce={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Y,W){if(!Array.isArray(Y))throw Error("encodeByteArray takes an array as a parameter");this.init_();const K=W?this.byteToCharMapWebSafe_:this.byteToCharMap_,ke=[];for(let de=0;de<Y.length;de+=3){const Qe=Y[de],Ze=de+1<Y.length,Kt=Ze?Y[de+1]:0,cn=de+2<Y.length,ln=cn?Y[de+2]:0;let dn=(15&Kt)<<2|ln>>6,wr=63&ln;cn||(wr=64,Ze||(dn=64)),ke.push(K[Qe>>2],K[(3&Qe)<<4|Kt>>4],K[dn],K[wr])}return ke.join("")},encodeString(Y,W){return this.HAS_NATIVE_SUPPORT&&!W?btoa(Y):this.encodeByteArray(Ee(Y),W)},decodeString(Y,W){return this.HAS_NATIVE_SUPPORT&&!W?atob(Y):function(Y){const W=[];let K=0,ke=0;for(;K<Y.length;){const de=Y[K++];if(de<128)W[ke++]=String.fromCharCode(de);else if(de>191&&de<224){const Qe=Y[K++];W[ke++]=String.fromCharCode((31&de)<<6|63&Qe)}else if(de>239&&de<365){const cn=((7&de)<<18|(63&Y[K++])<<12|(63&Y[K++])<<6|63&Y[K++])-65536;W[ke++]=String.fromCharCode(55296+(cn>>10)),W[ke++]=String.fromCharCode(56320+(1023&cn))}else{const Qe=Y[K++],Ze=Y[K++];W[ke++]=String.fromCharCode((15&de)<<12|(63&Qe)<<6|63&Ze)}}return W.join("")}(this.decodeStringToByteArray(Y,W))},decodeStringToByteArray(Y,W){this.init_();const K=W?this.charToByteMapWebSafe_:this.charToByteMap_,ke=[];for(let de=0;de<Y.length;){const Qe=K[Y.charAt(de++)],Kt=de<Y.length?K[Y.charAt(de)]:0;++de;const ln=de<Y.length?K[Y.charAt(de)]:64;++de;const Lt=de<Y.length?K[Y.charAt(de)]:64;if(++de,null==Qe||null==Kt||null==ln||null==Lt)throw Error();ke.push(Qe<<2|Kt>>4),64!==ln&&(ke.push(Kt<<4&240|ln>>2),64!==Lt&&ke.push(ln<<6&192|Lt))}return ke},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Y=0;Y<this.ENCODED_VALS.length;Y++)this.byteToCharMap_[Y]=this.ENCODED_VALS.charAt(Y),this.charToByteMap_[this.byteToCharMap_[Y]]=Y,this.byteToCharMapWebSafe_[Y]=this.ENCODED_VALS_WEBSAFE.charAt(Y),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Y]]=Y,Y>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Y)]=Y,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Y)]=Y)}}},ve=function(Y){return function(Y){const W=Ee(Y);return ce.encodeByteArray(W,!0)}(Y).replace(/\./g,"")},X=function(Y){try{return ce.decodeString(Y,!0)}catch(W){console.error("base64Decode failed: ",W)}return null};function G(Y,W){if(!(W instanceof Object))return W;switch(W.constructor){case Date:return new Date(W.getTime());case Object:void 0===Y&&(Y={});break;case Array:Y=[];break;default:return W}for(const K in W)!W.hasOwnProperty(K)||!ie(K)||(Y[K]=G(Y[K],W[K]));return Y}function ie(Y){return"__proto__"!==Y}class ne{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((W,K)=>{this.resolve=W,this.reject=K})}wrapCallback(W){return(K,ke)=>{K?this.reject(K):this.resolve(ke),"function"==typeof W&&(this.promise.catch(()=>{}),1===W.length?W(K):W(K,ke))}}}function ue(Y,W){if(Y.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ke=W||"demo-project",de=Y.iat||0,Qe=Y.sub||Y.user_id;if(!Qe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ze=Object.assign({iss:`https://securetoken.google.com/${ke}`,aud:ke,iat:de,exp:de+3600,auth_time:de,sub:Qe,user_id:Qe,firebase:{sign_in_provider:"custom",identities:{}}},Y);return[ve(JSON.stringify({alg:"none",type:"JWT"})),ve(JSON.stringify(Ze)),""].join(".")}function Se(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function me(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Se())}function Q(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Y){return!1}}function De(){return"object"==typeof self&&self.self===self}function xe(){const Y="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Y&&void 0!==Y.id}function ye(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Oe(){return Se().indexOf("Electron/")>=0}function $e(){const Y=Se();return Y.indexOf("MSIE ")>=0||Y.indexOf("Trident/")>=0}function ze(){return Se().indexOf("MSAppHost/")>=0}function Ct(){return!Q()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ne(){return"object"==typeof indexedDB}function le(){return new Promise((Y,W)=>{try{let K=!0;const ke="validate-browser-context-for-indexeddb-analytics-module",de=self.indexedDB.open(ke);de.onsuccess=()=>{de.result.close(),K||self.indexedDB.deleteDatabase(ke),Y(!0)},de.onupgradeneeded=()=>{K=!1},de.onerror=()=>{var Qe;W((null===(Qe=de.error)||void 0===Qe?void 0:Qe.message)||"")}}catch(K){W(K)}})}function he(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class je extends Error{constructor(W,K,ke){super(K),this.code=W,this.customData=ke,this.name="FirebaseError",Object.setPrototypeOf(this,je.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,be.prototype.create)}}class be{constructor(W,K,ke){this.service=W,this.serviceName=K,this.errors=ke}create(W,...K){const ke=K[0]||{},de=`${this.service}/${W}`,Qe=this.errors[W],Ze=Qe?function(Y,W){return Y.replace(Zt,(K,ke)=>{const de=W[ke];return null!=de?String(de):`<${ke}?>`})}(Qe,ke):"Error";return new je(de,`${this.serviceName}: ${Ze} (${de}).`,ke)}}const Zt=/\{\$([^}]+)}/g;function wn(Y,W){return Object.prototype.hasOwnProperty.call(Y,W)}function $t(Y){for(const W in Y)if(Object.prototype.hasOwnProperty.call(Y,W))return!1;return!0}function Or(Y,W){if(Y===W)return!0;const K=Object.keys(Y),ke=Object.keys(W);for(const de of K){if(!ke.includes(de))return!1;const Qe=Y[de],Ze=W[de];if(gn(Qe)&&gn(Ze)){if(!Or(Qe,Ze))return!1}else if(Qe!==Ze)return!1}for(const de of ke)if(!K.includes(de))return!1;return!0}function gn(Y){return null!==Y&&"object"==typeof Y}function Ai(Y){const W=[];for(const[K,ke]of Object.entries(Y))Array.isArray(ke)?ke.forEach(de=>{W.push(encodeURIComponent(K)+"="+encodeURIComponent(de))}):W.push(encodeURIComponent(K)+"="+encodeURIComponent(ke));return W.length?"&"+W.join("&"):""}function Hi(Y){const W={};return Y.replace(/^\?/,"").split("&").forEach(ke=>{if(ke){const[de,Qe]=ke.split("=");W[decodeURIComponent(de)]=decodeURIComponent(Qe)}}),W}function Br(Y){const W=Y.indexOf("?");if(!W)return"";const K=Y.indexOf("#",W);return Y.substring(W,K>0?K:void 0)}function ps(Y,W){const K=new ks(Y,W);return K.subscribe.bind(K)}class ks{constructor(W,K){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=K,this.task.then(()=>{W(this)}).catch(ke=>{this.error(ke)})}next(W){this.forEachObserver(K=>{K.next(W)})}error(W){this.forEachObserver(K=>{K.error(W)}),this.close(W)}complete(){this.forEachObserver(W=>{W.complete()}),this.close()}subscribe(W,K,ke){let de;if(void 0===W&&void 0===K&&void 0===ke)throw new Error("Missing Observer.");de=function(Y,W){if("object"!=typeof Y||null===Y)return!1;for(const K of["next","error","complete"])if(K in Y&&"function"==typeof Y[K])return!0;return!1}(W)?W:{next:W,error:K,complete:ke},void 0===de.next&&(de.next=Nr),void 0===de.error&&(de.error=Nr),void 0===de.complete&&(de.complete=Nr);const Qe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?de.error(this.finalError):de.complete()}catch(Ze){}}),this.observers.push(de),Qe}unsubscribeOne(W){void 0===this.observers||void 0===this.observers[W]||(delete this.observers[W],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(W){if(!this.finalized)for(let K=0;K<this.observers.length;K++)this.sendOne(K,W)}sendOne(W,K){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[W])try{K(this.observers[W])}catch(ke){"undefined"!=typeof console&&console.error&&console.error(ke)}})}close(W){this.finalized||(this.finalized=!0,void 0!==W&&(this.finalError=W),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Nr(){}function zi(Y,W=1e3,K=2){const ke=W*Math.pow(K,Y),de=Math.round(.5*ke*(Math.random()-.5)*2);return Math.min(144e5,ke+de)}function No(Y){return Y&&Y._delegate?Y._delegate:Y}},2329:(et,Me,B)=>{"use strict";B.d(Me,{Mq:()=>f.getApp,C6:()=>f.getApps});var f=B(5452);(0,f.registerVersion)("firebase","9.1.2","app")},7841:(et,Me,B)=>{"use strict";B.d(Me,{Z:()=>f.Z});var f=B(4486);f.Z.registerVersion("firebase","9.1.2","app-compat")},5841:(et,Me,B)=>{"use strict";B.r(Me);var f=B(8239),oe=B(4486),j=B(3854),Ee=B(5452),ae=B(4762),ce=B(5601),pe=B(6034);const Se=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},me=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Q=new j.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),xe=new ce.Yd("@firebase/auth");function ye(E,...y){xe.logLevel<=ce.in.ERROR&&xe.error(`Auth (${Ee.SDK_VERSION}): ${E}`,...y)}function Oe(E,...y){throw Ct(E,...y)}function $e(E,...y){return Ct(E,...y)}function ze(E,y,v){const D=Object.assign(Object.assign({},me()),{[y]:v});return new j.LL("auth","Firebase",D).create(y,{appName:E.name})}function St(E,y,v){if(!(y instanceof v))throw v.name!==y.constructor.name&&Oe(E,"argument-error"),ze(E,"argument-error",`Type of ${y.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ct(E,...y){if("string"!=typeof E){const v=y[0],D=[...y.slice(1)];return D[0]&&(D[0].appName=E.name),E._errorFactory.create(v,...D)}return Q.create(E,...y)}function Ne(E,y,...v){if(!E)throw Ct(y,...v)}function le(E){const y="INTERNAL ASSERTION FAILED: "+E;throw ye(y),new Error(y)}function he(E,y){E||le(y)}const _e=new Map;function ge(E){he(E instanceof Function,"Expected a class definition");let y=_e.get(E);return y?(he(y instanceof E,"Instance stored in cache mismatched with class"),y):(y=new E,_e.set(E,y),y)}function ct(){var E;return"undefined"!=typeof self&&(null===(E=self.location)||void 0===E?void 0:E.href)||""}function Zt(){return"http:"===Hn()||"https:"===Hn()}function Hn(){var E;return"undefined"!=typeof self&&(null===(E=self.location)||void 0===E?void 0:E.protocol)||null}class $n{constructor(y,v){this.shortDelay=y,this.longDelay=v,he(v>y,"Short delay should be less than long delay!"),this.isMobile=(0,j.uI)()||(0,j.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Zt()||(0,j.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function nn(E,y){he(E.emulator,"Emulator should always be set here");const{url:v}=E.emulator;return y?`${v}${y.startsWith("/")?y.slice(1):y}`:v}class ur{static initialize(y,v,D){this.fetchImpl=y,v&&(this.headersImpl=v),D&&(this.responseImpl=D)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void le("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void le("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void le("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ii={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},wn=new $n(3e4,6e4);function mt(E,y){return E.tenantId&&!y.tenantId?Object.assign(Object.assign({},y),{tenantId:E.tenantId}):y}function $t(E,y,v,D){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,f.Z)(function*(E,y,v,D,O={}){return Or(E,O,()=>{let L={},ee={};D&&("GET"===y?ee=D:L={body:JSON.stringify(D)});const Ae=(0,j.xO)(Object.assign({key:E.config.apiKey},ee)).slice(1),Ke=new(ur.headers());return Ke.set("Content-Type","application/json"),Ke.set("X-Client-Version",E._getSdkClientVersion()),E.languageCode&&Ke.set("X-Firebase-Locale",E.languageCode),ur.fetch()(Br(E,E.config.apiHost,v,Ae),Object.assign({method:y,headers:Ke,referrerPolicy:"no-referrer"},L))})})).apply(this,arguments)}function Or(E,y,v){return gn.apply(this,arguments)}function gn(){return(gn=(0,f.Z)(function*(E,y,v){E._canInitEmulator=!1;const D=Object.assign(Object.assign({},ii),y);try{const O=new Ii(E),L=yield Promise.race([v(),O.promise]);O.clearNetworkTimeout();const ee=yield L.json();if("needConfirmation"in ee)throw ps(E,"account-exists-with-different-credential",ee);if(L.ok&&!("errorMessage"in ee))return ee;{const Ae=L.ok?ee.errorMessage:ee.error.message,[Ke,nt]=Ae.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ke)throw ps(E,"credential-already-in-use",ee);if("EMAIL_EXISTS"===Ke)throw ps(E,"email-already-in-use",ee);const Et=D[Ke]||Ke.toLowerCase().replace(/[_\s]+/g,"-");if(nt)throw ze(E,Et,nt);Oe(E,Et)}}catch(O){if(O instanceof j.ZR)throw O;Oe(E,"network-request-failed")}})).apply(this,arguments)}function Ai(E,y,v,D){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,f.Z)(function*(E,y,v,D,O={}){const L=yield $t(E,y,v,D,O);return"mfaPendingCredential"in L&&Oe(E,"multi-factor-auth-required",{serverResponse:L}),L})).apply(this,arguments)}function Br(E,y,v,D){const O=`${y}${v}?${D}`;return E.config.emulator?nn(E.config,O):`${E.config.apiScheme}://${O}`}class Ii{constructor(y){this.auth=y,this.timer=null,this.promise=new Promise((v,D)=>{this.timer=setTimeout(()=>D($e(this.auth,"timeout")),wn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ps(E,y,v){const D={appName:E.name};v.email&&(D.email=v.email),v.phoneNumber&&(D.phoneNumber=v.phoneNumber);const O=$e(E,y,D);return O.customData._tokenResponse=v,O}function $i(){return($i=(0,f.Z)(function*(E,y){return $t(E,"POST","/v1/accounts:delete",y)})).apply(this,arguments)}function Mn(E,y){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,f.Z)(function*(E,y){return $t(E,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function Oo(E,y){return ft.apply(this,arguments)}function ft(){return(ft=(0,f.Z)(function*(E,y){return $t(E,"POST","/v1/accounts:lookup",y)})).apply(this,arguments)}function Ve(E){if(E)try{const y=new Date(Number(E));if(!isNaN(y.getTime()))return y.toUTCString()}catch(y){}}function En(){return(En=(0,f.Z)(function*(E,y=!1){const v=(0,j.m9)(E),D=yield v.getIdToken(y),O=rt(D);Ne(O&&O.exp&&O.auth_time&&O.iat,v.auth,"internal-error");const L="object"==typeof O.firebase?O.firebase:void 0,ee=null==L?void 0:L.sign_in_provider;return{claims:O,token:D,authTime:Ve(qt(O.auth_time)),issuedAtTime:Ve(qt(O.iat)),expirationTime:Ve(qt(O.exp)),signInProvider:ee||null,signInSecondFactor:(null==L?void 0:L.sign_in_second_factor)||null}})).apply(this,arguments)}function qt(E){return 1e3*Number(E)}function rt(E){const[y,v,D]=E.split(".");if(void 0===y||void 0===v||void 0===D)return ye("JWT malformed, contained fewer than 3 sections"),null;try{const O=(0,j.tV)(v);return O?JSON.parse(O):(ye("Failed to decode base64 JWT payload"),null)}catch(O){return ye("Caught error parsing JWT payload as JSON",O),null}}function xn(E,y){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,f.Z)(function*(E,y,v=!1){if(v)return y;try{return yield y}catch(D){throw D instanceof j.ZR&&zi(D)&&E.auth.currentUser===E&&(yield E.auth.signOut()),D}})).apply(this,arguments)}function zi({code:E}){return"auth/user-disabled"===E||"auth/user-token-expired"===E}class Cn{constructor(y){this.user=y,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(y){var v;if(y){const D=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),D}{this.errorBackoff=3e4;const O=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,O)}}schedule(y=!1){var v=this;if(!this.isRunning)return;const D=this.getInterval(y);this.timerId=setTimeout((0,f.Z)(function*(){yield v.iteration()}),D)}iteration(){var y=this;return(0,f.Z)(function*(){try{yield y.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v.code&&y.schedule(!0))}y.schedule()})()}}class Ur{constructor(y,v){this.createdAt=y,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ve(this.lastLoginAt),this.creationTime=Ve(this.createdAt)}_copy(y){this.createdAt=y.createdAt,this.lastLoginAt=y.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function No(E){return Y.apply(this,arguments)}function Y(){return(Y=(0,f.Z)(function*(E){var y;const v=E.auth,D=yield E.getIdToken(),O=yield xn(E,Oo(v,{idToken:D}));Ne(null==O?void 0:O.users.length,v,"internal-error");const L=O.users[0];E._notifyReloadListener(L);const ee=(null===(y=L.providerUserInfo)||void 0===y?void 0:y.length)?de(L.providerUserInfo):[],Ae=ke(E.providerData,ee),Et=!!E.isAnonymous&&!(E.email&&L.passwordHash||(null==Ae?void 0:Ae.length)),pt={uid:L.localId,displayName:L.displayName||null,photoURL:L.photoUrl||null,email:L.email||null,emailVerified:L.emailVerified||!1,phoneNumber:L.phoneNumber||null,tenantId:L.tenantId||null,providerData:Ae,metadata:new Ur(L.createdAt,L.lastLoginAt),isAnonymous:Et};Object.assign(E,pt)})).apply(this,arguments)}function K(){return(K=(0,f.Z)(function*(E){const y=(0,j.m9)(E);yield No(y),yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)})).apply(this,arguments)}function ke(E,y){return[...E.filter(D=>!y.some(O=>O.providerId===D.providerId)),...y]}function de(E){return E.map(y=>{var{providerId:v}=y,D=(0,ae._T)(y,["providerId"]);return{providerId:v,uid:D.rawId||"",displayName:D.displayName||null,email:D.email||null,phoneNumber:D.phoneNumber||null,photoURL:D.photoUrl||null}})}function Ze(){return(Ze=(0,f.Z)(function*(E,y){const v=yield Or(E,{},()=>{const D=(0,j.xO)({grant_type:"refresh_token",refresh_token:y}).slice(1),{tokenApiHost:O,apiKey:L}=E.config,ee=Br(E,O,"/v1/token",`key=${L}`);return ur.fetch()(ee,{method:"POST",headers:{"X-Client-Version":E._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:D})});return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}class Kt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(y){Ne(y.idToken,"internal-error"),Ne(void 0!==y.idToken,"internal-error"),Ne(void 0!==y.refreshToken,"internal-error");const v="expiresIn"in y&&void 0!==y.expiresIn?Number(y.expiresIn):function(E){const y=rt(E);return Ne(y,"internal-error"),Ne(void 0!==y.exp,"internal-error"),Ne(void 0!==y.iat,"internal-error"),Number(y.exp)-Number(y.iat)}(y.idToken);this.updateTokensAndExpiration(y.idToken,y.refreshToken,v)}getToken(y,v=!1){var D=this;return(0,f.Z)(function*(){return Ne(!D.accessToken||D.refreshToken,y,"user-token-expired"),v||!D.accessToken||D.isExpired?D.refreshToken?(yield D.refresh(y,D.refreshToken),D.accessToken):null:D.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(y,v){var D=this;return(0,f.Z)(function*(){const{accessToken:O,refreshToken:L,expiresIn:ee}=yield function(E,y){return Ze.apply(this,arguments)}(y,v);D.updateTokensAndExpiration(O,L,Number(ee))})()}updateTokensAndExpiration(y,v,D){this.refreshToken=v||null,this.accessToken=y||null,this.expirationTime=Date.now()+1e3*D}static fromJSON(y,v){const{refreshToken:D,accessToken:O,expirationTime:L}=v,ee=new Kt;return D&&(Ne("string"==typeof D,"internal-error",{appName:y}),ee.refreshToken=D),O&&(Ne("string"==typeof O,"internal-error",{appName:y}),ee.accessToken=O),L&&(Ne("number"==typeof L,"internal-error",{appName:y}),ee.expirationTime=L),ee}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(y){this.accessToken=y.accessToken,this.refreshToken=y.refreshToken,this.expirationTime=y.expirationTime}_clone(){return Object.assign(new Kt,this.toJSON())}_performRefresh(){return le("not implemented")}}function cn(E,y){Ne("string"==typeof E||void 0===E,"internal-error",{appName:y})}class ln{constructor(y){var{uid:v,auth:D,stsTokenManager:O}=y,L=(0,ae._T)(y,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Cn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=D,this.stsTokenManager=O,this.accessToken=O.accessToken,this.displayName=L.displayName||null,this.email=L.email||null,this.emailVerified=L.emailVerified||!1,this.phoneNumber=L.phoneNumber||null,this.photoURL=L.photoURL||null,this.isAnonymous=L.isAnonymous||!1,this.tenantId=L.tenantId||null,this.metadata=new Ur(L.createdAt||void 0,L.lastLoginAt||void 0)}getIdToken(y){var v=this;return(0,f.Z)(function*(){const D=yield xn(v,v.stsTokenManager.getToken(v.auth,y));return Ne(D,v.auth,"internal-error"),v.accessToken!==D&&(v.accessToken=D,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),D})()}getIdTokenResult(y){return function(E){return En.apply(this,arguments)}(this,y)}reload(){return function(E){return K.apply(this,arguments)}(this)}_assign(y){this!==y&&(Ne(this.uid===y.uid,this.auth,"internal-error"),this.displayName=y.displayName,this.photoURL=y.photoURL,this.email=y.email,this.emailVerified=y.emailVerified,this.phoneNumber=y.phoneNumber,this.isAnonymous=y.isAnonymous,this.tenantId=y.tenantId,this.providerData=y.providerData.map(v=>Object.assign({},v)),this.metadata._copy(y.metadata),this.stsTokenManager._assign(y.stsTokenManager))}_clone(y){return new ln(Object.assign(Object.assign({},this),{auth:y,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(y){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=y,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(y){this.reloadListener?this.reloadListener(y):this.reloadUserInfo=y}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(y,v=!1){var D=this;return(0,f.Z)(function*(){let O=!1;y.idToken&&y.idToken!==D.stsTokenManager.accessToken&&(D.stsTokenManager.updateFromServerResponse(y),O=!0),v&&(yield No(D)),yield D.auth._persistUserIfCurrent(D),O&&D.auth._notifyListenersIfCurrent(D)})()}delete(){var y=this;return(0,f.Z)(function*(){const v=yield y.getIdToken();return yield xn(y,function(E,y){return $i.apply(this,arguments)}(y.auth,{idToken:v})),y.stsTokenManager.clearRefreshToken(),y.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(y=>Object.assign({},y)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(y,v){var D,O,L,ee,Ae,Ke,nt,Et;const pt=null!==(D=v.displayName)&&void 0!==D?D:void 0,Vn=null!==(O=v.email)&&void 0!==O?O:void 0,ki=null!==(L=v.phoneNumber)&&void 0!==L?L:void 0,gr=null!==(ee=v.photoURL)&&void 0!==ee?ee:void 0,lg=null!==(Ae=v.tenantId)&&void 0!==Ae?Ae:void 0,ug=null!==(Ke=v._redirectEventId)&&void 0!==Ke?Ke:void 0,Uu=null!==(nt=v.createdAt)&&void 0!==nt?nt:void 0,cg=null!==(Et=v.lastLoginAt)&&void 0!==Et?Et:void 0,{uid:_y,emailVerified:dg,isAnonymous:vy,providerData:hg,stsTokenManager:by}=v;Ne(_y&&by,y,"internal-error");const ju=Kt.fromJSON(this.name,by);Ne("string"==typeof _y,y,"internal-error"),cn(pt,y.name),cn(Vn,y.name),Ne("boolean"==typeof dg,y,"internal-error"),Ne("boolean"==typeof vy,y,"internal-error"),cn(ki,y.name),cn(gr,y.name),cn(lg,y.name),cn(ug,y.name),cn(Uu,y.name),cn(cg,y.name);const Ds=new ln({uid:_y,auth:y,email:Vn,emailVerified:dg,displayName:pt,isAnonymous:vy,photoURL:gr,phoneNumber:ki,tenantId:lg,stsTokenManager:ju,createdAt:Uu,lastLoginAt:cg});return hg&&Array.isArray(hg)&&(Ds.providerData=hg.map(YC=>Object.assign({},YC))),ug&&(Ds._redirectEventId=ug),Ds}static _fromIdTokenResponse(y,v,D=!1){return(0,f.Z)(function*(){const O=new Kt;O.updateFromServerResponse(v);const L=new ln({uid:v.localId,auth:y,stsTokenManager:O,isAnonymous:D});return yield No(L),L})()}}const Lt=(()=>{class E{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,f.Z)(function*(){return!0})()}_set(v,D){var O=this;return(0,f.Z)(function*(){O.storage[v]=D})()}_get(v){var D=this;return(0,f.Z)(function*(){const O=D.storage[v];return void 0===O?null:O})()}_remove(v){var D=this;return(0,f.Z)(function*(){delete D.storage[v]})()}_addListener(v,D){}_removeListener(v,D){}}return E.type="NONE",E})();function dn(E,y,v){return`firebase:${E}:${y}:${v}`}class wr{constructor(y,v,D){this.persistence=y,this.auth=v,this.userKey=D;const{config:O,name:L}=this.auth;this.fullUserKey=dn(this.userKey,O.apiKey,L),this.fullPersistenceKey=dn("persistence",O.apiKey,L),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(y){return this.persistence._set(this.fullUserKey,y.toJSON())}getCurrentUser(){var y=this;return(0,f.Z)(function*(){const v=yield y.persistence._get(y.fullUserKey);return v?ln._fromJSON(y.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(y){var v=this;return(0,f.Z)(function*(){if(v.persistence===y)return;const D=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=y,D?v.setCurrentUser(D):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(y,v,D="authUser"){return(0,f.Z)(function*(){if(!v.length)return new wr(ge(Lt),y,D);const O=(yield Promise.all(v.map(function(){var nt=(0,f.Z)(function*(Et){if(yield Et._isAvailable())return Et});return function(Et){return nt.apply(this,arguments)}}()))).filter(nt=>nt);let L=O[0]||ge(Lt);const ee=dn(D,y.config.apiKey,y.name);let Ae=null;for(const nt of v)try{const Et=yield nt._get(ee);if(Et){const pt=ln._fromJSON(y,Et);nt!==L&&(Ae=pt),L=nt;break}}catch(Et){}const Ke=O.filter(nt=>nt._shouldAllowMigration);return L._shouldAllowMigration&&Ke.length?(L=Ke[0],Ae&&(yield L._set(ee,Ae.toJSON())),yield Promise.all(v.map(function(){var nt=(0,f.Z)(function*(Et){if(Et!==L)try{yield Et._remove(ee)}catch(pt){}});return function(Et){return nt.apply(this,arguments)}}())),new wr(L,y,D)):new wr(L,y,D)})()}}function uu(E){const y=E.toLowerCase();if(y.includes("opera/")||y.includes("opr/")||y.includes("opios/"))return"Opera";if(cu(y))return"IEMobile";if(y.includes("msie")||y.includes("trident/"))return"IE";if(y.includes("edge/"))return"Edge";if(va(y))return"Firefox";if(y.includes("silk/"))return"Silk";if(fl(y))return"Blackberry";if(ro(y))return"Webos";if(Dc(y))return"Safari";if((y.includes("chrome/")||hl(y))&&!y.includes("edge/"))return"Chrome";if(no(y))return"Android";{const D=E.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==D?void 0:D.length))return D[1]}return"Other"}function va(E=(0,j.z$)()){return/firefox\//i.test(E)}function Dc(E=(0,j.z$)()){const y=E.toLowerCase();return y.includes("safari/")&&!y.includes("chrome/")&&!y.includes("crios/")&&!y.includes("android")}function hl(E=(0,j.z$)()){return/crios\//i.test(E)}function cu(E=(0,j.z$)()){return/iemobile/i.test(E)}function no(E=(0,j.z$)()){return/android/i.test(E)}function fl(E=(0,j.z$)()){return/blackberry/i.test(E)}function ro(E=(0,j.z$)()){return/webos/i.test(E)}function qi(E=(0,j.z$)()){return/iphone|ipad|ipod/i.test(E)}function Ps(E=(0,j.z$)()){return qi(E)||no(E)||ro(E)||fl(E)||/windows phone/i.test(E)||cu(E)}function cr(E,y=[]){let v;switch(E){case"Browser":v=uu((0,j.z$)());break;case"Worker":v=`${uu((0,j.z$)())}-${E}`;break;default:v=E}const D=y.length?y.join(","):"FirebaseCore-web";return`${v}/JsCore/${Ee.SDK_VERSION}/${D}`}class nh{constructor(y,v){this.app=y,this.config=v,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ye(this),this.idTokenSubscription=new Ye(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Q,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=y.name,this.clientVersion=v.sdkClientVersion}_initializeWithPersistence(y,v){var D=this;return v&&(this._popupRedirectResolver=ge(v)),this._initializationPromise=this.queue((0,f.Z)(function*(){var O;D._deleted||(D.persistenceManager=yield wr.create(D,y),!D._deleted&&((null===(O=D._popupRedirectResolver)||void 0===O?void 0:O._shouldInitProactively)&&(yield D._popupRedirectResolver._initialize(D)),yield D.initializeCurrentUser(v),!D._deleted&&(D._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var y=this;return(0,f.Z)(function*(){if(y._deleted)return;const v=yield y.assertedPersistence.getCurrentUser();if(y.currentUser||v){if(y.currentUser&&v&&y.currentUser.uid===v.uid)return y._currentUser._assign(v),void(yield y.currentUser.getIdToken());yield y._updateCurrentUser(v)}})()}initializeCurrentUser(y){var v=this;return(0,f.Z)(function*(){var D;let O=yield v.assertedPersistence.getCurrentUser();if(y&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const L=null===(D=v.redirectUser)||void 0===D?void 0:D._redirectEventId,ee=null==O?void 0:O._redirectEventId,Ae=yield v.tryRedirectSignIn(y);(!L||L===ee)&&(null==Ae?void 0:Ae.user)&&(O=Ae.user)}return O?O._redirectEventId?(Ne(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===O._redirectEventId?v.directlySetCurrentUser(O):v.reloadAndSetCurrentUserOrClear(O)):v.reloadAndSetCurrentUserOrClear(O):v.directlySetCurrentUser(null)})()}tryRedirectSignIn(y){var v=this;return(0,f.Z)(function*(){let D=null;try{D=yield v._popupRedirectResolver._completeRedirectFn(v,y,!0)}catch(O){yield v._setRedirectUser(null)}return D})()}reloadAndSetCurrentUserOrClear(y){var v=this;return(0,f.Z)(function*(){try{yield No(y)}catch(D){if("auth/network-request-failed"!==D.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(y)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const E=navigator;return E.languages&&E.languages[0]||E.language||null}()}_delete(){var y=this;return(0,f.Z)(function*(){y._deleted=!0})()}updateCurrentUser(y){var v=this;return(0,f.Z)(function*(){const D=y?(0,j.m9)(y):null;return D&&Ne(D.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(D&&D._clone(v))})()}_updateCurrentUser(y){var v=this;return(0,f.Z)(function*(){if(!v._deleted)return y&&Ne(v.tenantId===y.tenantId,v,"tenant-id-mismatch"),v.queue((0,f.Z)(function*(){yield v.directlySetCurrentUser(y),v.notifyAuthListeners()}))})()}signOut(){var y=this;return(0,f.Z)(function*(){return(y.redirectPersistenceManager||y._popupRedirectResolver)&&(yield y._setRedirectUser(null)),y._updateCurrentUser(null)})()}setPersistence(y){var v=this;return this.queue((0,f.Z)(function*(){yield v.assertedPersistence.setPersistence(ge(y))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(y){this._errorFactory=new j.LL("auth","Firebase",y())}onAuthStateChanged(y,v,D){return this.registerStateListener(this.authStateSubscription,y,v,D)}onIdTokenChanged(y,v,D){return this.registerStateListener(this.idTokenSubscription,y,v,D)}toJSON(){var y;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(y=this._currentUser)||void 0===y?void 0:y.toJSON()}}_setRedirectUser(y,v){var D=this;return(0,f.Z)(function*(){const O=yield D.getOrInitRedirectPersistenceManager(v);return null===y?O.removeCurrentUser():O.setCurrentUser(y)})()}getOrInitRedirectPersistenceManager(y){var v=this;return(0,f.Z)(function*(){if(!v.redirectPersistenceManager){const D=y&&ge(y)||v._popupRedirectResolver;Ne(D,v,"argument-error"),v.redirectPersistenceManager=yield wr.create(v,[ge(D._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(y){var v=this;return(0,f.Z)(function*(){var D,O;return v._isInitialized&&(yield v.queue((0,f.Z)(function*(){}))),(null===(D=v._currentUser)||void 0===D?void 0:D._redirectEventId)===y?v._currentUser:(null===(O=v.redirectUser)||void 0===O?void 0:O._redirectEventId)===y?v.redirectUser:null})()}_persistUserIfCurrent(y){var v=this;return(0,f.Z)(function*(){if(y===v.currentUser)return v.queue((0,f.Z)(function*(){return v.directlySetCurrentUser(y)}))})()}_notifyListenersIfCurrent(y){y===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var y,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const D=null!==(v=null===(y=this.currentUser)||void 0===y?void 0:y.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==D&&(this.lastNotifiedUid=D,this.authStateSubscription.next(this.currentUser))}registerStateListener(y,v,D,O){if(this._deleted)return()=>{};const L="function"==typeof v?v:v.next.bind(v),ee=this._isInitialized?Promise.resolve():this._initializationPromise;return Ne(ee,this,"internal-error"),ee.then(()=>L(this.currentUser)),"function"==typeof v?y.addObserver(v,D,O):y.addObserver(v)}directlySetCurrentUser(y){var v=this;return(0,f.Z)(function*(){v.currentUser&&v.currentUser!==y&&(v._currentUser._stopProactiveRefresh(),y&&v.isProactiveRefreshEnabled&&y._startProactiveRefresh()),v.currentUser=y,y?yield v.assertedPersistence.setCurrentUser(y):yield v.assertedPersistence.removeCurrentUser()})()}queue(y){return this.operations=this.operations.then(y,y),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(y){!y||this.frameworks.includes(y)||(this.frameworks.push(y),this.frameworks.sort(),this.clientVersion=cr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function Qt(E){return(0,j.m9)(E)}class Ye{constructor(y){this.auth=y,this.observer=null,this.addObserver=(0,j.ne)(v=>this.observer=v)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function hn(E){const y=E.indexOf(":");return y<0?"":E.substr(0,y+1)}function io(E){if(!E)return null;const y=Number(E);return isNaN(y)?null:y}class Cr{constructor(y,v){this.providerId=y,this.signInMethod=v}toJSON(){return le("not implemented")}_getIdTokenResponse(y){return le("not implemented")}_linkToIdToken(y,v){return le("not implemented")}_getReauthenticationResolver(y){return le("not implemented")}}function Dn(E,y){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,f.Z)(function*(E,y){return $t(E,"POST","/v1/accounts:resetPassword",mt(E,y))})).apply(this,arguments)}function ba(E,y){return At.apply(this,arguments)}function At(){return(At=(0,f.Z)(function*(E,y){return $t(E,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function wa(E,y){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,f.Z)(function*(E,y){return $t(E,"POST","/v1/accounts:update",mt(E,y))})).apply(this,arguments)}function xi(){return(xi=(0,f.Z)(function*(E,y){return Ai(E,"POST","/v1/accounts:signInWithPassword",mt(E,y))})).apply(this,arguments)}function dr(E,y){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,f.Z)(function*(E,y){return $t(E,"POST","/v1/accounts:sendOobCode",mt(E,y))})).apply(this,arguments)}function Vs(E,y){return oi.apply(this,arguments)}function oi(){return(oi=(0,f.Z)(function*(E,y){return dr(E,y)})).apply(this,arguments)}function rn(E,y){return Po.apply(this,arguments)}function Po(){return(Po=(0,f.Z)(function*(E,y){return dr(E,y)})).apply(this,arguments)}function rh(E,y){return pl.apply(this,arguments)}function pl(){return(pl=(0,f.Z)(function*(E,y){return dr(E,y)})).apply(this,arguments)}function ih(E,y){return gl.apply(this,arguments)}function gl(){return(gl=(0,f.Z)(function*(E,y){return dr(E,y)})).apply(this,arguments)}function oo(){return(oo=(0,f.Z)(function*(E,y){return Ai(E,"POST","/v1/accounts:signInWithEmailLink",mt(E,y))})).apply(this,arguments)}function Ic(){return(Ic=(0,f.Z)(function*(E,y){return Ai(E,"POST","/v1/accounts:signInWithEmailLink",mt(E,y))})).apply(this,arguments)}class ai extends Cr{constructor(y,v,D,O=null){super("password",D),this._email=y,this._password=v,this._tenantId=O}static _fromEmailAndPassword(y,v){return new ai(y,v,"password")}static _fromEmailAndCode(y,v,D=null){return new ai(y,v,"emailLink",D)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(y){const v="string"==typeof y?JSON.parse(y):y;if((null==v?void 0:v.email)&&(null==v?void 0:v.password)){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(y){var v=this;return(0,f.Z)(function*(){switch(v.signInMethod){case"password":return function(E,y){return xi.apply(this,arguments)}(y,{returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function(E,y){return oo.apply(this,arguments)}(y,{email:v._email,oobCode:v._password});default:Oe(y,"internal-error")}})()}_linkToIdToken(y,v){var D=this;return(0,f.Z)(function*(){switch(D.signInMethod){case"password":return ba(y,{idToken:v,returnSecureToken:!0,email:D._email,password:D._password});case"emailLink":return function(E,y){return Ic.apply(this,arguments)}(y,{idToken:v,email:D._email,oobCode:D._password});default:Oe(y,"internal-error")}})()}_getReauthenticationResolver(y){return this._getIdTokenResponse(y)}}function Jt(E,y){return ml.apply(this,arguments)}function ml(){return(ml=(0,f.Z)(function*(E,y){return Ai(E,"POST","/v1/accounts:signInWithIdp",mt(E,y))})).apply(this,arguments)}class li extends Cr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(y){const v=new li(y.providerId,y.signInMethod);return y.idToken||y.accessToken?(y.idToken&&(v.idToken=y.idToken),y.accessToken&&(v.accessToken=y.accessToken),y.nonce&&!y.pendingToken&&(v.nonce=y.nonce),y.pendingToken&&(v.pendingToken=y.pendingToken)):y.oauthToken&&y.oauthTokenSecret?(v.accessToken=y.oauthToken,v.secret=y.oauthTokenSecret):Oe("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(y){const v="string"==typeof y?JSON.parse(y):y,{providerId:D,signInMethod:O}=v,L=(0,ae._T)(v,["providerId","signInMethod"]);if(!D||!O)return null;const ee=new li(D,O);return ee.idToken=L.idToken||void 0,ee.accessToken=L.accessToken||void 0,ee.secret=L.secret,ee.nonce=L.nonce,ee.pendingToken=L.pendingToken||null,ee}_getIdTokenResponse(y){return Jt(y,this.buildRequest())}_linkToIdToken(y,v){const D=this.buildRequest();return D.idToken=v,Jt(y,D)}_getReauthenticationResolver(y){const v=this.buildRequest();return v.autoCreate=!1,Jt(y,v)}buildRequest(){const y={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)y.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),y.postBody=(0,j.xO)(v)}return y}}function Ki(E,y){return xc.apply(this,arguments)}function xc(){return(xc=(0,f.Z)(function*(E,y){return $t(E,"POST","/v1/accounts:sendVerificationCode",mt(E,y))})).apply(this,arguments)}function Ea(){return(Ea=(0,f.Z)(function*(E,y){return Ai(E,"POST","/v1/accounts:signInWithPhoneNumber",mt(E,y))})).apply(this,arguments)}function sh(){return(sh=(0,f.Z)(function*(E,y){const v=yield Ai(E,"POST","/v1/accounts:signInWithPhoneNumber",mt(E,y));if(v.temporaryProof)throw ps(E,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const Gm={USER_NOT_FOUND:"user-not-found"};function oh(){return(oh=(0,f.Z)(function*(E,y){return Ai(E,"POST","/v1/accounts:signInWithPhoneNumber",mt(E,Object.assign(Object.assign({},y),{operation:"REAUTH"})),Gm)})).apply(this,arguments)}class Ca extends Cr{constructor(y){super("phone","phone"),this.params=y}static _fromVerification(y,v){return new Ca({verificationId:y,verificationCode:v})}static _fromTokenResponse(y,v){return new Ca({phoneNumber:y,temporaryProof:v})}_getIdTokenResponse(y){return function(E,y){return Ea.apply(this,arguments)}(y,this._makeVerificationRequest())}_linkToIdToken(y,v){return function(E,y){return sh.apply(this,arguments)}(y,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(y){return function(E,y){return oh.apply(this,arguments)}(y,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:y,phoneNumber:v,verificationId:D,verificationCode:O}=this.params;return y&&v?{temporaryProof:y,phoneNumber:v}:{sessionInfo:D,code:O}}toJSON(){const y={providerId:this.providerId};return this.params.phoneNumber&&(y.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(y.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(y.verificationCode=this.params.verificationCode),this.params.verificationId&&(y.verificationId=this.params.verificationId),y}static fromJSON(y){"string"==typeof y&&(y=JSON.parse(y));const{verificationId:v,verificationCode:D,phoneNumber:O,temporaryProof:L}=y;return D||v||O||L?new Ca({verificationId:v,verificationCode:D,phoneNumber:O,temporaryProof:L}):null}}class Da{constructor(y){var v,D,O,L,ee,Ae;const Ke=(0,j.zd)((0,j.pd)(y)),nt=null!==(v=Ke.apiKey)&&void 0!==v?v:null,Et=null!==(D=Ke.oobCode)&&void 0!==D?D:null,pt=function(E){switch(E){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(O=Ke.mode)&&void 0!==O?O:null);Ne(nt&&Et&&pt,"argument-error"),this.apiKey=nt,this.operation=pt,this.code=Et,this.continueUrl=null!==(L=Ke.continueUrl)&&void 0!==L?L:null,this.languageCode=null!==(ee=Ke.languageCode)&&void 0!==ee?ee:null,this.tenantId=null!==(Ae=Ke.tenantId)&&void 0!==Ae?Ae:null}static parseLink(y){const v=function(E){const y=(0,j.zd)((0,j.pd)(E)).link,v=y?(0,j.zd)((0,j.pd)(y)).deep_link_id:null,D=(0,j.zd)((0,j.pd)(E)).deep_link_id;return(D?(0,j.zd)((0,j.pd)(D)).link:null)||D||v||y||E}(y);try{return new Da(v)}catch(D){return null}}}let fu=(()=>{class E{constructor(){this.providerId=E.PROVIDER_ID}static credential(v,D){return ai._fromEmailAndPassword(v,D)}static credentialWithLink(v,D){const O=Da.parseLink(D);return Ne(O,"argument-error"),ai._fromEmailAndCode(v,O.code,O.tenantId)}}return E.PROVIDER_ID="password",E.EMAIL_PASSWORD_SIGN_IN_METHOD="password",E.EMAIL_LINK_SIGN_IN_METHOD="emailLink",E})();class Vo{constructor(y){this.providerId=y,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(y){this.defaultLanguageCode=y}setCustomParameters(y){return this.customParameters=y,this}getCustomParameters(){return this.customParameters}}class yl extends Vo{constructor(){super(...arguments),this.scopes=[]}addScope(y){return this.scopes.includes(y)||this.scopes.push(y),this}getScopes(){return[...this.scopes]}}class ao extends yl{static credentialFromJSON(y){const v="string"==typeof y?JSON.parse(y):y;return Ne("providerId"in v&&"signInMethod"in v,"argument-error"),li._fromParams(v)}credential(y){return this._credential(Object.assign(Object.assign({},y),{nonce:y.rawNonce}))}_credential(y){return Ne(y.idToken||y.accessToken,"argument-error"),li._fromParams(Object.assign(Object.assign({},y),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(y){return ao.oauthCredentialFromTaggedObject(y)}static credentialFromError(y){return ao.oauthCredentialFromTaggedObject(y.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:v,oauthAccessToken:D,oauthTokenSecret:O,pendingToken:L,nonce:ee,providerId:Ae}=y;if(!D&&!O&&!v&&!L||!Ae)return null;try{return new ao(Ae)._credential({idToken:v,accessToken:D,nonce:ee,pendingToken:L})}catch(Ke){return null}}}let Sc=(()=>{class E extends yl{constructor(){super("facebook.com")}static credential(v){return li._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return E.credentialFromTaggedObject(v)}static credentialFromError(v){return E.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return E.credential(v.oauthAccessToken)}catch(D){return null}}}return E.FACEBOOK_SIGN_IN_METHOD="facebook.com",E.PROVIDER_ID="facebook.com",E})(),pu=(()=>{class E extends yl{constructor(){super("google.com"),this.addScope("profile")}static credential(v,D){return li._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:D})}static credentialFromResult(v){return E.credentialFromTaggedObject(v)}static credentialFromError(v){return E.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:D,oauthAccessToken:O}=v;if(!D&&!O)return null;try{return E.credential(D,O)}catch(L){return null}}}return E.GOOGLE_SIGN_IN_METHOD="google.com",E.PROVIDER_ID="google.com",E})(),Tc=(()=>{class E extends yl{constructor(){super("github.com")}static credential(v){return li._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return E.credentialFromTaggedObject(v)}static credentialFromError(v){return E.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return E.credential(v.oauthAccessToken)}catch(D){return null}}}return E.GITHUB_SIGN_IN_METHOD="github.com",E.PROVIDER_ID="github.com",E})();class Aa extends Cr{constructor(y,v){super(y,y),this.pendingToken=v}_getIdTokenResponse(y){return Jt(y,this.buildRequest())}_linkToIdToken(y,v){const D=this.buildRequest();return D.idToken=v,Jt(y,D)}_getReauthenticationResolver(y){const v=this.buildRequest();return v.autoCreate=!1,Jt(y,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(y){const v="string"==typeof y?JSON.parse(y):y,{providerId:D,signInMethod:O,pendingToken:L}=v;return D&&O&&L&&D===O?new Aa(D,L):null}static _create(y,v){return new Aa(y,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let Yi=(()=>{class E extends yl{constructor(){super("twitter.com")}static credential(v,D){return li._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:D})}static credentialFromResult(v){return E.credentialFromTaggedObject(v)}static credentialFromError(v){return E.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:D,oauthTokenSecret:O}=v;if(!D||!O)return null;try{return E.credential(D,O)}catch(L){return null}}}return E.TWITTER_SIGN_IN_METHOD="twitter.com",E.PROVIDER_ID="twitter.com",E})();function gs(E,y){return ui.apply(this,arguments)}function ui(){return(ui=(0,f.Z)(function*(E,y){return Ai(E,"POST","/v1/accounts:signUp",mt(E,y))})).apply(this,arguments)}class Zi{constructor(y){this.user=y.user,this.providerId=y.providerId,this._tokenResponse=y._tokenResponse,this.operationType=y.operationType}static _fromIdTokenResponse(y,v,D,O=!1){return(0,f.Z)(function*(){const L=yield ln._fromIdTokenResponse(y,D,O),ee=ah(D);return new Zi({user:L,providerId:ee,_tokenResponse:D,operationType:v})})()}static _forOperation(y,v,D){return(0,f.Z)(function*(){yield y._updateTokensIfNecessary(D,!0);const O=ah(D);return new Zi({user:y,providerId:O,_tokenResponse:D,operationType:v})})()}}function ah(E){return E.providerId?E.providerId:"phoneNumber"in E?"phone":null}function Bo(){return(Bo=(0,f.Z)(function*(E){var y;const v=Qt(E);if(yield v._initializationPromise,null===(y=v.currentUser)||void 0===y?void 0:y.isAnonymous)return new Zi({user:v.currentUser,providerId:null,operationType:"signIn"});const D=yield gs(v,{returnSecureToken:!0}),O=yield Zi._fromIdTokenResponse(v,"signIn",D,!0);return yield v._updateCurrentUser(O.user),O})).apply(this,arguments)}class gu extends j.ZR{constructor(y,v,D,O){var L;super(v.code,v.message),this.operationType=D,this.user=O,this.name="FirebaseError",Object.setPrototypeOf(this,gu.prototype),this.appName=y.name,this.code=v.code,this.tenantId=null!==(L=y.tenantId)&&void 0!==L?L:void 0,this.serverResponse=v.customData.serverResponse}static _fromErrorAndOperation(y,v,D,O){return new gu(y,v,D,O)}}function _l(E,y,v,D){return("reauthenticate"===y?v._getReauthenticationResolver(E):v._getIdTokenResponse(E)).catch(L=>{throw"auth/multi-factor-auth-required"===L.code?gu._fromErrorAndOperation(E,L,y,D):L})}function lh(E){return new Set(E.map(({providerId:y})=>y).filter(y=>!!y))}function Uo(){return(Uo=(0,f.Z)(function*(E,y){const v=(0,j.m9)(E);yield ms(!0,v,y);const{providerUserInfo:D}=yield Mn(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[y]}),O=lh(D||[]);return v.providerData=v.providerData.filter(L=>O.has(L.providerId)),O.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v})).apply(this,arguments)}function Ia(E,y){return lo.apply(this,arguments)}function lo(){return(lo=(0,f.Z)(function*(E,y,v=!1){const D=yield xn(E,y._linkToIdToken(E.auth,yield E.getIdToken()),v);return Zi._forOperation(E,"link",D)})).apply(this,arguments)}function ms(E,y,v){return jo.apply(this,arguments)}function jo(){return(jo=(0,f.Z)(function*(E,y,v){yield No(y);const O=!1===E?"provider-already-linked":"no-such-provider";Ne(lh(y.providerData).has(v)===E,y.auth,O)})).apply(this,arguments)}function xa(E,y){return mn.apply(this,arguments)}function mn(){return(mn=(0,f.Z)(function*(E,y,v=!1){const{auth:D}=E,O="reauthenticate";try{const L=yield xn(E,_l(D,O,y,E),v);Ne(L.idToken,D,"internal-error");const ee=rt(L.idToken);Ne(ee,D,"internal-error");const{sub:Ae}=ee;return Ne(E.uid===Ae,D,"user-mismatch"),Zi._forOperation(E,O,L)}catch(L){throw"auth/user-not-found"===(null==L?void 0:L.code)&&Oe(D,"user-mismatch"),L}})).apply(this,arguments)}function mu(E,y){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,f.Z)(function*(E,y,v=!1){const D="signIn",O=yield _l(E,D,y),L=yield Zi._fromIdTokenResponse(E,D,O);return v||(yield E._updateCurrentUser(L.user)),L})).apply(this,arguments)}function yu(E,y){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,f.Z)(function*(E,y){return mu(Qt(E),y)})).apply(this,arguments)}function uh(E,y){return _u.apply(this,arguments)}function _u(){return(_u=(0,f.Z)(function*(E,y){const v=(0,j.m9)(E);return yield ms(!1,v,y.providerId),Ia(v,y)})).apply(this,arguments)}function vl(E,y){return kr.apply(this,arguments)}function kr(){return(kr=(0,f.Z)(function*(E,y){return xa((0,j.m9)(E),y)})).apply(this,arguments)}function Np(E,y){return ys.apply(this,arguments)}function ys(){return(ys=(0,f.Z)(function*(E,y){return Ai(E,"POST","/v1/accounts:signInWithCustomToken",mt(E,y))})).apply(this,arguments)}function fr(){return(fr=(0,f.Z)(function*(E,y){const v=Qt(E),D=yield Np(v,{token:y,returnSecureToken:!0}),O=yield Zi._fromIdTokenResponse(v,"signIn",D);return yield v._updateCurrentUser(O.user),O})).apply(this,arguments)}class Ho{constructor(y,v){this.factorId=y,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(y,v){return"phoneInfo"in v?Ta._fromServerResponse(y,v):Oe(y,"internal-error")}}class Ta extends Ho{constructor(y){super("phone",y),this.phoneNumber=y.phoneInfo}static _fromServerResponse(y,v){return new Ta(v)}}function bl(E,y,v){var D;Ne((null===(D=v.url)||void 0===D?void 0:D.length)>0,E,"invalid-continue-uri"),Ne(void 0===v.dynamicLinkDomain||v.dynamicLinkDomain.length>0,E,"invalid-dynamic-link-domain"),y.continueUrl=v.url,y.dynamicLinkDomain=v.dynamicLinkDomain,y.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(Ne(v.iOS.bundleId.length>0,E,"missing-ios-bundle-id"),y.iOSBundleId=v.iOS.bundleId),v.android&&(Ne(v.android.packageName.length>0,E,"missing-android-pkg-name"),y.androidInstallApp=v.android.installApp,y.androidMinimumVersionCode=v.android.minimumVersion,y.androidPackageName=v.android.packageName)}function Ma(){return(Ma=(0,f.Z)(function*(E,y,v){const D=(0,j.m9)(E),O={requestType:"PASSWORD_RESET",email:y};v&&bl(D,O,v),yield rn(D,O)})).apply(this,arguments)}function yt(){return(yt=(0,f.Z)(function*(E,y,v){yield Dn((0,j.m9)(E),{oobCode:y,newPassword:v})})).apply(this,arguments)}function Bs(){return(Bs=(0,f.Z)(function*(E,y){yield wa((0,j.m9)(E),{oobCode:y})})).apply(this,arguments)}function Ra(E,y){return $o.apply(this,arguments)}function $o(){return($o=(0,f.Z)(function*(E,y){const v=(0,j.m9)(E),D=yield Dn(v,{oobCode:y}),O=D.requestType;switch(Ne(O,v,"internal-error"),O){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ne(D.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ne(D.mfaInfo,v,"internal-error");default:Ne(D.email,v,"internal-error")}let L=null;return D.mfaInfo&&(L=Ho._fromServerResponse(Qt(v),D.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.newEmail:D.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.email:D.newEmail)||null,multiFactorInfo:L},operation:O}})).apply(this,arguments)}function Us(){return(Us=(0,f.Z)(function*(E,y){const{data:v}=yield Ra((0,j.m9)(E),y);return v.email})).apply(this,arguments)}function Fe(){return(Fe=(0,f.Z)(function*(E,y,v){const D=Qt(E),O=yield gs(D,{returnSecureToken:!0,email:y,password:v}),L=yield Zi._fromIdTokenResponse(D,"signIn",O);return yield D._updateCurrentUser(L.user),L})).apply(this,arguments)}function Sn(){return(Sn=(0,f.Z)(function*(E,y,v){const D=(0,j.m9)(E),O={requestType:"EMAIL_SIGNIN",email:y};Ne(v.handleCodeInApp,D,"argument-error"),v&&bl(D,O,v),yield rh(D,O)})).apply(this,arguments)}function Si(){return(Si=(0,f.Z)(function*(E,y,v){const D=(0,j.m9)(E),O=fu.credentialWithLink(y,v||ct());return Ne(O._tenantId===(D.tenantId||null),D,"tenant-id-mismatch"),yu(D,O)})).apply(this,arguments)}function wl(E,y){return co.apply(this,arguments)}function co(){return(co=(0,f.Z)(function*(E,y){return $t(E,"POST","/v1/accounts:createAuthUri",mt(E,y))})).apply(this,arguments)}function bu(){return(bu=(0,f.Z)(function*(E,y){const D={identifier:y,continueUri:Zt()?ct():"http://localhost"},{signinMethods:O}=yield wl((0,j.m9)(E),D);return O||[]})).apply(this,arguments)}function _s(){return(_s=(0,f.Z)(function*(E,y){const v=(0,j.m9)(E),O={requestType:"VERIFY_EMAIL",idToken:yield E.getIdToken()};y&&bl(v.auth,O,y);const{email:L}=yield Vs(v.auth,O);L!==E.email&&(yield E.reload())})).apply(this,arguments)}function $r(){return($r=(0,f.Z)(function*(E,y,v){const D=(0,j.m9)(E),L={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield E.getIdToken(),newEmail:y};v&&bl(D.auth,L,v);const{email:ee}=yield ih(D.auth,L);ee!==E.email&&(yield E.reload())})).apply(this,arguments)}function wu(E,y){return vs.apply(this,arguments)}function vs(){return(vs=(0,f.Z)(function*(E,y){return $t(E,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function El(){return(El=(0,f.Z)(function*(E,{displayName:y,photoURL:v}){if(void 0===y&&void 0===v)return;const D=(0,j.m9)(E),L={idToken:yield D.getIdToken(),displayName:y,photoUrl:v,returnSecureToken:!0},ee=yield xn(D,wu(D.auth,L));D.displayName=ee.displayName||null,D.photoURL=ee.photoUrl||null;const Ae=D.providerData.find(({providerId:Ke})=>"password"===Ke);Ae&&(Ae.displayName=D.displayName,Ae.photoURL=D.photoURL),yield D._updateTokensIfNecessary(ee)})).apply(this,arguments)}function Cl(E,y,v){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,f.Z)(function*(E,y,v){const{auth:D}=E,L={idToken:yield E.getIdToken(),returnSecureToken:!0};y&&(L.email=y),v&&(L.password=v);const ee=yield xn(E,ba(D,L));yield E._updateTokensIfNecessary(ee,!0)})).apply(this,arguments)}class qo{constructor(y,v,D={}){this.isNewUser=y,this.providerId=v,this.profile=D}}class Eu extends qo{constructor(y,v,D,O){super(y,v,D),this.username=O}}class kc extends qo{constructor(y,v){super(y,"facebook.com",v)}}class kp extends Eu{constructor(y,v){super(y,"github.com",v,"string"==typeof(null==v?void 0:v.login)?null==v?void 0:v.login:null)}}class Ko extends qo{constructor(y,v){super(y,"google.com",v)}}class ph extends Eu{constructor(y,v,D){super(y,"twitter.com",v,D)}}function Fp(E){const{user:y,_tokenResponse:v}=E;return y.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function(E){var y,v;if(!E)return null;const{providerId:D}=E,O=E.rawUserInfo?JSON.parse(E.rawUserInfo):{},L=E.isNewUser||"identitytoolkit#SignupNewUserResponse"===E.kind;if(!D&&(null==E?void 0:E.idToken)){const ee=null===(v=null===(y=rt(E.idToken))||void 0===y?void 0:y.firebase)||void 0===v?void 0:v.sign_in_provider;if(ee)return new qo(L,"anonymous"!==ee&&"custom"!==ee?ee:null)}if(!D)return null;switch(D){case"facebook.com":return new kc(L,O);case"github.com":return new kp(L,O);case"google.com":return new Ko(L,O);case"twitter.com":return new ph(L,O,E.screenName||null);case"custom":case"anonymous":return new qo(L,null);default:return new qo(L,D,O)}}(v)}class bs{constructor(y,v){this.type=y,this.credential=v}static _fromIdtoken(y){return new bs("enroll",y)}static _fromMfaPendingCredential(y){return new bs("signin",y)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(y){var v,D;if(null==y?void 0:y.multiFactorSession){if(null===(v=y.multiFactorSession)||void 0===v?void 0:v.pendingCredential)return bs._fromMfaPendingCredential(y.multiFactorSession.pendingCredential);if(null===(D=y.multiFactorSession)||void 0===D?void 0:D.idToken)return bs._fromIdtoken(y.multiFactorSession.idToken)}return null}}class Cu{constructor(y,v,D){this.session=y,this.hints=v,this.signInResolver=D}static _fromError(y,v){const D=Qt(y),O=(v.serverResponse.mfaInfo||[]).map(ee=>Ho._fromServerResponse(D,ee));Ne(v.serverResponse.mfaPendingCredential,D,"internal-error");const L=bs._fromMfaPendingCredential(v.serverResponse.mfaPendingCredential);return new Cu(L,O,function(){var ee=(0,f.Z)(function*(Ae){const Ke=yield Ae._process(D,L);delete v.serverResponse.mfaInfo,delete v.serverResponse.mfaPendingCredential;const nt=Object.assign(Object.assign({},v.serverResponse),{idToken:Ke.idToken,refreshToken:Ke.refreshToken});switch(v.operationType){case"signIn":const Et=yield Zi._fromIdTokenResponse(D,v.operationType,nt);return yield D._updateCurrentUser(Et.user),Et;case"reauthenticate":return Ne(v.user,D,"internal-error"),Zi._forOperation(v.user,v.operationType,nt);default:Oe(D,"internal-error")}});return function(Ae){return ee.apply(this,arguments)}}())}resolveSignIn(y){var v=this;return(0,f.Z)(function*(){return v.signInResolver(y)})()}}function yh(E,y){return $t(E,"POST","/v2/accounts/mfaEnrollment:start",mt(E,y))}class Na{constructor(y){this.user=y,this.enrolledFactors=[],y._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(D=>Ho._fromServerResponse(y.auth,D)))})}static _fromUser(y){return new Na(y)}getSession(){var y=this;return(0,f.Z)(function*(){return bs._fromIdtoken(yield y.user.getIdToken())})()}enroll(y,v){var D=this;return(0,f.Z)(function*(){const O=y,L=yield D.getSession(),ee=yield xn(D.user,O._process(D.user.auth,L,v));return yield D.user._updateTokensIfNecessary(ee),D.user.reload()})()}unenroll(y){var v=this;return(0,f.Z)(function*(){const D="string"==typeof y?y:y.uid,O=yield v.user.getIdToken(),L=yield xn(v.user,function(E,y){return $t(E,"POST","/v2/accounts/mfaEnrollment:withdraw",mt(E,y))}(v.user.auth,{idToken:O,mfaEnrollmentId:D}));v.enrolledFactors=v.enrolledFactors.filter(({uid:ee})=>ee!==D),yield v.user._updateTokensIfNecessary(L);try{yield v.user.reload()}catch(ee){if("auth/user-token-expired"!==ee.code)throw ee}})()}}const ho=new WeakMap,Zo="__sak";class Pc{constructor(y,v){this.storage=y,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(Zo,"1"),this.storage.removeItem(Zo),Promise.resolve(!0)):Promise.resolve(!1)}catch(y){return Promise.resolve(!1)}}_set(y,v){return this.storage.setItem(y,JSON.stringify(v)),Promise.resolve()}_get(y){const v=this.storage.getItem(y);return Promise.resolve(v?JSON.parse(v):null)}_remove(y){return this.storage.removeItem(y),Promise.resolve()}}const Du=(()=>{class E extends Pc{constructor(){super(window.localStorage,"LOCAL"),this.boundEventHandler=(v,D)=>this.onStorageEvent(v,D),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const E=(0,j.z$)();return Dc(E)||qi(E)}()&&function(){try{return!(!window||window===window.top)}catch(E){return!1}}(),this.fallbackToPolling=Ps(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const D of Object.keys(this.listeners)){const O=this.storage.getItem(D),L=this.localCache[D];O!==L&&v(D,L,O)}}onStorageEvent(v,D=!1){if(!v.key)return void this.forAllChangedKeys((Ae,Ke,nt)=>{this.notifyListeners(Ae,nt)});const O=v.key;if(D?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ae=this.storage.getItem(O);if(v.newValue!==Ae)null!==v.newValue?this.storage.setItem(O,v.newValue):this.storage.removeItem(O);else if(this.localCache[O]===v.newValue&&!D)return}const L=()=>{const Ae=this.storage.getItem(O);!D&&this.localCache[O]===Ae||this.notifyListeners(O,Ae)},ee=this.storage.getItem(O);(0,j.w1)()&&10===document.documentMode&&ee!==v.newValue&&v.newValue!==v.oldValue?setTimeout(L,10):L()}notifyListeners(v,D){this.localCache[v]=D;const O=this.listeners[v];if(O)for(const L of Array.from(O))L(D&&JSON.parse(D))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,D,O)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:D,newValue:O}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,D){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(D)}_removeListener(v,D){this.listeners[v]&&(this.listeners[v].delete(D),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,D){var O=()=>super._set,L=this;return(0,f.Z)(function*(){yield O().call(L,v,D),L.localCache[v]=JSON.stringify(D)})()}_get(v){var D=()=>super._get,O=this;return(0,f.Z)(function*(){const L=yield D().call(O,v);return O.localCache[v]=JSON.stringify(L),L})()}_remove(v){var D=()=>super._remove,O=this;return(0,f.Z)(function*(){yield D().call(O,v),delete O.localCache[v]})()}}return E.type="LOCAL",E})(),Gs=(()=>{class E extends Pc{constructor(){super(window.sessionStorage,"SESSION")}_addListener(v,D){}_removeListener(v,D){}}return E.type="SESSION",E})();let po=(()=>{class E{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const D=this.receivers.find(L=>L.isListeningto(v));if(D)return D;const O=new E(v);return this.receivers.push(O),O}isListeningto(v){return this.eventTarget===v}handleEvent(v){var D=this;return(0,f.Z)(function*(){const O=v,{eventId:L,eventType:ee,data:Ae}=O.data,Ke=D.handlersMap[ee];if(!(null==Ke?void 0:Ke.size))return;O.ports[0].postMessage({status:"ack",eventId:L,eventType:ee});const nt=Array.from(Ke).map(function(){var pt=(0,f.Z)(function*(Vn){return Vn(O.origin,Ae)});return function(Vn){return pt.apply(this,arguments)}}()),Et=yield function(E){return Promise.all(E.map(function(){var y=(0,f.Z)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(D){return{fulfilled:!1,reason:D}}});return function(v){return y.apply(this,arguments)}}()))}(nt);O.ports[0].postMessage({status:"done",eventId:L,eventType:ee,response:Et})})()}_subscribe(v,D){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(D)}_unsubscribe(v,D){this.handlersMap[v]&&D&&this.handlersMap[v].delete(D),(!D||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return E.receivers=[],E})();function Au(E="",y=10){let v="";for(let D=0;D<y;D++)v+=Math.floor(10*Math.random());return E+v}class vh{constructor(y){this.target=y,this.handlers=new Set}removeMessageHandler(y){y.messageChannel&&(y.messageChannel.port1.removeEventListener("message",y.onMessage),y.messageChannel.port1.close()),this.handlers.delete(y)}_send(y,v,D=50){var O=this;return(0,f.Z)(function*(){const L="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!L)throw new Error("connection_unavailable");let ee,Ae;return new Promise((Ke,nt)=>{const Et=Au("",20);L.port1.start();const pt=setTimeout(()=>{nt(new Error("unsupported_event"))},D);Ae={messageChannel:L,onMessage(Vn){const ki=Vn;if(ki.data.eventId===Et)switch(ki.data.status){case"ack":clearTimeout(pt),ee=setTimeout(()=>{nt(new Error("timeout"))},3e3);break;case"done":clearTimeout(ee),Ke(ki.data.response);break;default:clearTimeout(pt),clearTimeout(ee),nt(new Error("invalid_response"))}}},O.handlers.add(Ae),L.port1.addEventListener("message",Ae.onMessage),O.target.postMessage({eventType:y,eventId:Et,data:v},[L.port2])}).finally(()=>{Ae&&O.removeMessageHandler(Ae)})})()}}function _n(){return window}function Il(){return void 0!==_n().WorkerGlobalScope&&"function"==typeof _n().importScripts}function Vc(){return(Vc=(0,f.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(E){return null}})).apply(this,arguments)}const wh="firebaseLocalStorageDb",Tl="firebaseLocalStorage",ka="fbase_key";class Iu{constructor(y){this.request=y}toPromise(){return new Promise((y,v)=>{this.request.addEventListener("success",()=>{y(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function Ti(E,y){return E.transaction([Tl],y?"readwrite":"readonly").objectStore(Tl)}function dt(){const E=indexedDB.open(wh,1);return new Promise((y,v)=>{E.addEventListener("error",()=>{v(E.error)}),E.addEventListener("upgradeneeded",()=>{const D=E.result;try{D.createObjectStore(Tl,{keyPath:ka})}catch(O){v(O)}}),E.addEventListener("success",(0,f.Z)(function*(){const D=E.result;D.objectStoreNames.contains(Tl)?y(D):(D.close(),yield function(){const E=indexedDB.deleteDatabase(wh);return new Iu(E).toPromise()}(),y(yield dt()))}))})}function Pn(E,y,v){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,f.Z)(function*(E,y,v){const D=Ti(E,!0).put({[ka]:y,value:v});return new Iu(D).toPromise()})).apply(this,arguments)}function ws(){return(ws=(0,f.Z)(function*(E,y){const v=Ti(E,!1).get(y),D=yield new Iu(v).toPromise();return void 0===D?null:D.value})).apply(this,arguments)}function $s(E,y){const v=Ti(E,!0).delete(y);return new Iu(v).toPromise()}const Fa=(()=>{class E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,f.Z)(function*(){return v.db||(v.db=yield dt()),v.db})()}_withRetries(v){var D=this;return(0,f.Z)(function*(){let O=0;for(;;)try{const L=yield D._openDb();return yield v(L)}catch(L){if(O++>3)throw L;D.db&&(D.db.close(),D.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,f.Z)(function*(){return Il()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,f.Z)(function*(){v.receiver=po._getInstance(Il()?self:null),v.receiver._subscribe("keyChanged",function(){var D=(0,f.Z)(function*(O,L){return{keyProcessed:(yield v._poll()).includes(L.key)}});return function(O,L){return D.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var D=(0,f.Z)(function*(O,L){return["keyChanged"]});return function(O,L){return D.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,f.Z)(function*(){var D,O;if(v.activeServiceWorker=yield function(){return Vc.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new vh(v.activeServiceWorker);const L=yield v.sender._send("ping",{},800);!L||(null===(D=L[0])||void 0===D?void 0:D.fulfilled)&&(null===(O=L[0])||void 0===O?void 0:O.value.includes("keyChanged"))&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var D=this;return(0,f.Z)(function*(){if(D.sender&&D.activeServiceWorker&&function(){var E;return(null===(E=null==navigator?void 0:navigator.serviceWorker)||void 0===E?void 0:E.controller)||null}()===D.activeServiceWorker)try{yield D.sender._send("keyChanged",{key:v},D.serviceWorkerReceiverAvailable?800:50)}catch(O){}})()}_isAvailable(){return(0,f.Z)(function*(){try{if(!indexedDB)return!1;const v=yield dt();return yield Pn(v,Zo,"1"),yield $s(v,Zo),!0}catch(v){}return!1})()}_withPendingWrite(v){var D=this;return(0,f.Z)(function*(){D.pendingWrites++;try{yield v()}finally{D.pendingWrites--}})()}_set(v,D){var O=this;return(0,f.Z)(function*(){return O._withPendingWrite((0,f.Z)(function*(){return yield O._withRetries(L=>Pn(L,v,D)),O.localCache[v]=D,O.notifyServiceWorker(v)}))})()}_get(v){var D=this;return(0,f.Z)(function*(){const O=yield D._withRetries(L=>function(E,y){return ws.apply(this,arguments)}(L,v));return D.localCache[v]=O,O})()}_remove(v){var D=this;return(0,f.Z)(function*(){return D._withPendingWrite((0,f.Z)(function*(){return yield D._withRetries(O=>$s(O,v)),delete D.localCache[v],D.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,f.Z)(function*(){const D=yield v._withRetries(ee=>{const Ae=Ti(ee,!1).getAll();return new Iu(Ae).toPromise()});if(!D)return[];if(0!==v.pendingWrites)return[];const O=[],L=new Set;for(const{fbase_key:ee,value:Ae}of D)L.add(ee),JSON.stringify(v.localCache[ee])!==JSON.stringify(Ae)&&(v.notifyListeners(ee,Ae),O.push(ee));for(const ee of Object.keys(v.localCache))v.localCache[ee]&&!L.has(ee)&&(v.notifyListeners(ee,null),O.push(ee));return O})()}notifyListeners(v,D){this.localCache[v]=D;const O=this.listeners[v];if(O)for(const L of Array.from(O))L(D)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,f.Z)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,D){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(D)}_removeListener(v,D){this.listeners[v]&&(this.listeners[v].delete(D),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return E.type="LOCAL",E})();function pr(E,y){return $t(E,"POST","/v2/accounts/mfaSignIn:start",mt(E,y))}function xu(){return(xu=(0,f.Z)(function*(E){return(yield $t(E,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function La(E){return new Promise((y,v)=>{const D=document.createElement("script");D.setAttribute("src",E),D.onload=y,D.onerror=O=>{const L=$e("internal-error");L.customData=O,v(L)},D.type="text/javascript",D.charset="UTF-8",function(){var E,y;return null!==(y=null===(E=document.getElementsByTagName("head"))||void 0===E?void 0:E[0])&&void 0!==y?y:document}().appendChild(D)})}function Su(E){return`__${E}${Math.floor(1e6*Math.random())}`}const Qi=1e12;class Ch{constructor(y){this.auth=y,this.counter=Qi,this._widgets=new Map}render(y,v){const D=this.counter;return this._widgets.set(D,new Ml(y,this.auth.name,v||{})),this.counter++,D}reset(y){var v;const D=y||Qi;null===(v=this._widgets.get(D))||void 0===v||v.delete(),this._widgets.delete(D)}getResponse(y){var v;return(null===(v=this._widgets.get(y||Qi))||void 0===v?void 0:v.getResponse())||""}execute(y){var v=this;return(0,f.Z)(function*(){var D;return null===(D=v._widgets.get(y||Qi))||void 0===D||D.execute(),""})()}}class Ml{constructor(y,v,D){this.params=D,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const O="string"==typeof y?document.getElementById(y):y;Ne(O,"argument-error",{appName:v}),this.container=O,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(E){const y=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let D=0;D<50;D++)y.push(v.charAt(Math.floor(Math.random()*v.length)));return y.join("")}();const{callback:y,"expired-callback":v}=this.params;if(y)try{y(this.responseToken)}catch(D){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch(D){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const go=Su("rcb"),Rl=new $n(3e4,6e4);class Ri{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!_n().grecaptcha}load(y,v=""){return Ne((E=v).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(E),y,"argument-error"),this.shouldResolveImmediately(v)?Promise.resolve(_n().grecaptcha):new Promise((D,O)=>{const L=_n().setTimeout(()=>{O($e(y,"network-request-failed"))},Rl.get());_n()[go]=()=>{_n().clearTimeout(L),delete _n()[go];const Ae=_n().grecaptcha;if(!Ae)return void O($e(y,"internal-error"));const Ke=Ae.render;Ae.render=(nt,Et)=>{const pt=Ke(nt,Et);return this.counter++,pt},this.hostLanguage=v,D(Ae)},La(`https://www.google.com/recaptcha/api.js??${(0,j.xO)({onload:go,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(L),O($e(y,"internal-error"))})});var E}clearedOneInstance(){this.counter--}shouldResolveImmediately(y){return!!_n().grecaptcha&&(y===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Xo{load(y){return(0,f.Z)(function*(){return new Ch(y)})()}clearedOneInstance(){}}const $p="recaptcha",bb={theme:"light",type:"image"};class Dh{constructor(y,v=Object.assign({},bb),D){this.parameters=v,this.type=$p,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Qt(D),this.isInvisible="invisible"===this.parameters.size,Ne("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const O="string"==typeof y?document.getElementById(y):y;Ne(O,this.auth,"argument-error"),this.container=O,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Xo:new Ri,this.validateStartingState()}verify(){var y=this;return(0,f.Z)(function*(){y.assertNotDestroyed();const v=yield y.render(),D=y.getAssertedRecaptcha();return D.getResponse(v)||new Promise(L=>{const ee=Ae=>{!Ae||(y.tokenChangeListeners.delete(ee),L(Ae))};y.tokenChangeListeners.add(ee),y.isInvisible&&D.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(y){return Promise.reject(y)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(y=>{throw this.renderPromise=null,y})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(y=>{this.container.removeChild(y)})}validateStartingState(){Ne(!this.parameters.sitekey,this.auth,"argument-error"),Ne(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ne("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(y){return v=>{if(this.tokenChangeListeners.forEach(D=>D(v)),"function"==typeof y)y(v);else if("string"==typeof y){const D=_n()[y];"function"==typeof D&&D(v)}}}assertNotDestroyed(){Ne(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var y=this;return(0,f.Z)(function*(){if(yield y.init(),!y.widgetId){let v=y.container;if(!y.isInvisible){const D=document.createElement("div");v.appendChild(D),v=D}y.widgetId=y.getAssertedRecaptcha().render(v,y.parameters)}return y.widgetId})()}init(){var y=this;return(0,f.Z)(function*(){Ne(Zt()&&!Il(),y.auth,"internal-error"),yield function(){let E=null;return new Promise(y=>{"complete"!==document.readyState?(E=()=>y(),window.addEventListener("load",E)):y()}).catch(y=>{throw E&&window.removeEventListener("load",E),y})}(),y.recaptcha=yield y._recaptchaLoader.load(y.auth,y.auth.languageCode||void 0);const v=yield function(E){return xu.apply(this,arguments)}(y.auth);Ne(v,y.auth,"internal-error"),y.parameters.sitekey=v})()}getAssertedRecaptcha(){return Ne(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class jc{constructor(y,v){this.verificationId=y,this.onConfirmation=v}confirm(y){const v=Ca._fromVerification(this.verificationId,y);return this.onConfirmation(v)}}function Va(){return(Va=(0,f.Z)(function*(E,y,v){const D=Qt(E),O=yield Ol(D,y,(0,j.m9)(v));return new jc(O,L=>yu(D,L))})).apply(this,arguments)}function Gc(){return(Gc=(0,f.Z)(function*(E,y,v){const D=(0,j.m9)(E);yield ms(!1,D,"phone");const O=yield Ol(D.auth,y,(0,j.m9)(v));return new jc(O,L=>uh(D,L))})).apply(this,arguments)}function Pr(){return(Pr=(0,f.Z)(function*(E,y,v){const D=(0,j.m9)(E),O=yield Ol(D.auth,y,(0,j.m9)(v));return new jc(O,L=>vl(D,L))})).apply(this,arguments)}function Ol(E,y,v){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,f.Z)(function*(E,y,v){var D;const O=yield v.verify();try{let L;if(Ne("string"==typeof O,E,"argument-error"),Ne(v.type===$p,E,"argument-error"),L="string"==typeof y?{phoneNumber:y}:y,"session"in L){const ee=L.session;if("phoneNumber"in L)return Ne("enroll"===ee.type,E,"internal-error"),(yield yh(E,{idToken:ee.credential,phoneEnrollmentInfo:{phoneNumber:L.phoneNumber,recaptchaToken:O}})).phoneSessionInfo.sessionInfo;{Ne("signin"===ee.type,E,"internal-error");const Ae=(null===(D=L.multiFactorHint)||void 0===D?void 0:D.uid)||L.multiFactorUid;return Ne(Ae,E,"missing-multi-factor-info"),(yield pr(E,{mfaPendingCredential:ee.credential,mfaEnrollmentId:Ae,phoneSignInInfo:{recaptchaToken:O}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ee}=yield Ki(E,{phoneNumber:L.phoneNumber,recaptchaToken:O});return ee}}finally{v._reset()}})).apply(this,arguments)}function Tu(){return(Tu=(0,f.Z)(function*(E,y){yield Ia((0,j.m9)(E),y)})).apply(this,arguments)}let $c=(()=>{class E{constructor(v){this.providerId=E.PROVIDER_ID,this.auth=Qt(v)}verifyPhoneNumber(v,D){return Ol(this.auth,v,(0,j.m9)(D))}static credential(v,D){return Ca._fromVerification(v,D)}static credentialFromResult(v){return E.credentialFromTaggedObject(v)}static credentialFromError(v){return E.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:D,temporaryProof:O}=v;return D&&O?Ca._fromTokenResponse(D,O):null}}return E.PROVIDER_ID="phone",E.PHONE_SIGN_IN_METHOD="phone",E})();function qn(E,y){return y?ge(y):(Ne(E._popupRedirectResolver,E,"argument-error"),E._popupRedirectResolver)}class Ji extends Cr{constructor(y){super("custom","custom"),this.params=y}_getIdTokenResponse(y){return Jt(y,this._buildIdpRequest())}_linkToIdToken(y,v){return Jt(y,this._buildIdpRequest(v))}_getReauthenticationResolver(y){return Jt(y,this._buildIdpRequest())}_buildIdpRequest(y){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return y&&(v.idToken=y),v}}function Ih(E){return mu(E.auth,new Ji(E),E.bypassAuthState)}function Kn(E){const{auth:y,user:v}=E;return Ne(v,y,"internal-error"),xa(v,new Ji(E),E.bypassAuthState)}function zs(E){return yo.apply(this,arguments)}function yo(){return(yo=(0,f.Z)(function*(E){const{auth:y,user:v}=E;return Ne(v,y,"internal-error"),Ia(v,new Ji(E),E.bypassAuthState)})).apply(this,arguments)}class zp{constructor(y,v,D,O,L=!1){this.auth=y,this.resolver=D,this.user=O,this.bypassAuthState=L,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var y=this;return new Promise(function(){var v=(0,f.Z)(function*(D,O){y.pendingPromise={resolve:D,reject:O};try{y.eventManager=yield y.resolver._initialize(y.auth),yield y.onExecution(),y.eventManager.registerConsumer(y)}catch(L){y.reject(L)}});return function(D,O){return v.apply(this,arguments)}}())}onAuthEvent(y){var v=this;return(0,f.Z)(function*(){const{urlResponse:D,sessionId:O,postBody:L,tenantId:ee,error:Ae,type:Ke}=y;if(Ae)return void v.reject(Ae);const nt={auth:v.auth,requestUri:D,sessionId:O,tenantId:ee||void 0,postBody:L||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(Ke)(nt))}catch(Et){v.reject(Et)}})()}onError(y){this.reject(y)}getIdpTask(y){switch(y){case"signInViaPopup":case"signInViaRedirect":return Ih;case"linkViaPopup":case"linkViaRedirect":return zs;case"reauthViaPopup":case"reauthViaRedirect":return Kn;default:Oe(this.auth,"internal-error")}}resolve(y){he(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(y),this.unregisterAndCleanUp()}reject(y){he(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(y),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const qp=new $n(2e3,1e4);function ci(){return(ci=(0,f.Z)(function*(E,y,v){const D=Qt(E);St(E,y,Vo);const O=qn(D,v);return new qs(D,"signInViaPopup",y,O).executeNotNull()})).apply(this,arguments)}function _o(){return(_o=(0,f.Z)(function*(E,y,v){const D=(0,j.m9)(E);St(D.auth,y,Vo);const O=qn(D.auth,v);return new qs(D.auth,"reauthViaPopup",y,O,D).executeNotNull()})).apply(this,arguments)}function Nl(){return(Nl=(0,f.Z)(function*(E,y,v){const D=(0,j.m9)(E);St(D.auth,y,Vo);const O=qn(D.auth,v);return new qs(D.auth,"linkViaPopup",y,O,D).executeNotNull()})).apply(this,arguments)}let qs=(()=>{class E extends zp{constructor(v,D,O,L,ee){super(v,D,L,ee),this.provider=O,this.authWindow=null,this.pollId=null,E.currentPopupAction&&E.currentPopupAction.cancel(),E.currentPopupAction=this}executeNotNull(){var v=this;return(0,f.Z)(function*(){const D=yield v.execute();return Ne(D,v.auth,"internal-error"),D})()}onExecution(){var v=this;return(0,f.Z)(function*(){he(1===v.filter.length,"Popup operations only handle one event");const D=Au();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],D),v.authWindow.associatedEvent=D,v.resolver._originValidation(v.auth).catch(O=>{v.reject(O)}),v.resolver._isIframeWebStorageSupported(v.auth,O=>{O||v.reject($e(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject($e(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,E.currentPopupAction=null}pollUserCancellation(){const v=()=>{var D,O;this.pollId=(null===(O=null===(D=this.authWindow)||void 0===D?void 0:D.window)||void 0===O?void 0:O.closed)?window.setTimeout(()=>{this.pollId=null,this.reject($e(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(v,qp.get())};v()}}return E.currentPopupAction=null,E})();const Kp=new Map;class x extends zp{constructor(y,v,D=!1){super(y,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,D),this.eventId=null}execute(){var y=()=>super.execute,v=this;return(0,f.Z)(function*(){let D=Kp.get(v.auth._key());if(!D){try{const L=(yield function(E,y){return F.apply(this,arguments)}(v.resolver,v.auth))?yield y().call(v):null;D=()=>Promise.resolve(L)}catch(O){D=()=>Promise.reject(O)}Kp.set(v.auth._key(),D)}return D()})()}onAuthEvent(y){var v=()=>super.onAuthEvent,D=this;return(0,f.Z)(function*(){if("signInViaRedirect"===y.type)return v().call(D,y);if("unknown"!==y.type){if(y.eventId){const O=yield D.auth._redirectUserForId(y.eventId);if(O)return D.user=O,v().call(D,y);D.resolve(null)}}else D.resolve(null)})()}onExecution(){return(0,f.Z)(function*(){})()}cleanUp(){}}function F(){return(F=(0,f.Z)(function*(E,y){const v=Je(y),D="true"===(yield Pe(E)._get(v));return yield Pe(E)._remove(v),D})).apply(this,arguments)}function H(E,y){return te.apply(this,arguments)}function te(){return(te=(0,f.Z)(function*(E,y){return Pe(E)._set(Je(y),"true")})).apply(this,arguments)}function Pe(E){return ge(E._redirectPersistence)}function Je(E){return dn("pendingRedirect",E.config.apiKey,E.name)}function tn(){return(tn=(0,f.Z)(function*(E,y,v){const D=Qt(E);St(E,y,Vo);const O=qn(D,v);return yield H(O,D),O._openRedirect(D,y,"signInViaRedirect")})).apply(this,arguments)}function Rn(){return(Rn=(0,f.Z)(function*(E,y,v){const D=(0,j.m9)(E);St(D.auth,y,Vo);const O=qn(D.auth,v);yield H(O,D.auth);const L=yield Pt(D);return O._openRedirect(D.auth,y,"reauthViaRedirect",L)})).apply(this,arguments)}function Xi(){return(Xi=(0,f.Z)(function*(E,y,v){const D=(0,j.m9)(E);St(D.auth,y,Vo);const O=qn(D.auth,v);yield ms(!1,D,y.providerId),yield H(O,D.auth);const L=yield Pt(D);return O._openRedirect(D.auth,y,"linkViaRedirect",L)})).apply(this,arguments)}function hi(){return(hi=(0,f.Z)(function*(E,y){return yield Qt(E)._initializationPromise,kl(E,y,!1)})).apply(this,arguments)}function kl(E,y){return xh.apply(this,arguments)}function xh(){return(xh=(0,f.Z)(function*(E,y,v=!1){const D=Qt(E),O=qn(D,y),ee=yield new x(D,O,v).execute();return ee&&!v&&(delete ee.user._redirectEventId,yield D._persistUserIfCurrent(ee.user),yield D._setRedirectUser(null,y)),ee})).apply(this,arguments)}function Pt(E){return qc.apply(this,arguments)}function qc(){return(qc=(0,f.Z)(function*(E){const y=Au(`${E.uid}:::`);return E._redirectEventId=y,yield E.auth._setRedirectUser(E),yield E.auth._persistUserIfCurrent(E),y})).apply(this,arguments)}class Yc{constructor(y){this.auth=y,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(y){this.consumers.add(y),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,y)&&(this.sendToConsumer(this.queuedRedirectEvent,y),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(y){this.consumers.delete(y)}onEvent(y){if(this.hasEventBeenHandled(y))return!1;let v=!1;return this.consumers.forEach(D=>{this.isEventForConsumer(y,D)&&(v=!0,this.sendToConsumer(y,D),this.saveEventToCache(y))}),this.hasHandledPotentialRedirect||!function(E){switch(E.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Fl(E);default:return!1}}(y)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=y,v=!0)),v}sendToConsumer(y,v){var D;if(y.error&&!Fl(y)){const O=(null===(D=y.error.code)||void 0===D?void 0:D.split("auth/")[1])||"internal-error";v.onError($e(this.auth,O))}else v.onAuthEvent(y)}isEventForConsumer(y,v){const D=null===v.eventId||!!y.eventId&&y.eventId===v.eventId;return v.filter.includes(y.type)&&D}hasEventBeenHandled(y){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ua(y))}saveEventToCache(y){this.cachedEventUids.add(Ua(y)),this.lastProcessedEventTime=Date.now()}}function Ua(E){return[E.type,E.eventId,E.sessionId,E.tenantId].filter(y=>y).join("-")}function Fl({type:E,error:y}){return"unknown"===E&&"auth/no-auth-event"===(null==y?void 0:y.code)}function Ln(E){return es.apply(this,arguments)}function es(){return(es=(0,f.Z)(function*(E,y={}){return $t(E,"GET","/v1/projects",y)})).apply(this,arguments)}const Km=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ja=/^https?/;function Ym(){return(Ym=(0,f.Z)(function*(E){if(E.config.emulator)return;const{authorizedDomains:y}=yield Ln(E);for(const v of y)try{if(Ir(v))return}catch(D){}Oe(E,"unauthorized-domain")})).apply(this,arguments)}function Ir(E){const y=ct(),{protocol:v,hostname:D}=new URL(y);if(E.startsWith("chrome-extension://")){const ee=new URL(E);return""===ee.hostname&&""===D?"chrome-extension:"===v&&E.replace("chrome-extension://","")===y.replace("chrome-extension://",""):"chrome-extension:"===v&&ee.hostname===D}if(!ja.test(v))return!1;if(Km.test(E))return D===E;const O=E.replace(/\./g,"\\.");return new RegExp("^(.+\\."+O+"|"+O+")$","i").test(D)}const Ys=new $n(3e4,6e4);function Eb(){const E=_n().___jsl;if(null==E?void 0:E.H)for(const y of Object.keys(E.H))if(E.H[y].r=E.H[y].r||[],E.H[y].L=E.H[y].L||[],E.H[y].r=[...E.H[y].L],E.CP)for(let v=0;v<E.CP.length;v++)E.CP[v]=null}let ts=null;function Zc(E){return ts=ts||function(E){return new Promise((y,v)=>{var D,O,L;function ee(){Eb(),gapi.load("gapi.iframes",{callback:()=>{y(gapi.iframes.getContext())},ontimeout:()=>{Eb(),v($e(E,"network-request-failed"))},timeout:Ys.get()})}if(null===(O=null===(D=_n().gapi)||void 0===D?void 0:D.iframes)||void 0===O?void 0:O.Iframe)y(gapi.iframes.getContext());else{if(!(null===(L=_n().gapi)||void 0===L?void 0:L.load)){const Ae=Su("iframefcb");return _n()[Ae]=()=>{gapi.load?ee():v($e(E,"network-request-failed"))},La(`https://apis.google.com/js/api.js?onload=${Ae}`)}ee()}}).catch(y=>{throw ts=null,y})}(E),ts}const Ga=new $n(5e3,15e3),Sh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},Wc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Qc(E){const y=E.config;Ne(y.authDomain,E,"auth-domain-config-required");const v=y.emulator?nn(y,"emulator/auth/iframe"):`https://${E.config.authDomain}/__/auth/iframe`,D={apiKey:y.apiKey,appName:E.name,v:Ee.SDK_VERSION},O=Wc.get(E.config.apiHost);O&&(D.eid=O);const L=E._getFrameworks();return L.length&&(D.fw=L.join(",")),`${v}?${(0,j.xO)(D).slice(1)}`}function Bt(){return(Bt=(0,f.Z)(function*(E){const y=yield Zc(E),v=_n().gapi;return Ne(v,E,"internal-error"),y.open({where:document.body,url:Qc(E),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Sh,dontclear:!0},D=>new Promise(function(){var O=(0,f.Z)(function*(L,ee){yield D.restyle({setHideOnLeave:!1});const Ae=$e(E,"network-request-failed"),Ke=_n().setTimeout(()=>{ee(Ae)},Ga.get());function nt(){_n().clearTimeout(Ke),L(D)}D.ping(nt).then(nt,()=>{ee(Ae)})});return function(L,ee){return O.apply(this,arguments)}}()))})).apply(this,arguments)}const wo={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Yp{constructor(y){this.window=y,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(y){}}}function ea(E,y,v,D,O,L){Ne(E.config.authDomain,E,"auth-domain-config-required"),Ne(E.config.apiKey,E,"invalid-api-key");const ee={apiKey:E.config.apiKey,appName:E.name,authType:v,redirectUrl:D,v:Ee.SDK_VERSION,eventId:O};if(y instanceof Vo){y.setDefaultLanguage(E.languageCode),ee.providerId=y.providerId||"",(0,j.xb)(y.getCustomParameters())||(ee.customParameters=JSON.stringify(y.getCustomParameters()));for(const[Ke,nt]of Object.entries(L||{}))ee[Ke]=nt}if(y instanceof yl){const Ke=y.getScopes().filter(nt=>""!==nt);Ke.length>0&&(ee.scopes=Ke.join(","))}E.tenantId&&(ee.tid=E.tenantId);const Ae=ee;for(const Ke of Object.keys(Ae))void 0===Ae[Ke]&&delete Ae[Ke];return`${function({config:E}){return E.emulator?nn(E,"emulator/auth/handler"):`https://${E.authDomain}/__/auth/handler`}(E)}?${(0,j.xO)(Ae).slice(1)}`}const Eo="webStorageSupport";class Ou extends class{constructor(y){this.factorId=y}_process(y,v,D){switch(v.type){case"enroll":return this._finalizeEnroll(y,v.credential,D);case"signin":return this._finalizeSignIn(y,v.credential);default:return le("unexpected MultiFactorSessionType")}}}{constructor(y){super("phone"),this.credential=y}static _fromCredential(y){return new Ou(y)}_finalizeEnroll(y,v,D){return function(E,y){return $t(E,"POST","/v2/accounts/mfaEnrollment:finalize",mt(E,y))}(y,{idToken:v,displayName:D,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(y,v){return function(E,y){return $t(E,"POST","/v2/accounts/mfaSignIn:finalize",mt(E,y))}(y,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Qp=(()=>{class E{constructor(){}static assertion(v){return Ou._fromCredential(v)}}return E.FACTOR_ID="phone",E})();var E;class Xm{constructor(y){this.auth=y,this.internalListeners=new Map}getUid(){var y;return this.assertAuthConfigured(),(null===(y=this.auth.currentUser)||void 0===y?void 0:y.uid)||null}getToken(y){var v=this;return(0,f.Z)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(y)}:null})()}addAuthTokenListener(y){if(this.assertAuthConfigured(),this.internalListeners.has(y))return;const v=this.auth.onIdTokenChanged(D=>{var O;y((null===(O=D)||void 0===O?void 0:O.stsTokenManager.accessToken)||null)});this.internalListeners.set(y,v),this.updateProactiveRefresh()}removeAuthTokenListener(y){this.assertAuthConfigured();const v=this.internalListeners.get(y);!v||(this.internalListeners.delete(y),v(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Bl(){return window}function ns(){return(ns=(0,f.Z)(function*(E,y,v){var D;const{BuildInfo:O}=Bl();he(y.sessionId,"AuthEvent did not contain a session ID");const L=yield ry(y.sessionId),ee={};return qi()?ee.ibi=O.packageName:no()?ee.apn=O.packageName:Oe(E,"operation-not-supported-in-this-environment"),O.displayName&&(ee.appDisplayName=O.displayName),ee.sessionId=L,ea(E,v,y.type,void 0,null!==(D=y.eventId)&&void 0!==D?D:void 0,ee)})).apply(this,arguments)}function Ha(){return(Ha=(0,f.Z)(function*(E){const{BuildInfo:y}=Bl(),v={};qi()?v.iosBundleId=y.packageName:no()?v.androidPackageName=y.packageName:Oe(E,"operation-not-supported-in-this-environment"),yield Ln(E,v)})).apply(this,arguments)}function Xp(){return(Xp=(0,f.Z)(function*(E,y,v){const{cordova:D}=Bl();let O=()=>{};try{yield new Promise((L,ee)=>{let Ae=null;function Ke(){var pt;L();const Vn=null===(pt=D.plugins.browsertab)||void 0===pt?void 0:pt.close;"function"==typeof Vn&&Vn(),"function"==typeof(null==v?void 0:v.close)&&v.close()}function nt(){Ae||(Ae=window.setTimeout(()=>{ee($e(E,"redirect-cancelled-by-user"))},2e3))}function Et(){"visible"===(null==document?void 0:document.visibilityState)&&nt()}y.addPassiveListener(Ke),document.addEventListener("resume",nt,!1),no()&&document.addEventListener("visibilitychange",Et,!1),O=()=>{y.removePassiveListener(Ke),document.removeEventListener("resume",nt,!1),document.removeEventListener("visibilitychange",Et,!1),Ae&&window.clearTimeout(Ae)}})}finally{O()}})).apply(this,arguments)}function ry(E){return Oh.apply(this,arguments)}function Oh(){return(Oh=(0,f.Z)(function*(E){const y=Nh(E),v=yield crypto.subtle.digest("SHA-256",y);return Array.from(new Uint8Array(v)).map(O=>O.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Nh(E){if(he(/[0-9a-zA-Z]+/.test(E),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(E);const y=new ArrayBuffer(E.length),v=new Uint8Array(y);for(let D=0;D<E.length;D++)v[D]=E.charCodeAt(D);return v}E="Browser",(0,Ee._registerComponent)(new pe.wA("auth",(y,{options:v})=>{const D=y.getProvider("app").getImmediate(),{apiKey:O,authDomain:L}=D.options;return(ee=>{Ne(O&&!O.includes(":"),"invalid-api-key",{appName:ee.name}),Ne(!(null==L?void 0:L.includes(":")),"argument-error",{appName:ee.name});const Ae={apiKey:O,authDomain:L,clientPlatform:E,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cr(E)},Ke=new nh(ee,Ae);return function(E,y){const v=(null==y?void 0:y.persistence)||[],D=(Array.isArray(v)?v:[v]).map(ge);(null==y?void 0:y.errorMap)&&E._updateErrorMap(y.errorMap),E._initializeWithPersistence(D,null==y?void 0:y.popupRedirectResolver)}(Ke,v),Ke})(D)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((y,v,D)=>{y.getProvider("auth-internal").initialize()})),(0,Ee._registerComponent)(new pe.wA("auth-internal",y=>{const v=Qt(y.getProvider("auth").getImmediate());return new Xm(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ee.registerVersion)("@firebase/auth","0.18.2",void 0);class eg extends Yc{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(y=>{this.resolveInialized=y})}addPassiveListener(y){this.passiveListeners.add(y)}removePassiveListener(y){this.passiveListeners.delete(y)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(y){return this.resolveInialized(),this.passiveListeners.forEach(v=>v(y)),super.onEvent(y)}initialized(){var y=this;return(0,f.Z)(function*(){yield y.initPromise})()}}function kh(E){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,f.Z)(function*(E){const y=yield jl()._get(Fh(E));return y&&(yield jl()._remove(Fh(E))),y})).apply(this,arguments)}function Zs(){const E=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<20;v++){const D=Math.floor(Math.random()*y.length);E.push(y.charAt(D))}return E.join("")}function jl(){return ge(Du)}function Fh(E){return dn("authEvent",E.config.apiKey,E.name)}function Gl(E){if(!(null==E?void 0:E.includes("?")))return{};const[y,...v]=E.split("?");return(0,j.zd)(v.join("?"))}function Lh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:$e("no-auth-event")}}function id(){var E;return(null===(E=null==self?void 0:self.location)||void 0===E?void 0:E.protocol)||null}function cy(E=(0,j.z$)()){return!("file:"!==id()&&"ionic:"!==id()||!E.toLowerCase().match(/iphone|ipad|ipod|android/))}function Bh(){try{const E=self.localStorage,y=Au();if(E)return E.setItem(y,"1"),E.removeItem(y),!function(E=(0,j.z$)()){return(0,j.w1)()&&11===(null==document?void 0:document.documentMode)||function(E=(0,j.z$)()){return/Edge\/\d+/.test(E)}(E)}()||(0,j.hl)()}catch(E){return rg()&&(0,j.hl)()}return!1}function rg(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function An(){return("http:"===id()||"https:"===id()||(0,j.ru)()||cy())&&!((0,j.b$)()||(0,j.UG)())&&Bh()&&!rg()}function hy(){return cy()&&"undefined"!=typeof document}function Cs(){return(Cs=(0,f.Z)(function*(){return!!hy()&&new Promise(E=>{const y=setTimeout(()=>{E(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(y),E(!0)})})})).apply(this,arguments)}const Ni={LOCAL:"local",NONE:"none",SESSION:"session"},Ws=Ne,fy="persistence";function sg(E){return og.apply(this,arguments)}function og(){return(og=(0,f.Z)(function*(E){yield E._initializationPromise;const y=od(),v=dn(fy,E.config.apiKey,E.name);(null==y?void 0:y.sessionStorage)&&y.sessionStorage.setItem(v,E._getPersistence())})).apply(this,arguments)}function od(){return"undefined"!=typeof window?window:null}const ku=Ne;class On{constructor(){this.browserResolver=ge(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Gs,this._completeRedirectFn=kl}_openPopup(y,v,D,O){var L=this;return(0,f.Z)(function*(){var ee;he(null===(ee=L.eventManagers[y._key()])||void 0===ee?void 0:ee.manager,"_initialize() not called before _openPopup()");const Ae=ea(y,v,D,ct(),O);return function(E,y,v,D=500,O=600){const L=Math.max((window.screen.availHeight-O)/2,0).toString(),ee=Math.max((window.screen.availWidth-D)/2,0).toString();let Ae="";const Ke=Object.assign(Object.assign({},wo),{width:D.toString(),height:O.toString(),top:L,left:ee}),nt=(0,j.z$)().toLowerCase();v&&(Ae=hl(nt)?"_blank":v),va(nt)&&(y=y||"http://localhost",Ke.scrollbars="yes");const Et=Object.entries(Ke).reduce((Vn,[ki,gr])=>`${Vn}${ki}=${gr},`,"");if(function(E=(0,j.z$)()){var y;return qi(E)&&!!(null===(y=window.navigator)||void 0===y?void 0:y.standalone)}(nt)&&"_self"!==Ae)return function(E,y){const v=document.createElement("a");v.href=E,v.target=y;const D=document.createEvent("MouseEvent");D.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(D)}(y||"",Ae),new Yp(null);const pt=window.open(y||"",Ae,Et);Ne(pt,E,"popup-blocked");try{pt.focus()}catch(Vn){}return new Yp(pt)}(y,Ae,Au())})()}_openRedirect(y,v,D,O){var L=this;return(0,f.Z)(function*(){return yield L._originValidation(y),E=ea(y,v,D,ct(),O),_n().location.href=E,new Promise(()=>{});var E})()}_initialize(y){const v=y._key();if(this.eventManagers[v]){const{manager:O,promise:L}=this.eventManagers[v];return O?Promise.resolve(O):(he(L,"If manager is not set, promise should be"),L)}const D=this.initAndGetManager(y);return this.eventManagers[v]={promise:D},D}initAndGetManager(y){var v=this;return(0,f.Z)(function*(){const D=yield function(E){return Bt.apply(this,arguments)}(y),O=new Yc(y);return D.register("authEvent",L=>(Ne(null==L?void 0:L.authEvent,y,"invalid-auth-event"),{status:O.onEvent(L.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[y._key()]={manager:O},v.iframes[y._key()]=D,O})()}_isIframeWebStorageSupported(y,v){this.iframes[y._key()].send(Eo,{type:Eo},O=>{var L;const ee=null===(L=null==O?void 0:O[0])||void 0===L?void 0:L[Eo];void 0!==ee&&v(!!ee),Oe(y,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(y){const v=y._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function(E){return Ym.apply(this,arguments)}(y)),this.originValidationPromises[v]}get _shouldInitProactively(){return Ps()||Dc()||qi()}}),this.cordovaResolver=ge(class{constructor(){this._redirectPersistence=Gs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=kl}_initialize(y){var v=this;return(0,f.Z)(function*(){const D=y._key();let O=v.eventManagers.get(D);return O||(O=new eg(y),v.eventManagers.set(D,O),v.attachCallbackListeners(y,O)),O})()}_openPopup(y){Oe(y,"operation-not-supported-in-this-environment")}_openRedirect(y,v,D,O){var L=this;return(0,f.Z)(function*(){!function(E){var y,v,D,O,L,ee,Ae,Ke,nt,Et;const pt=Bl();Ne("function"==typeof(null===(y=null==pt?void 0:pt.universalLinks)||void 0===y?void 0:y.subscribe),E,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ne(void 0!==(null===(v=null==pt?void 0:pt.BuildInfo)||void 0===v?void 0:v.packageName),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ne("function"==typeof(null===(L=null===(O=null===(D=null==pt?void 0:pt.cordova)||void 0===D?void 0:D.plugins)||void 0===O?void 0:O.browsertab)||void 0===L?void 0:L.openUrl),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ne("function"==typeof(null===(Ke=null===(Ae=null===(ee=null==pt?void 0:pt.cordova)||void 0===ee?void 0:ee.plugins)||void 0===Ae?void 0:Ae.browsertab)||void 0===Ke?void 0:Ke.isAvailable),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ne("function"==typeof(null===(Et=null===(nt=null==pt?void 0:pt.cordova)||void 0===nt?void 0:nt.InAppBrowser)||void 0===Et?void 0:Et.open),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(y);const ee=yield L._initialize(y);yield ee.initialized(),ee.resetRedirect(),Kp.clear(),yield L._originValidation(y);const Ae=function(E,y,v=null){return{type:y,eventId:v,urlResponse:null,sessionId:Zs(),postBody:null,tenantId:E.tenantId,error:$e(E,"no-auth-event")}}(y,D,O);yield function(E,y){return jl()._set(Fh(E),y)}(y,Ae);const Ke=yield function(E,y,v){return ns.apply(this,arguments)}(y,Ae,v),nt=yield function(E){const{cordova:y}=Bl();return new Promise(v=>{y.plugins.browsertab.isAvailable(D=>{let O=null;D?y.plugins.browsertab.openUrl(E):O=y.InAppBrowser.open(E,function(E=(0,j.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(E)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(E)}()?"_blank":"_system","location=yes"),v(O)})})}(Ke);return function(E,y,v){return Xp.apply(this,arguments)}(y,ee,nt)})()}_isIframeWebStorageSupported(y,v){throw new Error("Method not implemented.")}_originValidation(y){const v=y._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function(E){return Ha.apply(this,arguments)}(y)),this.originValidationPromises[v]}attachCallbackListeners(y,v){const{universalLinks:D,handleOpenURL:O,BuildInfo:L}=Bl(),ee=setTimeout((0,f.Z)(function*(){yield kh(y),v.onEvent(Lh())}),500),Ae=function(){var Et=(0,f.Z)(function*(pt){clearTimeout(ee);const Vn=yield kh(y);let ki=null;Vn&&(null==pt?void 0:pt.url)&&(ki=function(E,y){var v,D;const O=function(E){const y=Gl(E),v=y.link?decodeURIComponent(y.link):void 0,D=Gl(v).link,O=y.deep_link_id?decodeURIComponent(y.deep_link_id):void 0;return Gl(O).link||O||D||v||E}(y);if(O.includes("/__/auth/callback")){const L=Gl(O),ee=L.firebaseError?function(E){try{return JSON.parse(E)}catch(y){return null}}(decodeURIComponent(L.firebaseError)):null,Ae=null===(D=null===(v=null==ee?void 0:ee.code)||void 0===v?void 0:v.split("auth/"))||void 0===D?void 0:D[1],Ke=Ae?$e(Ae):null;return Ke?{type:E.type,eventId:E.eventId,tenantId:E.tenantId,error:Ke,urlResponse:null,sessionId:null,postBody:null}:{type:E.type,eventId:E.eventId,tenantId:E.tenantId,sessionId:E.sessionId,urlResponse:O,postBody:null}}return null}(Vn,pt.url)),v.onEvent(ki||Lh())});return function(Vn){return Et.apply(this,arguments)}}();void 0!==D&&"function"==typeof D.subscribe&&D.subscribe(null,Ae);const Ke=O,nt=`${L.packageName.toLowerCase()}://`;Bl().handleOpenURL=function(){var Et=(0,f.Z)(function*(pt){if(pt.toLowerCase().startsWith(nt)&&Ae({url:pt}),"function"==typeof Ke)try{Ke(pt)}catch(Vn){console.error(Vn)}});return function(pt){return Et.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Gs,this._completeRedirectFn=kl}_initialize(y){var v=this;return(0,f.Z)(function*(){return yield v.selectUnderlyingResolver(),v.assertedUnderlyingResolver._initialize(y)})()}_openPopup(y,v,D,O){var L=this;return(0,f.Z)(function*(){return yield L.selectUnderlyingResolver(),L.assertedUnderlyingResolver._openPopup(y,v,D,O)})()}_openRedirect(y,v,D,O){var L=this;return(0,f.Z)(function*(){return yield L.selectUnderlyingResolver(),L.assertedUnderlyingResolver._openRedirect(y,v,D,O)})()}_isIframeWebStorageSupported(y,v){this.assertedUnderlyingResolver._isIframeWebStorageSupported(y,v)}_originValidation(y){return this.assertedUnderlyingResolver._originValidation(y)}get _shouldInitProactively(){return hy()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ku(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var y=this;return(0,f.Z)(function*(){if(y.underlyingResolver)return;const v=yield function(){return Cs.apply(this,arguments)}();y.underlyingResolver=v?y.cordovaResolver:y.browserResolver})()}}function jh(E){return E.unwrap()}function Gh(E){return Hl(E)}function Hl(E){const{_tokenResponse:y}=E instanceof j.ZR?E.customData:E;if(!y)return null;if(!(E instanceof j.ZR)&&"temporaryProof"in y&&"phoneNumber"in y)return $c.credentialFromResult(E);const v=y.providerId;if(!v||"password"===v)return null;let D;switch(v){case"google.com":D=pu;break;case"facebook.com":D=Sc;break;case"github.com":D=Tc;break;case"twitter.com":D=Yi;break;default:const{oauthIdToken:O,oauthAccessToken:L,oauthTokenSecret:ee,pendingToken:Ae,nonce:Ke}=y;return L||ee||O||Ae?Ae?v.startsWith("saml.")?Aa._create(v,Ae):li._fromParams({providerId:v,signInMethod:v,pendingToken:Ae,idToken:O,accessToken:L}):new ao(v).credential({idToken:O,accessToken:L,rawNonce:Ke}):null}return E instanceof j.ZR?D.credentialFromError(E):D.credentialFromResult(E)}function Lr(E,y){return y.catch(v=>{throw v instanceof j.ZR&&function(E,y){var v;const D=null===(v=y.customData)||void 0===v?void 0:v._tokenResponse;if("auth/multi-factor-auth-required"===y.code)y.resolver=new gy(E,function(E,y){var v;const D=(0,j.m9)(E),O=y;return Ne(y.operationType,D,"argument-error"),Ne(null===(v=O.serverResponse)||void 0===v?void 0:v.mfaPendingCredential,D,"argument-error"),Cu._fromError(D,O)}(E,y));else if(D){const O=Hl(y),L=y;O&&(L.credential=O,L.tenantId=D.tenantId||void 0,L.email=D.email||void 0,L.phoneNumber=D.phoneNumber||void 0)}}(E,v),v}).then(v=>{const O=v.user;return{operationType:v.operationType,credential:Gh(v),additionalUserInfo:Fp(v),user:ta.getOrCreate(O)}})}function Fu(E,y){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,f.Z)(function*(E,y){const v=yield y;return{verificationId:v.verificationId,confirm:D=>Lr(E,v.confirm(D))}})).apply(this,arguments)}class gy{constructor(y,v){this.resolver=v,this.auth=function(E){return E.wrapped()}(y)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(y){return Lr(jh(this.auth),this.resolver.resolveSignIn(y))}}class ta{constructor(y){this._delegate=y,this.multiFactor=function(E){const y=(0,j.m9)(E);return ho.has(y)||ho.set(y,Na._fromUser(y)),ho.get(y)}(y)}static getOrCreate(y){return ta.USER_MAP.has(y)||ta.USER_MAP.set(y,new ta(y)),ta.USER_MAP.get(y)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(y){return this._delegate.getIdTokenResult(y)}getIdToken(y){return this._delegate.getIdToken(y)}linkAndRetrieveDataWithCredential(y){return this.linkWithCredential(y)}linkWithCredential(y){var v=this;return(0,f.Z)(function*(){return Lr(v.auth,uh(v._delegate,y))})()}linkWithPhoneNumber(y,v){var D=this;return(0,f.Z)(function*(){return Fu(D.auth,function(E,y,v){return Gc.apply(this,arguments)}(D._delegate,y,v))})()}linkWithPopup(y){var v=this;return(0,f.Z)(function*(){return Lr(v.auth,function(E,y,v){return Nl.apply(this,arguments)}(v._delegate,y,On))})()}linkWithRedirect(y){var v=this;return(0,f.Z)(function*(){return yield sg(Qt(v.auth)),function(E,y,v){return function(E,y,v){return Xi.apply(this,arguments)}(E,y,v)}(v._delegate,y,On)})()}reauthenticateAndRetrieveDataWithCredential(y){return this.reauthenticateWithCredential(y)}reauthenticateWithCredential(y){var v=this;return(0,f.Z)(function*(){return Lr(v.auth,vl(v._delegate,y))})()}reauthenticateWithPhoneNumber(y,v){return Fu(this.auth,function(E,y,v){return Pr.apply(this,arguments)}(this._delegate,y,v))}reauthenticateWithPopup(y){return Lr(this.auth,function(E,y,v){return _o.apply(this,arguments)}(this._delegate,y,On))}reauthenticateWithRedirect(y){var v=this;return(0,f.Z)(function*(){return yield sg(Qt(v.auth)),function(E,y,v){return function(E,y,v){return Rn.apply(this,arguments)}(E,y,v)}(v._delegate,y,On)})()}sendEmailVerification(y){return function(E,y){return _s.apply(this,arguments)}(this._delegate,y)}unlink(y){var v=this;return(0,f.Z)(function*(){return yield function(E,y){return Uo.apply(this,arguments)}(v._delegate,y),v})()}updateEmail(y){return function(E,y){return Cl((0,j.m9)(E),y,null)}(this._delegate,y)}updatePassword(y){return function(E,y){return Cl((0,j.m9)(E),null,y)}(this._delegate,y)}updatePhoneNumber(y){return function(E,y){return Tu.apply(this,arguments)}(this._delegate,y)}updateProfile(y){return function(E,y){return El.apply(this,arguments)}(this._delegate,y)}verifyBeforeUpdateEmail(y,v){return function(E,y,v){return $r.apply(this,arguments)}(this._delegate,y,v)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ta.USER_MAP=new WeakMap;const Lu=Ne;let my=(()=>{class E{constructor(v,D){if(this.app=v,D.isInitialized())return this._delegate=D.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:O}=v.options;Lu(O,"invalid-api-key",{appName:v.name});let L=[Lt];if("undefined"!=typeof window){L=function(E,y){const v=od();if(!(null==v?void 0:v.sessionStorage))return[];const D=dn(fy,E,y);switch(v.sessionStorage.getItem(D)){case Ni.NONE:return[Lt];case Ni.LOCAL:return[Fa,Gs];case Ni.SESSION:return[Gs];default:return[]}}(O,v.name);for(const Ae of[Fa,Du,Gs])L.includes(Ae)||L.push(Ae)}Lu(O,"invalid-api-key",{appName:v.name});const ee="undefined"!=typeof window?On:void 0;this._delegate=D.initialize({options:{persistence:L,popupRedirectResolver:ee}}),this._delegate._updateErrorMap(Se),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ta.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(v){this._delegate.languageCode=v}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(v){this._delegate.tenantId=v}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(v,D){!function(E,y,v){const D=Qt(E);Ne(D._canInitEmulator,D,"emulator-config-failed"),Ne(/^https?:\/\//.test(y),D,"invalid-emulator-scheme");const O=!!(null==v?void 0:v.disableWarnings),L=hn(y),{host:ee,port:Ae}=function(E){const y=hn(E),v=/(\/\/)?([^?#/]+)/.exec(E.substr(y.length));if(!v)return{host:"",port:null};const D=v[2].split("@").pop()||"",O=/^(\[[^\]]+\])(:|$)/.exec(D);if(O){const L=O[1];return{host:L,port:io(D.substr(L.length+1))}}{const[L,ee]=D.split(":");return{host:L,port:io(ee)}}}(y);D.config.emulator={url:`${L}//${ee}${null===Ae?"":`:${Ae}`}/`},D.settings.appVerificationDisabledForTesting=!0,D.emulatorConfig=Object.freeze({host:ee,port:Ae,protocol:L.replace(":",""),options:Object.freeze({disableWarnings:O})}),O||function(){function E(){const y=document.createElement("p"),v=y.style;y.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",y.classList.add("firebase-emulator-warning"),document.body.appendChild(y)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",E):E())}()}(this._delegate,v,D)}applyActionCode(v){return function(E,y){return Bs.apply(this,arguments)}(this._delegate,v)}checkActionCode(v){return Ra(this._delegate,v)}confirmPasswordReset(v,D){return function(E,y,v){return yt.apply(this,arguments)}(this._delegate,v,D)}createUserWithEmailAndPassword(v,D){var O=this;return(0,f.Z)(function*(){return Lr(O._delegate,function(E,y,v){return Fe.apply(this,arguments)}(O._delegate,v,D))})()}fetchProvidersForEmail(v){return this.fetchSignInMethodsForEmail(v)}fetchSignInMethodsForEmail(v){return function(E,y){return bu.apply(this,arguments)}(this._delegate,v)}isSignInWithEmailLink(v){return function(E,y){const v=Da.parseLink(y);return"EMAIL_SIGNIN"===(null==v?void 0:v.operation)}(0,v)}getRedirectResult(){var v=this;return(0,f.Z)(function*(){Lu(An(),v._delegate,"operation-not-supported-in-this-environment");const D=yield function(E,y){return hi.apply(this,arguments)}(v._delegate,On);return D?Lr(v._delegate,Promise.resolve(D)):{credential:null,user:null}})()}addFrameworkForLogging(v){!function(E,y){Qt(E)._logFramework(y)}(this._delegate,v)}onAuthStateChanged(v,D,O){const{next:L,error:ee,complete:Ae}=Vu(v,D,O);return this._delegate.onAuthStateChanged(L,ee,Ae)}onIdTokenChanged(v,D,O){const{next:L,error:ee,complete:Ae}=Vu(v,D,O);return this._delegate.onIdTokenChanged(L,ee,Ae)}sendSignInLinkToEmail(v,D){return function(E,y,v){return Sn.apply(this,arguments)}(this._delegate,v,D)}sendPasswordResetEmail(v,D){return function(E,y,v){return Ma.apply(this,arguments)}(this._delegate,v,D||void 0)}setPersistence(v){var D=this;return(0,f.Z)(function*(){let O;switch(function(E,y){Ws(Object.values(Ni).includes(y),E,"invalid-persistence-type"),(0,j.b$)()?Ws(y!==Ni.SESSION,E,"unsupported-persistence-type"):(0,j.UG)()?Ws(y===Ni.NONE,E,"unsupported-persistence-type"):rg()?Ws(y===Ni.NONE||y===Ni.LOCAL&&(0,j.hl)(),E,"unsupported-persistence-type"):Ws(y===Ni.NONE||Bh(),E,"unsupported-persistence-type")}(D._delegate,v),v){case Ni.SESSION:O=Gs;break;case Ni.LOCAL:O=(yield ge(Fa)._isAvailable())?Fa:Du;break;case Ni.NONE:O=Lt;break;default:return Oe("argument-error",{appName:D._delegate.name})}return D._delegate.setPersistence(O)})()}signInAndRetrieveDataWithCredential(v){return this.signInWithCredential(v)}signInAnonymously(){return Lr(this._delegate,function(E){return Bo.apply(this,arguments)}(this._delegate))}signInWithCredential(v){return Lr(this._delegate,yu(this._delegate,v))}signInWithCustomToken(v){return Lr(this._delegate,function(E,y){return fr.apply(this,arguments)}(this._delegate,v))}signInWithEmailAndPassword(v,D){return Lr(this._delegate,function(E,y,v){return yu((0,j.m9)(E),fu.credential(y,v))}(this._delegate,v,D))}signInWithEmailLink(v,D){return Lr(this._delegate,function(E,y,v){return Si.apply(this,arguments)}(this._delegate,v,D))}signInWithPhoneNumber(v,D){return Fu(this._delegate,function(E,y,v){return Va.apply(this,arguments)}(this._delegate,v,D))}signInWithPopup(v){var D=this;return(0,f.Z)(function*(){return Lu(An(),D._delegate,"operation-not-supported-in-this-environment"),Lr(D._delegate,function(E,y,v){return ci.apply(this,arguments)}(D._delegate,v,On))})()}signInWithRedirect(v){var D=this;return(0,f.Z)(function*(){return Lu(An(),D._delegate,"operation-not-supported-in-this-environment"),yield sg(D._delegate),function(E,y,v){return function(E,y,v){return tn.apply(this,arguments)}(E,y,v)}(D._delegate,v,On)})()}updateCurrentUser(v){return this._delegate.updateCurrentUser(v)}verifyPasswordResetCode(v){return function(E,y){return Us.apply(this,arguments)}(this._delegate,v)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return E.Persistence=Ni,E})();function Vu(E,y,v){let D=E;"function"!=typeof E&&({next:D,error:y,complete:v}=E);const O=D;return{next:ee=>O(ee&&ta.getOrCreate(ee)),error:y,complete:v}}class Hh{constructor(){this.providerId="phone",this._delegate=new $c(jh(oe.Z.auth()))}static credential(y,v){return $c.credential(y,v)}verifyPhoneNumber(y,v){return this._delegate.verifyPhoneNumber(y,v)}unwrap(){return this._delegate}}Hh.PHONE_SIGN_IN_METHOD=$c.PHONE_SIGN_IN_METHOD,Hh.PROVIDER_ID=$c.PROVIDER_ID;const yy=Ne;class ad{constructor(y,v,D=oe.Z.app()){var O;yy(null===(O=D.options)||void 0===O?void 0:O.apiKey,"invalid-api-key",{appName:D.name}),this._delegate=new Dh(y,v,D.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(E){E.INTERNAL.registerComponent(new pe.wA("auth-compat",y=>{const v=y.getProvider("app-compat").getImmediate(),D=y.getProvider("auth");return new my(v,D)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:fu,FacebookAuthProvider:Sc,GithubAuthProvider:Tc,GoogleAuthProvider:pu,OAuthProvider:ao,PhoneAuthProvider:Hh,PhoneMultiFactorGenerator:Qp,RecaptchaVerifier:ad,TwitterAuthProvider:Yi,Auth:my,AuthCredential:Cr,Error:j.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),E.registerVersion("@firebase/auth-compat","0.1.5")}(oe.Z)},6676:function(et,Me){!function(B){"use strict";function f(Q){return Array.prototype.slice.call(Q)}function oe(Q){return new Promise(function(De,xe){Q.onsuccess=function(){De(Q.result)},Q.onerror=function(){xe(Q.error)}})}function j(Q,De,xe){var ye,Oe=new Promise(function($e,ze){oe(ye=Q[De].apply(Q,xe)).then($e,ze)});return Oe.request=ye,Oe}function Ee(Q,De,xe){var ye=j(Q,De,xe);return ye.then(function(Oe){if(Oe)return new U(Oe,ye.request)})}function ae(Q,De,xe){xe.forEach(function(ye){Object.defineProperty(Q.prototype,ye,{get:function(){return this[De][ye]},set:function(Oe){this[De][ye]=Oe}})})}function ce(Q,De,xe,ye){ye.forEach(function(Oe){Oe in xe.prototype&&(Q.prototype[Oe]=function(){return j(this[De],Oe,arguments)})})}function pe(Q,De,xe,ye){ye.forEach(function(Oe){Oe in xe.prototype&&(Q.prototype[Oe]=function(){return this[De][Oe].apply(this[De],arguments)})})}function ve(Q,De,xe,ye){ye.forEach(function(Oe){Oe in xe.prototype&&(Q.prototype[Oe]=function(){return Ee(this[De],Oe,arguments)})})}function X(Q){this._index=Q}function U(Q,De){this._cursor=Q,this._request=De}function G(Q){this._store=Q}function ie(Q){this._tx=Q,this.complete=new Promise(function(De,xe){Q.oncomplete=function(){De()},Q.onerror=function(){xe(Q.error)},Q.onabort=function(){xe(Q.error)}})}function ne(Q,De,xe){this._db=Q,this.oldVersion=De,this.transaction=new ie(xe)}function ue(Q){this._db=Q}ae(X,"_index",["name","keyPath","multiEntry","unique"]),ce(X,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),ve(X,"_index",IDBIndex,["openCursor","openKeyCursor"]),ae(U,"_cursor",["direction","key","primaryKey","value"]),ce(U,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(Q){Q in IDBCursor.prototype&&(U.prototype[Q]=function(){var De=this,xe=arguments;return Promise.resolve().then(function(){return De._cursor[Q].apply(De._cursor,xe),oe(De._request).then(function(ye){if(ye)return new U(ye,De._request)})})})}),G.prototype.createIndex=function(){return new X(this._store.createIndex.apply(this._store,arguments))},G.prototype.index=function(){return new X(this._store.index.apply(this._store,arguments))},ae(G,"_store",["name","keyPath","indexNames","autoIncrement"]),ce(G,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),ve(G,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),pe(G,"_store",IDBObjectStore,["deleteIndex"]),ie.prototype.objectStore=function(){return new G(this._tx.objectStore.apply(this._tx,arguments))},ae(ie,"_tx",["objectStoreNames","mode"]),pe(ie,"_tx",IDBTransaction,["abort"]),ne.prototype.createObjectStore=function(){return new G(this._db.createObjectStore.apply(this._db,arguments))},ae(ne,"_db",["name","version","objectStoreNames"]),pe(ne,"_db",IDBDatabase,["deleteObjectStore","close"]),ue.prototype.transaction=function(){return new ie(this._db.transaction.apply(this._db,arguments))},ae(ue,"_db",["name","version","objectStoreNames"]),pe(ue,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(Q){[G,X].forEach(function(De){Q in De.prototype&&(De.prototype[Q.replace("open","iterate")]=function(){var xe=f(arguments),ye=xe[xe.length-1],Oe=this._store||this._index,$e=Oe[Q].apply(Oe,xe.slice(0,-1));$e.onsuccess=function(){ye($e.result)}})})}),[X,G].forEach(function(Q){Q.prototype.getAll||(Q.prototype.getAll=function(De,xe){var ye=this,Oe=[];return new Promise(function($e){ye.iterateCursor(De,function(ze){ze?(Oe.push(ze.value),void 0===xe||Oe.length!=xe?ze.continue():$e(Oe)):$e(Oe)})})})}),B.openDb=function(Q,De,xe){var ye=j(indexedDB,"open",[Q,De]),Oe=ye.request;return Oe&&(Oe.onupgradeneeded=function($e){xe&&xe(new ne(Oe.result,$e.oldVersion,Oe.transaction))}),ye.then(function($e){return new ue($e)})},B.deleteDb=function(Q){return j(indexedDB,"deleteDatabase",[Q])},Object.defineProperty(B,"__esModule",{value:!0})}(Me)},7574:(et,Me,B)=>{"use strict";B.d(Me,{y:()=>G});var f=B(7393),j=B(9181),Ee=B(6490),ce=B(6554),pe=B(4487);var U=B(2494);let G=(()=>{class ne{constructor(Se){this._isScalar=!1,Se&&(this._subscribe=Se)}lift(Se){const me=new ne;return me.source=this,me.operator=Se,me}subscribe(Se,me,Q){const{operator:De}=this,xe=function(ne,ue,Se){if(ne){if(ne instanceof f.L)return ne;if(ne[j.b])return ne[j.b]()}return ne||ue||Se?new f.L(ne,ue,Se):new f.L(Ee.c)}(Se,me,Q);if(xe.add(De?De.call(xe,this.source):this.source||U.v.useDeprecatedSynchronousErrorHandling&&!xe.syncErrorThrowable?this._subscribe(xe):this._trySubscribe(xe)),U.v.useDeprecatedSynchronousErrorHandling&&xe.syncErrorThrowable&&(xe.syncErrorThrowable=!1,xe.syncErrorThrown))throw xe.syncErrorValue;return xe}_trySubscribe(Se){try{return this._subscribe(Se)}catch(me){U.v.useDeprecatedSynchronousErrorHandling&&(Se.syncErrorThrown=!0,Se.syncErrorValue=me),function(ne){for(;ne;){const{closed:ue,destination:Se,isStopped:me}=ne;if(ue||me)return!1;ne=Se&&Se instanceof f.L?Se:null}return!0}(Se)?Se.error(me):console.warn(me)}}forEach(Se,me){return new(me=ie(me))((Q,De)=>{let xe;xe=this.subscribe(ye=>{try{Se(ye)}catch(Oe){De(Oe),xe&&xe.unsubscribe()}},De,Q)})}_subscribe(Se){const{source:me}=this;return me&&me.subscribe(Se)}[ce.L](){return this}pipe(...Se){return 0===Se.length?this:function(ne){return 0===ne.length?pe.y:1===ne.length?ne[0]:function(Se){return ne.reduce((me,Q)=>Q(me),Se)}}(Se)(this)}toPromise(Se){return new(Se=ie(Se))((me,Q)=>{let De;this.subscribe(xe=>De=xe,xe=>Q(xe),()=>me(De))})}}return ne.create=ue=>new ne(ue),ne})();function ie(ne){if(ne||(ne=U.v.Promise||Promise),!ne)throw new Error("no Promise impl found");return ne}},6490:(et,Me,B)=>{"use strict";B.d(Me,{c:()=>j});var f=B(2494),oe=B(4449);const j={closed:!0,next(Ee){},error(Ee){if(f.v.useDeprecatedSynchronousErrorHandling)throw Ee;(0,oe.z)(Ee)},complete(){}}},9765:(et,Me,B)=>{"use strict";B.d(Me,{Yc:()=>pe,xQ:()=>ve});var f=B(7574),oe=B(7393),j=B(5319),Ee=B(7971),ae=B(8858),ce=B(9181);class pe extends oe.L{constructor(G){super(G),this.destination=G}}let ve=(()=>{class U extends f.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[ce.b](){return new pe(this)}lift(ie){const ne=new X(this,this);return ne.operator=ie,ne}next(ie){if(this.closed)throw new Ee.N;if(!this.isStopped){const{observers:ne}=this,ue=ne.length,Se=ne.slice();for(let me=0;me<ue;me++)Se[me].next(ie)}}error(ie){if(this.closed)throw new Ee.N;this.hasError=!0,this.thrownError=ie,this.isStopped=!0;const{observers:ne}=this,ue=ne.length,Se=ne.slice();for(let me=0;me<ue;me++)Se[me].error(ie);this.observers.length=0}complete(){if(this.closed)throw new Ee.N;this.isStopped=!0;const{observers:ie}=this,ne=ie.length,ue=ie.slice();for(let Se=0;Se<ne;Se++)ue[Se].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(ie){if(this.closed)throw new Ee.N;return super._trySubscribe(ie)}_subscribe(ie){if(this.closed)throw new Ee.N;return this.hasError?(ie.error(this.thrownError),j.w.EMPTY):this.isStopped?(ie.complete(),j.w.EMPTY):(this.observers.push(ie),new ae.W(this,ie))}asObservable(){const ie=new f.y;return ie.source=this,ie}}return U.create=(G,ie)=>new X(G,ie),U})();class X extends ve{constructor(G,ie){super(),this.destination=G,this.source=ie}next(G){const{destination:ie}=this;ie&&ie.next&&ie.next(G)}error(G){const{destination:ie}=this;ie&&ie.error&&this.destination.error(G)}complete(){const{destination:G}=this;G&&G.complete&&this.destination.complete()}_subscribe(G){const{source:ie}=this;return ie?this.source.subscribe(G):j.w.EMPTY}}},8858:(et,Me,B)=>{"use strict";B.d(Me,{W:()=>oe});var f=B(5319);class oe extends f.w{constructor(Ee,ae){super(),this.subject=Ee,this.subscriber=ae,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const Ee=this.subject,ae=Ee.observers;if(this.subject=null,!ae||0===ae.length||Ee.isStopped||Ee.closed)return;const ce=ae.indexOf(this.subscriber);-1!==ce&&ae.splice(ce,1)}}},7393:(et,Me,B)=>{"use strict";B.d(Me,{L:()=>pe});var f=B(9105),oe=B(6490),j=B(5319),Ee=B(9181),ae=B(2494),ce=B(4449);class pe extends j.w{constructor(U,G,ie){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=oe.c;break;case 1:if(!U){this.destination=oe.c;break}if("object"==typeof U){U instanceof pe?(this.syncErrorThrowable=U.syncErrorThrowable,this.destination=U,U.add(this)):(this.syncErrorThrowable=!0,this.destination=new ve(this,U));break}default:this.syncErrorThrowable=!0,this.destination=new ve(this,U,G,ie)}}[Ee.b](){return this}static create(U,G,ie){const ne=new pe(U,G,ie);return ne.syncErrorThrowable=!1,ne}next(U){this.isStopped||this._next(U)}error(U){this.isStopped||(this.isStopped=!0,this._error(U))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(U){this.destination.next(U)}_error(U){this.destination.error(U),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:U}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=U,this}}class ve extends pe{constructor(U,G,ie,ne){super(),this._parentSubscriber=U;let ue,Se=this;(0,f.m)(G)?ue=G:G&&(ue=G.next,ie=G.error,ne=G.complete,G!==oe.c&&(Se=Object.create(G),(0,f.m)(Se.unsubscribe)&&this.add(Se.unsubscribe.bind(Se)),Se.unsubscribe=this.unsubscribe.bind(this))),this._context=Se,this._next=ue,this._error=ie,this._complete=ne}next(U){if(!this.isStopped&&this._next){const{_parentSubscriber:G}=this;ae.v.useDeprecatedSynchronousErrorHandling&&G.syncErrorThrowable?this.__tryOrSetError(G,this._next,U)&&this.unsubscribe():this.__tryOrUnsub(this._next,U)}}error(U){if(!this.isStopped){const{_parentSubscriber:G}=this,{useDeprecatedSynchronousErrorHandling:ie}=ae.v;if(this._error)ie&&G.syncErrorThrowable?(this.__tryOrSetError(G,this._error,U),this.unsubscribe()):(this.__tryOrUnsub(this._error,U),this.unsubscribe());else if(G.syncErrorThrowable)ie?(G.syncErrorValue=U,G.syncErrorThrown=!0):(0,ce.z)(U),this.unsubscribe();else{if(this.unsubscribe(),ie)throw U;(0,ce.z)(U)}}}complete(){if(!this.isStopped){const{_parentSubscriber:U}=this;if(this._complete){const G=()=>this._complete.call(this._context);ae.v.useDeprecatedSynchronousErrorHandling&&U.syncErrorThrowable?(this.__tryOrSetError(U,G),this.unsubscribe()):(this.__tryOrUnsub(G),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(U,G){try{U.call(this._context,G)}catch(ie){if(this.unsubscribe(),ae.v.useDeprecatedSynchronousErrorHandling)throw ie;(0,ce.z)(ie)}}__tryOrSetError(U,G,ie){if(!ae.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{G.call(this._context,ie)}catch(ne){return ae.v.useDeprecatedSynchronousErrorHandling?(U.syncErrorValue=ne,U.syncErrorThrown=!0,!0):((0,ce.z)(ne),!0)}return!1}_unsubscribe(){const{_parentSubscriber:U}=this;this._context=null,this._parentSubscriber=null,U.unsubscribe()}}},5319:(et,Me,B)=>{"use strict";B.d(Me,{w:()=>ce});var f=B(9796),oe=B(1555),j=B(9105);const ae=(()=>{function ve(X){return Error.call(this),this.message=X?`${X.length} errors occurred during unsubscription:\n${X.map((U,G)=>`${G+1}) ${U.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=X,this}return ve.prototype=Object.create(Error.prototype),ve})();class ce{constructor(X){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,X&&(this._ctorUnsubscribe=!0,this._unsubscribe=X)}unsubscribe(){let X;if(this.closed)return;let{_parentOrParents:U,_ctorUnsubscribe:G,_unsubscribe:ie,_subscriptions:ne}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,U instanceof ce)U.remove(this);else if(null!==U)for(let ue=0;ue<U.length;++ue)U[ue].remove(this);if((0,j.m)(ie)){G&&(this._unsubscribe=void 0);try{ie.call(this)}catch(ue){X=ue instanceof ae?pe(ue.errors):[ue]}}if((0,f.k)(ne)){let ue=-1,Se=ne.length;for(;++ue<Se;){const me=ne[ue];if((0,oe.K)(me))try{me.unsubscribe()}catch(Q){X=X||[],Q instanceof ae?X=X.concat(pe(Q.errors)):X.push(Q)}}}if(X)throw new ae(X)}add(X){let U=X;if(!X)return ce.EMPTY;switch(typeof X){case"function":U=new ce(X);case"object":if(U===this||U.closed||"function"!=typeof U.unsubscribe)return U;if(this.closed)return U.unsubscribe(),U;if(!(U instanceof ce)){const ne=U;U=new ce,U._subscriptions=[ne]}break;default:throw new Error("unrecognized teardown "+X+" added to Subscription.")}let{_parentOrParents:G}=U;if(null===G)U._parentOrParents=this;else if(G instanceof ce){if(G===this)return U;U._parentOrParents=[G,this]}else{if(-1!==G.indexOf(this))return U;G.push(this)}const ie=this._subscriptions;return null===ie?this._subscriptions=[U]:ie.push(U),U}remove(X){const U=this._subscriptions;if(U){const G=U.indexOf(X);-1!==G&&U.splice(G,1)}}}var ve;function pe(ve){return ve.reduce((X,U)=>X.concat(U instanceof ae?U.errors:U),[])}ce.EMPTY=((ve=new ce).closed=!0,ve)},2494:(et,Me,B)=>{"use strict";B.d(Me,{v:()=>oe});let f=!1;const oe={Promise:void 0,set useDeprecatedSynchronousErrorHandling(j){if(j){const Ee=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+Ee.stack)}else f&&console.log("RxJS: Back to a better error behavior. Thank you. <3");f=j},get useDeprecatedSynchronousErrorHandling(){return f}}},5345:(et,Me,B)=>{"use strict";B.d(Me,{IY:()=>Ee,Ds:()=>ce,ft:()=>ve});var f=B(7393),oe=B(7574),j=B(7444);class Ee extends f.L{constructor(U){super(),this.parent=U}_next(U){this.parent.notifyNext(U)}_error(U){this.parent.notifyError(U),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class ce extends f.L{notifyNext(U){this.destination.next(U)}notifyError(U){this.destination.error(U)}notifyComplete(){this.destination.complete()}}function ve(X,U){if(U.closed)return;if(X instanceof oe.y)return X.subscribe(U);let G;try{G=(0,j.s)(X)(U)}catch(ie){U.error(ie)}return G}},2441:(et,Me,B)=>{"use strict";B.d(Me,{c:()=>ae,N:()=>ce});var f=B(9765),oe=B(7574),j=B(5319),Ee=B(1307);class ae extends oe.y{constructor(G,ie){super(),this.source=G,this.subjectFactory=ie,this._refCount=0,this._isComplete=!1}_subscribe(G){return this.getSubject().subscribe(G)}getSubject(){const G=this._subject;return(!G||G.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let G=this._connection;return G||(this._isComplete=!1,G=this._connection=new j.w,G.add(this.source.subscribe(new pe(this.getSubject(),this))),G.closed&&(this._connection=null,G=j.w.EMPTY)),G}refCount(){return(0,Ee.x)()(this)}}const ce=(()=>{const U=ae.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:U._subscribe},_isComplete:{value:U._isComplete,writable:!0},getSubject:{value:U.getSubject},connect:{value:U.connect},refCount:{value:U.refCount}}})();class pe extends f.Yc{constructor(G,ie){super(G),this.connectable=ie}_error(G){this._unsubscribe(),super._error(G)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const G=this.connectable;if(G){this.connectable=null;const ie=G._connection;G._refCount=0,G._subject=null,G._connection=null,ie&&ie.unsubscribe()}}}},9193:(et,Me,B)=>{"use strict";B.d(Me,{E:()=>oe,c:()=>j});var f=B(7574);const oe=new f.y(ae=>ae.complete());function j(ae){return ae?function(ae){return new f.y(ce=>ae.schedule(()=>ce.complete()))}(ae):oe}},4402:(et,Me,B)=>{"use strict";B.d(Me,{D:()=>Se});var f=B(7574),oe=B(7444),j=B(5319),Ee=B(6554),pe=B(4087),ve=B(377),G=B(4072),ie=B(9489);function Se(me,Q){return Q?function(me,Q){if(null!=me){if(function(me){return me&&"function"==typeof me[Ee.L]}(me))return function(me,Q){return new f.y(De=>{const xe=new j.w;return xe.add(Q.schedule(()=>{const ye=me[Ee.L]();xe.add(ye.subscribe({next(Oe){xe.add(Q.schedule(()=>De.next(Oe)))},error(Oe){xe.add(Q.schedule(()=>De.error(Oe)))},complete(){xe.add(Q.schedule(()=>De.complete()))}}))})),xe})}(me,Q);if((0,G.t)(me))return function(me,Q){return new f.y(De=>{const xe=new j.w;return xe.add(Q.schedule(()=>me.then(ye=>{xe.add(Q.schedule(()=>{De.next(ye),xe.add(Q.schedule(()=>De.complete()))}))},ye=>{xe.add(Q.schedule(()=>De.error(ye)))}))),xe})}(me,Q);if((0,ie.z)(me))return(0,pe.r)(me,Q);if(function(me){return me&&"function"==typeof me[ve.hZ]}(me)||"string"==typeof me)return function(me,Q){if(!me)throw new Error("Iterable cannot be null");return new f.y(De=>{const xe=new j.w;let ye;return xe.add(()=>{ye&&"function"==typeof ye.return&&ye.return()}),xe.add(Q.schedule(()=>{ye=me[ve.hZ](),xe.add(Q.schedule(function(){if(De.closed)return;let Oe,$e;try{const ze=ye.next();Oe=ze.value,$e=ze.done}catch(ze){return void De.error(ze)}$e?De.complete():(De.next(Oe),this.schedule())}))})),xe})}(me,Q)}throw new TypeError((null!==me&&typeof me||me)+" is not observable")}(me,Q):me instanceof f.y?me:new f.y((0,oe.s)(me))}},6693:(et,Me,B)=>{"use strict";B.d(Me,{n:()=>Ee});var f=B(7574),oe=B(5015),j=B(4087);function Ee(ae,ce){return ce?(0,j.r)(ae,ce):new f.y((0,oe.V)(ae))}},6682:(et,Me,B)=>{"use strict";B.d(Me,{T:()=>ae});var f=B(7574),oe=B(4869),j=B(3282),Ee=B(6693);function ae(...ce){let pe=Number.POSITIVE_INFINITY,ve=null,X=ce[ce.length-1];return(0,oe.K)(X)?(ve=ce.pop(),ce.length>1&&"number"==typeof ce[ce.length-1]&&(pe=ce.pop())):"number"==typeof X&&(pe=ce.pop()),null===ve&&1===ce.length&&ce[0]instanceof f.y?ce[0]:(0,j.J)(pe)((0,Ee.n)(ce,ve))}},5917:(et,Me,B)=>{"use strict";B.d(Me,{of:()=>Ee});var f=B(4869),oe=B(6693),j=B(4087);function Ee(...ae){let ce=ae[ae.length-1];return(0,f.K)(ce)?(ae.pop(),(0,j.r)(ae,ce)):(0,oe.n)(ae)}},8002:(et,Me,B)=>{"use strict";B.d(Me,{U:()=>oe});var f=B(7393);function oe(ae,ce){return function(ve){if("function"!=typeof ae)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return ve.lift(new j(ae,ce))}}class j{constructor(ce,pe){this.project=ce,this.thisArg=pe}call(ce,pe){return pe.subscribe(new Ee(ce,this.project,this.thisArg))}}class Ee extends f.L{constructor(ce,pe,ve){super(ce),this.project=pe,this.count=0,this.thisArg=ve||this}_next(ce){let pe;try{pe=this.project.call(this.thisArg,ce,this.count++)}catch(ve){return void this.destination.error(ve)}this.destination.next(pe)}}},3282:(et,Me,B)=>{"use strict";B.d(Me,{J:()=>j});var f=B(9773),oe=B(4487);function j(Ee=Number.POSITIVE_INFINITY){return(0,f.zg)(oe.y,Ee)}},9773:(et,Me,B)=>{"use strict";B.d(Me,{zg:()=>Ee});var f=B(8002),oe=B(4402),j=B(5345);function Ee(ve,X,U=Number.POSITIVE_INFINITY){return"function"==typeof X?G=>G.pipe(Ee((ie,ne)=>(0,oe.D)(ve(ie,ne)).pipe((0,f.U)((ue,Se)=>X(ie,ue,ne,Se))),U)):("number"==typeof X&&(U=X),G=>G.lift(new ae(ve,U)))}class ae{constructor(X,U=Number.POSITIVE_INFINITY){this.project=X,this.concurrent=U}call(X,U){return U.subscribe(new ce(X,this.project,this.concurrent))}}class ce extends j.Ds{constructor(X,U,G=Number.POSITIVE_INFINITY){super(X),this.project=U,this.concurrent=G,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(X){this.active<this.concurrent?this._tryNext(X):this.buffer.push(X)}_tryNext(X){let U;const G=this.index++;try{U=this.project(X,G)}catch(ie){return void this.destination.error(ie)}this.active++,this._innerSub(U)}_innerSub(X){const U=new j.IY(this),G=this.destination;G.add(U);const ie=(0,j.ft)(X,U);ie!==U&&G.add(ie)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(X){this.destination.next(X)}notifyComplete(){const X=this.buffer;this.active--,X.length>0?this._next(X.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(et,Me,B)=>{"use strict";B.d(Me,{ht:()=>G,QV:()=>X});var f=B(7393),oe=B(9193),j=B(5917),Ee=B(7574);class ve{constructor(ue,Se,me){this.kind=ue,this.value=Se,this.error=me,this.hasValue="N"===ue}observe(ue){switch(this.kind){case"N":return ue.next&&ue.next(this.value);case"E":return ue.error&&ue.error(this.error);case"C":return ue.complete&&ue.complete()}}do(ue,Se,me){switch(this.kind){case"N":return ue&&ue(this.value);case"E":return Se&&Se(this.error);case"C":return me&&me()}}accept(ue,Se,me){return ue&&"function"==typeof ue.next?this.observe(ue):this.do(ue,Se,me)}toObservable(){switch(this.kind){case"N":return(0,j.of)(this.value);case"E":return ne=this.error,new Ee.y(Se=>Se.error(ne));case"C":return(0,oe.c)()}var ne;throw new Error("unexpected notification kind value")}static createNext(ue){return void 0!==ue?new ve("N",ue):ve.undefinedValueNotification}static createError(ue){return new ve("E",void 0,ue)}static createComplete(){return ve.completeNotification}}function X(ne,ue=0){return function(me){return me.lift(new U(ne,ue))}}ve.completeNotification=new ve("C"),ve.undefinedValueNotification=new ve("N",void 0);class U{constructor(ue,Se=0){this.scheduler=ue,this.delay=Se}call(ue,Se){return Se.subscribe(new G(ue,this.scheduler,this.delay))}}class G extends f.L{constructor(ue,Se,me=0){super(ue),this.scheduler=Se,this.delay=me}static dispatch(ue){const{notification:Se,destination:me}=ue;Se.observe(me),this.unsubscribe()}scheduleMessage(ue){this.destination.add(this.scheduler.schedule(G.dispatch,this.delay,new ie(ue,this.destination)))}_next(ue){this.scheduleMessage(ve.createNext(ue))}_error(ue){this.scheduleMessage(ve.createError(ue)),this.unsubscribe()}_complete(){this.scheduleMessage(ve.createComplete()),this.unsubscribe()}}class ie{constructor(ue,Se){this.notification=ue,this.destination=Se}}},1307:(et,Me,B)=>{"use strict";B.d(Me,{x:()=>oe});var f=B(7393);function oe(){return function(ce){return ce.lift(new j(ce))}}class j{constructor(ce){this.connectable=ce}call(ce,pe){const{connectable:ve}=this;ve._refCount++;const X=new Ee(ce,ve),U=pe.subscribe(X);return X.closed||(X.connection=ve.connect()),U}}class Ee extends f.L{constructor(ce,pe){super(ce),this.connectable=pe}_unsubscribe(){const{connectable:ce}=this;if(!ce)return void(this.connection=null);this.connectable=null;const pe=ce._refCount;if(pe<=0)return void(this.connection=null);if(ce._refCount=pe-1,pe>1)return void(this.connection=null);const{connection:ve}=this,X=ce._connection;this.connection=null,X&&(!ve||X===ve)&&X.unsubscribe()}}},3101:(et,Me,B)=>{"use strict";B.d(Me,{R:()=>Q});var f=B(7574);let oe=1;const j=Promise.resolve(),Ee={};function ae(xe){return xe in Ee&&(delete Ee[xe],!0)}const ce={setImmediate(xe){const ye=oe++;return Ee[ye]=!0,j.then(()=>ae(ye)&&xe()),ye},clearImmediate(xe){ae(xe)}};var ve=B(6465),U=B(6102);const ne=new class extends U.v{flush(ye){this.active=!0,this.scheduled=void 0;const{actions:Oe}=this;let $e,ze=-1,St=Oe.length;ye=ye||Oe.shift();do{if($e=ye.execute(ye.state,ye.delay))break}while(++ze<St&&(ye=Oe.shift()));if(this.active=!1,$e){for(;++ze<St&&(ye=Oe.shift());)ye.unsubscribe();throw $e}}}(class extends ve.o{constructor(ye,Oe){super(ye,Oe),this.scheduler=ye,this.work=Oe}requestAsyncId(ye,Oe,$e=0){return null!==$e&&$e>0?super.requestAsyncId(ye,Oe,$e):(ye.actions.push(this),ye.scheduled||(ye.scheduled=ce.setImmediate(ye.flush.bind(ye,null))))}recycleAsyncId(ye,Oe,$e=0){if(null!==$e&&$e>0||null===$e&&this.delay>0)return super.recycleAsyncId(ye,Oe,$e);0===ye.actions.length&&(ce.clearImmediate(Oe),ye.scheduled=void 0)}});var ue=B(9796);class me extends f.y{constructor(ye,Oe=0,$e=ne){var xe;super(),this.source=ye,this.delayTime=Oe,this.scheduler=$e,(!(!(0,ue.k)(xe=Oe)&&xe-parseFloat(xe)+1>=0)||Oe<0)&&(this.delayTime=0),(!$e||"function"!=typeof $e.schedule)&&(this.scheduler=ne)}static create(ye,Oe=0,$e=ne){return new me(ye,Oe,$e)}static dispatch(ye){const{source:Oe,subscriber:$e}=ye;return this.add(Oe.subscribe($e))}_subscribe(ye){return this.scheduler.schedule(me.dispatch,this.delayTime,{source:this.source,subscriber:ye})}}function Q(xe,ye=0){return function($e){return $e.lift(new De(xe,ye))}}class De{constructor(ye,Oe){this.scheduler=ye,this.delay=Oe}call(ye,Oe){return new me(Oe,this.delay,this.scheduler).subscribe(ye)}}},3342:(et,Me,B)=>{"use strict";B.d(Me,{b:()=>Ee});var f=B(7393);function oe(){}var j=B(9105);function Ee(pe,ve,X){return function(G){return G.lift(new ae(pe,ve,X))}}class ae{constructor(ve,X,U){this.nextOrObserver=ve,this.error=X,this.complete=U}call(ve,X){return X.subscribe(new ce(ve,this.nextOrObserver,this.error,this.complete))}}class ce extends f.L{constructor(ve,X,U,G){super(ve),this._tapNext=oe,this._tapError=oe,this._tapComplete=oe,this._tapError=U||oe,this._tapComplete=G||oe,(0,j.m)(X)?(this._context=this,this._tapNext=X):X&&(this._context=X,this._tapNext=X.next||oe,this._tapError=X.error||oe,this._tapComplete=X.complete||oe)}_next(ve){try{this._tapNext.call(this._context,ve)}catch(X){return void this.destination.error(X)}this.destination.next(ve)}_error(ve){try{this._tapError.call(this._context,ve)}catch(X){return void this.destination.error(X)}this.destination.error(ve)}_complete(){try{this._tapComplete.call(this._context)}catch(ve){return void this.destination.error(ve)}return this.destination.complete()}}},4087:(et,Me,B)=>{"use strict";B.d(Me,{r:()=>j});var f=B(7574),oe=B(5319);function j(Ee,ae){return new f.y(ce=>{const pe=new oe.w;let ve=0;return pe.add(ae.schedule(function(){ve!==Ee.length?(ce.next(Ee[ve++]),ce.closed||pe.add(this.schedule())):ce.complete()})),pe})}},6465:(et,Me,B)=>{"use strict";B.d(Me,{o:()=>j});var f=B(5319);class oe extends f.w{constructor(ae,ce){super()}schedule(ae,ce=0){return this}}class j extends oe{constructor(ae,ce){super(ae,ce),this.scheduler=ae,this.work=ce,this.pending=!1}schedule(ae,ce=0){if(this.closed)return this;this.state=ae;const pe=this.id,ve=this.scheduler;return null!=pe&&(this.id=this.recycleAsyncId(ve,pe,ce)),this.pending=!0,this.delay=ce,this.id=this.id||this.requestAsyncId(ve,this.id,ce),this}requestAsyncId(ae,ce,pe=0){return setInterval(ae.flush.bind(ae,this),pe)}recycleAsyncId(ae,ce,pe=0){if(null!==pe&&this.delay===pe&&!1===this.pending)return ce;clearInterval(ce)}execute(ae,ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const pe=this._execute(ae,ce);if(pe)return pe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ae,ce){let ve,pe=!1;try{this.work(ae)}catch(X){pe=!0,ve=!!X&&X||new Error(X)}if(pe)return this.unsubscribe(),ve}_unsubscribe(){const ae=this.id,ce=this.scheduler,pe=ce.actions,ve=pe.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==ve&&pe.splice(ve,1),null!=ae&&(this.id=this.recycleAsyncId(ce,ae,null)),this.delay=null}}},6102:(et,Me,B)=>{"use strict";B.d(Me,{v:()=>oe});let f=(()=>{class j{constructor(ae,ce=j.now){this.SchedulerAction=ae,this.now=ce}schedule(ae,ce=0,pe){return new this.SchedulerAction(this,ae).schedule(pe,ce)}}return j.now=()=>Date.now(),j})();class oe extends f{constructor(Ee,ae=f.now){super(Ee,()=>oe.delegate&&oe.delegate!==this?oe.delegate.now():ae()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(Ee,ae=0,ce){return oe.delegate&&oe.delegate!==this?oe.delegate.schedule(Ee,ae,ce):super.schedule(Ee,ae,ce)}flush(Ee){const{actions:ae}=this;if(this.active)return void ae.push(Ee);let ce;this.active=!0;do{if(ce=Ee.execute(Ee.state,Ee.delay))break}while(Ee=ae.shift());if(this.active=!1,ce){for(;Ee=ae.shift();)Ee.unsubscribe();throw ce}}}},3637:(et,Me,B)=>{"use strict";B.d(Me,{z:()=>j,P:()=>Ee});var f=B(6465);const j=new(B(6102).v)(f.o),Ee=j},7771:(et,Me,B)=>{"use strict";B.d(Me,{c:()=>ce,N:()=>ae});var f=B(6465),j=B(6102);const ae=new class extends j.v{}(class extends f.o{constructor(ve,X){super(ve,X),this.scheduler=ve,this.work=X}schedule(ve,X=0){return X>0?super.schedule(ve,X):(this.delay=X,this.state=ve,this.scheduler.flush(this),this)}execute(ve,X){return X>0||this.closed?super.execute(ve,X):this._execute(ve,X)}requestAsyncId(ve,X,U=0){return null!==U&&U>0||null===U&&this.delay>0?super.requestAsyncId(ve,X,U):ve.flush(this)}}),ce=ae},377:(et,Me,B)=>{"use strict";B.d(Me,{hZ:()=>oe});const oe="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(et,Me,B)=>{"use strict";B.d(Me,{L:()=>f});const f="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(et,Me,B)=>{"use strict";B.d(Me,{b:()=>f});const f="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(et,Me,B)=>{"use strict";B.d(Me,{N:()=>oe});const oe=(()=>{function j(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return j.prototype=Object.create(Error.prototype),j})()},4449:(et,Me,B)=>{"use strict";function f(oe){setTimeout(()=>{throw oe},0)}B.d(Me,{z:()=>f})},4487:(et,Me,B)=>{"use strict";function f(oe){return oe}B.d(Me,{y:()=>f})},9796:(et,Me,B)=>{"use strict";B.d(Me,{k:()=>f});const f=Array.isArray||(oe=>oe&&"number"==typeof oe.length)},9489:(et,Me,B)=>{"use strict";B.d(Me,{z:()=>f});const f=oe=>oe&&"number"==typeof oe.length&&"function"!=typeof oe},9105:(et,Me,B)=>{"use strict";function f(oe){return"function"==typeof oe}B.d(Me,{m:()=>f})},1555:(et,Me,B)=>{"use strict";function f(oe){return null!==oe&&"object"==typeof oe}B.d(Me,{K:()=>f})},4072:(et,Me,B)=>{"use strict";function f(oe){return!!oe&&"function"!=typeof oe.subscribe&&"function"==typeof oe.then}B.d(Me,{t:()=>f})},4869:(et,Me,B)=>{"use strict";function f(oe){return oe&&"function"==typeof oe.schedule}B.d(Me,{K:()=>f})},7444:(et,Me,B)=>{"use strict";B.d(Me,{s:()=>G});var f=B(5015),oe=B(4449),Ee=B(377),ce=B(6554),ve=B(9489),X=B(4072),U=B(1555);const G=ie=>{if(ie&&"function"==typeof ie[ce.L])return(ie=>ne=>{const ue=ie[ce.L]();if("function"!=typeof ue.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return ue.subscribe(ne)})(ie);if((0,ve.z)(ie))return(0,f.V)(ie);if((0,X.t)(ie))return(ie=>ne=>(ie.then(ue=>{ne.closed||(ne.next(ue),ne.complete())},ue=>ne.error(ue)).then(null,oe.z),ne))(ie);if(ie&&"function"==typeof ie[Ee.hZ])return(ie=>ne=>{const ue=ie[Ee.hZ]();for(;;){let Se;try{Se=ue.next()}catch(me){return ne.error(me),ne}if(Se.done){ne.complete();break}if(ne.next(Se.value),ne.closed)break}return"function"==typeof ue.return&&ne.add(()=>{ue.return&&ue.return()}),ne})(ie);{const ue=`You provided ${(0,U.K)(ie)?"an invalid object":`'${ie}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(ue)}}},5015:(et,Me,B)=>{"use strict";B.d(Me,{V:()=>f});const f=oe=>j=>{for(let Ee=0,ae=oe.length;Ee<ae&&!j.closed;Ee++)j.next(oe[Ee]);j.complete()}},4906:(et,Me,B)=>{"use strict";var f=B(3018);let oe=null;function j(){return oe}const pe=new f.OlP("DocumentToken");let ve=(()=>{class i{historyGo(r){throw new Error("Not implemented")}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=(0,f.Yz7)({factory:X,token:i,providedIn:"platform"}),i})();function X(){return(0,f.LFG)(G)}const U=new f.OlP("Location Initialized");let G=(()=>{class i extends ve{constructor(r){super(),this._doc=r,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return j().getBaseHref(this._doc)}onPopState(r){const s=j().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",r,!1),()=>s.removeEventListener("popstate",r)}onHashChange(r){const s=j().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",r,!1),()=>s.removeEventListener("hashchange",r)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(r){this.location.pathname=r}pushState(r,s,l){ie()?this._history.pushState(r,s,l):this.location.hash=l}replaceState(r,s,l){ie()?this._history.replaceState(r,s,l):this.location.hash=l}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(pe))},i.\u0275prov=(0,f.Yz7)({factory:ne,token:i,providedIn:"platform"}),i})();function ie(){return!!window.history.pushState}function ne(){return new G((0,f.LFG)(pe))}function ue(i,n){if(0==i.length)return n;if(0==n.length)return i;let r=0;return i.endsWith("/")&&r++,n.startsWith("/")&&r++,2==r?i+n.substring(1):1==r?i+n:i+"/"+n}function Se(i){const n=i.match(/#|\?|$/),r=n&&n.index||i.length;return i.slice(0,r-("/"===i[r-1]?1:0))+i.slice(r)}function me(i){return i&&"?"!==i[0]?"?"+i:i}let Q=(()=>{class i{historyGo(r){throw new Error("Not implemented")}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=(0,f.Yz7)({factory:De,token:i,providedIn:"root"}),i})();function De(i){const n=(0,f.LFG)(pe).location;return new ye((0,f.LFG)(ve),n&&n.origin||"")}const xe=new f.OlP("appBaseHref");let ye=(()=>{class i extends Q{constructor(r,s){if(super(),this._platformLocation=r,this._removeListenerFns=[],null==s&&(s=this._platformLocation.getBaseHrefFromDOM()),null==s)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=s}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return ue(this._baseHref,r)}path(r=!1){const s=this._platformLocation.pathname+me(this._platformLocation.search),l=this._platformLocation.hash;return l&&r?`${s}${l}`:s}pushState(r,s,l,d){const g=this.prepareExternalUrl(l+me(d));this._platformLocation.pushState(r,s,g)}replaceState(r,s,l,d){const g=this.prepareExternalUrl(l+me(d));this._platformLocation.replaceState(r,s,g)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(r=0){var s,l;null===(l=(s=this._platformLocation).historyGo)||void 0===l||l.call(s,r)}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(ve),f.LFG(xe,8))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac}),i})(),Oe=(()=>{class i extends Q{constructor(r,s){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],null!=s&&(this._baseHref=s)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let s=this._platformLocation.hash;return null==s&&(s="#"),s.length>0?s.substring(1):s}prepareExternalUrl(r){const s=ue(this._baseHref,r);return s.length>0?"#"+s:s}pushState(r,s,l,d){let g=this.prepareExternalUrl(l+me(d));0==g.length&&(g=this._platformLocation.pathname),this._platformLocation.pushState(r,s,g)}replaceState(r,s,l,d){let g=this.prepareExternalUrl(l+me(d));0==g.length&&(g=this._platformLocation.pathname),this._platformLocation.replaceState(r,s,g)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(r=0){var s,l;null===(l=(s=this._platformLocation).historyGo)||void 0===l||l.call(s,r)}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(ve),f.LFG(xe,8))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac}),i})(),$e=(()=>{class i{constructor(r,s){this._subject=new f.vpe,this._urlChangeListeners=[],this._platformStrategy=r;const l=this._platformStrategy.getBaseHref();this._platformLocation=s,this._baseHref=Se(Ct(l)),this._platformStrategy.onPopState(d=>{this._subject.emit({url:this.path(!0),pop:!0,state:d.state,type:d.type})})}path(r=!1){return this.normalize(this._platformStrategy.path(r))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(r,s=""){return this.path()==this.normalize(r+me(s))}normalize(r){return i.stripTrailingSlash(function(i,n){return i&&n.startsWith(i)?n.substring(i.length):n}(this._baseHref,Ct(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._platformStrategy.prepareExternalUrl(r)}go(r,s="",l=null){this._platformStrategy.pushState(l,"",r,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+me(s)),l)}replaceState(r,s="",l=null){this._platformStrategy.replaceState(l,"",r,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+me(s)),l)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(r=0){var s,l;null===(l=(s=this._platformStrategy).historyGo)||void 0===l||l.call(s,r)}onUrlChange(r){this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)}))}_notifyUrlChangeListeners(r="",s){this._urlChangeListeners.forEach(l=>l(r,s))}subscribe(r,s,l){return this._subject.subscribe({next:r,error:s,complete:l})}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(Q),f.LFG(ve))},i.normalizeQueryParams=me,i.joinWithSlash=ue,i.stripTrailingSlash=Se,i.\u0275prov=(0,f.Yz7)({factory:ze,token:i,providedIn:"root"}),i})();function ze(){return new $e((0,f.LFG)(Q),(0,f.LFG)(ve))}function Ct(i){return i.replace(/\/index.html$/,"")}var he=(()=>((he=he||{})[he.Zero=0]="Zero",he[he.One=1]="One",he[he.Two=2]="Two",he[he.Few=3]="Few",he[he.Many=4]="Many",he[he.Other=5]="Other",he))();const Br=f.kL8;class Cr{}let Fn=(()=>{class i extends Cr{constructor(r){super(),this.locale=r}getPluralCategory(r,s){switch(Br(s||this.locale)(r)){case he.Zero:return"zero";case he.One:return"one";case he.Two:return"two";case he.Few:return"few";case he.Many:return"many";default:return"other"}}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(f.soG))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac}),i})();function At(i,n){n=encodeURIComponent(n);for(const r of i.split(";")){const s=r.indexOf("="),[l,d]=-1==s?[r,""]:[r.slice(0,s),r.slice(s+1)];if(l.trim()===n)return decodeURIComponent(d)}return null}class Ac{constructor(n,r,s,l){this.$implicit=n,this.ngForOf=r,this.index=s,this.count=l}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let xi=(()=>{class i{constructor(r,s,l){this._viewContainer=r,this._template=s,this._differs=l,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;if(!this._differ&&r)try{this._differ=this._differs.find(r).create(this.ngForTrackBy)}catch(s){throw new Error(`Cannot find a differ supporting object '${r}' of type '${function(i){return i.name||typeof i}(r)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const s=[];r.forEachOperation((l,d,g)=>{if(null==l.previousIndex){const _=this._viewContainer.createEmbeddedView(this._template,new Ac(null,this._ngForOf,-1,-1),null===g?void 0:g),C=new dr(l,_);s.push(C)}else if(null==g)this._viewContainer.remove(null===d?void 0:d);else if(null!==d){const _=this._viewContainer.get(d);this._viewContainer.move(_,g);const C=new dr(l,_);s.push(C)}});for(let l=0;l<s.length;l++)this._perViewChange(s[l].view,s[l].record);for(let l=0,d=this._viewContainer.length;l<d;l++){const g=this._viewContainer.get(l);g.context.index=l,g.context.count=d,g.context.ngForOf=this._ngForOf}r.forEachIdentityChange(l=>{this._viewContainer.get(l.currentIndex).context.$implicit=l.item})}_perViewChange(r,s){r.context.$implicit=s.item}static ngTemplateContextGuard(r,s){return!0}}return i.\u0275fac=function(r){return new(r||i)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(f.ZZ4))},i.\u0275dir=f.lG2({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),i})();class dr{constructor(n,r){this.record=n,this.view=r}}let Rp=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({providers:[{provide:Cr,useClass:Fn}]}),i})();function gs(i){return"browser"===i}function ui(i){return"server"===i}let Bo=(()=>{class i{}return i.\u0275prov=(0,f.Yz7)({token:i,providedIn:"root",factory:()=>new gu((0,f.LFG)(pe),window)}),i})();class gu{constructor(n,r){this.document=n,this.window=r,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const r=function(i,n){const r=i.getElementById(n)||i.getElementsByName(n)[0];if(r)return r;if("function"==typeof i.createTreeWalker&&i.body&&(i.body.createShadowRoot||i.body.attachShadow)){const s=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT);let l=s.currentNode;for(;l;){const d=l.shadowRoot;if(d){const g=d.getElementById(n)||d.querySelector(`[name="${n}"]`);if(g)return g}l=s.nextNode()}}return null}(this.document,n);r&&(this.scrollToElement(r),this.attemptFocus(r))}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const r=this.window.history;r&&r.scrollRestoration&&(r.scrollRestoration=n)}}scrollToElement(n){const r=n.getBoundingClientRect(),s=r.left+this.window.pageXOffset,l=r.top+this.window.pageYOffset,d=this.offset();this.window.scrollTo(s-d[0],l-d[1])}attemptFocus(n){return n.focus(),this.document.activeElement===n}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=_l(this.window.history)||_l(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch(n){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(n){return!1}}}function _l(i){return Object.getOwnPropertyDescriptor(i,"scrollRestoration")}class Uo{}class lo extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var i;i=new lo,oe||(oe=i)}onAndCancel(n,r,s){return n.addEventListener(r,s,!1),()=>{n.removeEventListener(r,s,!1)}}dispatchEvent(n,r){n.dispatchEvent(r)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,r){return(r=r||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,r){return"window"===r?window:"document"===r?n:"body"===r?n.body:null}getBaseHref(n){const r=(ms=ms||document.querySelector("base"),ms?ms.getAttribute("href"):null);return null==r?null:function(i){xa=xa||document.createElement("a"),xa.setAttribute("href",i);const n=xa.pathname;return"/"===n.charAt(0)?n:`/${n}`}(r)}resetBaseElement(){ms=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return At(document.cookie,n)}}let xa,ms=null;const mu=new f.OlP("TRANSITION_ID"),yu=[{provide:f.ip1,useFactory:function(i,n,r){return()=>{r.get(f.CZH).donePromise.then(()=>{const s=j(),l=n.querySelectorAll(`style[ng-transition="${i}"]`);for(let d=0;d<l.length;d++)s.remove(l[d])})}},deps:[mu,pe,f.zs3],multi:!0}];class Ot{static init(){(0,f.VLi)(new Ot)}addToWindow(n){f.dqk.getAngularTestability=(s,l=!0)=>{const d=n.findTestabilityInTree(s,l);if(null==d)throw new Error("Could not find testability for element.");return d},f.dqk.getAllAngularTestabilities=()=>n.getAllTestabilities(),f.dqk.getAllAngularRootElements=()=>n.getAllRootElements(),f.dqk.frameworkStabilizers||(f.dqk.frameworkStabilizers=[]),f.dqk.frameworkStabilizers.push(s=>{const l=f.dqk.getAllAngularTestabilities();let d=l.length,g=!1;const _=function(C){g=g||C,d--,0==d&&s(g)};l.forEach(function(C){C.whenStable(_)})})}findTestabilityInTree(n,r,s){if(null==r)return null;const l=n.getTestability(r);return null!=l?l:s?j().isShadowRoot(r)?this.findTestabilityInTree(n,r.host,!0):this.findTestabilityInTree(n,r.parentElement,!0):null}}let uh=(()=>{class i{build(){return new XMLHttpRequest}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac}),i})();const Bs=new f.OlP("EventManagerPlugins");let Ra=(()=>{class i{constructor(r,s){this._zone=s,this._eventNameToPlugin=new Map,r.forEach(l=>l.manager=this),this._plugins=r.slice().reverse()}addEventListener(r,s,l){return this._findPluginFor(s).addEventListener(r,s,l)}addGlobalEventListener(r,s,l){return this._findPluginFor(s).addGlobalEventListener(r,s,l)}getZone(){return this._zone}_findPluginFor(r){const s=this._eventNameToPlugin.get(r);if(s)return s;const l=this._plugins;for(let d=0;d<l.length;d++){const g=l[d];if(g.supports(r))return this._eventNameToPlugin.set(r,g),g}throw new Error(`No event manager plugin found for event ${r}`)}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(Bs),f.LFG(f.R0b))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac}),i})();class $o{constructor(n){this._doc=n}addGlobalEventListener(n,r,s){const l=j().getGlobalEventTarget(this._doc,n);if(!l)throw new Error(`Unsupported event target ${l} for event ${r}`);return this.addEventListener(l,r,s)}}let Mc=(()=>{class i{constructor(){this._stylesSet=new Set}addStyles(r){const s=new Set;r.forEach(l=>{this._stylesSet.has(l)||(this._stylesSet.add(l),s.add(l))}),this.onStylesAdded(s)}onStylesAdded(r){}getAllStyles(){return Array.from(this._stylesSet)}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac}),i})(),Us=(()=>{class i extends Mc{constructor(r){super(),this._doc=r,this._hostNodes=new Map,this._hostNodes.set(r.head,[])}_addStylesToHost(r,s,l){r.forEach(d=>{const g=this._doc.createElement("style");g.textContent=d,l.push(s.appendChild(g))})}addHost(r){const s=[];this._addStylesToHost(this._stylesSet,r,s),this._hostNodes.set(r,s)}removeHost(r){const s=this._hostNodes.get(r);s&&s.forEach(ch),this._hostNodes.delete(r)}onStylesAdded(r){this._hostNodes.forEach((s,l)=>{this._addStylesToHost(r,l,s)})}ngOnDestroy(){this._hostNodes.forEach(r=>r.forEach(ch))}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(pe))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac}),i})();function ch(i){j().remove(i)}const Fe={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Vt=/%COMP%/g;function co(i,n,r){for(let s=0;s<n.length;s++){let l=n[s];Array.isArray(l)?co(i,l,r):(l=l.replace(Vt,i),r.push(l))}return r}function hh(i){return n=>{if("__ngUnwrap__"===n)return i;!1===i(n)&&(n.preventDefault(),n.returnValue=!1)}}let zo=(()=>{class i{constructor(r,s,l){this.eventManager=r,this.sharedStylesHost=s,this.appId=l,this.rendererByCompId=new Map,this.defaultRenderer=new _s(r)}createRenderer(r,s){if(!r||!s)return this.defaultRenderer;switch(s.encapsulation){case f.ifc.Emulated:{let l=this.rendererByCompId.get(s.id);return l||(l=new vs(this.eventManager,this.sharedStylesHost,s,this.appId),this.rendererByCompId.set(s.id,l)),l.applyToHost(r),l}case 1:case f.ifc.ShadowDom:return new js(this.eventManager,this.sharedStylesHost,r,s);default:if(!this.rendererByCompId.has(s.id)){const l=co(s.id,s.styles,[]);this.sharedStylesHost.addStyles(l),this.rendererByCompId.set(s.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(Ra),f.LFG(Us),f.LFG(f.AFp))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac}),i})();class _s{constructor(n){this.eventManager=n,this.data=Object.create(null)}destroy(){}createElement(n,r){return r?document.createElementNS(Fe[r]||r,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,r){n.appendChild(r)}insertBefore(n,r,s){n&&n.insertBefore(r,s)}removeChild(n,r){n&&n.removeChild(r)}selectRootElement(n,r){let s="string"==typeof n?document.querySelector(n):n;if(!s)throw new Error(`The selector "${n}" did not match any elements`);return r||(s.textContent=""),s}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,r,s,l){if(l){r=l+":"+r;const d=Fe[l];d?n.setAttributeNS(d,r,s):n.setAttribute(r,s)}else n.setAttribute(r,s)}removeAttribute(n,r,s){if(s){const l=Fe[s];l?n.removeAttributeNS(l,r):n.removeAttribute(`${s}:${r}`)}else n.removeAttribute(r)}addClass(n,r){n.classList.add(r)}removeClass(n,r){n.classList.remove(r)}setStyle(n,r,s,l){l&(f.JOm.DashCase|f.JOm.Important)?n.style.setProperty(r,s,l&f.JOm.Important?"important":""):n.style[r]=s}removeStyle(n,r,s){s&f.JOm.DashCase?n.style.removeProperty(r):n.style[r]=""}setProperty(n,r,s){n[r]=s}setValue(n,r){n.nodeValue=r}listen(n,r,s){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,r,hh(s)):this.eventManager.addEventListener(n,r,hh(s))}}class vs extends _s{constructor(n,r,s,l){super(n),this.component=s;const d=co(l+"-"+s.id,s.styles,[]);r.addStyles(d),this.contentAttr="_ngcontent-%COMP%".replace(Vt,l+"-"+s.id),this.hostAttr=function(i){return"_nghost-%COMP%".replace(Vt,i)}(l+"-"+s.id)}applyToHost(n){super.setAttribute(n,this.hostAttr,"")}createElement(n,r){const s=super.createElement(n,r);return super.setAttribute(s,this.contentAttr,""),s}}class js extends _s{constructor(n,r,s,l){super(n),this.sharedStylesHost=r,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const d=co(l.id,l.styles,[]);for(let g=0;g<d.length;g++){const _=document.createElement("style");_.textContent=d[g],this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(n,r){return super.appendChild(this.nodeOrShadowRoot(n),r)}insertBefore(n,r,s){return super.insertBefore(this.nodeOrShadowRoot(n),r,s)}removeChild(n,r){return super.removeChild(this.nodeOrShadowRoot(n),r)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}}let El=(()=>{class i extends $o{constructor(r){super(r)}supports(r){return!0}addEventListener(r,s,l){return r.addEventListener(s,l,!1),()=>this.removeEventListener(r,s,l)}removeEventListener(r,s,l){return r.removeEventListener(s,l)}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(pe))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac}),i})();const Ko=["alt","control","meta","shift"],Fp={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Pp={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},zr={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let Yo=(()=>{class i extends $o{constructor(r){super(r)}supports(r){return null!=i.parseEventName(r)}addEventListener(r,s,l){const d=i.parseEventName(s),g=i.eventCallback(d.fullKey,l,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>j().onAndCancel(r,d.domEventName,g))}static parseEventName(r){const s=r.toLowerCase().split("."),l=s.shift();if(0===s.length||"keydown"!==l&&"keyup"!==l)return null;const d=i._normalizeKey(s.pop());let g="";if(Ko.forEach(C=>{const T=s.indexOf(C);T>-1&&(s.splice(T,1),g+=C+".")}),g+=d,0!=s.length||0===d.length)return null;const _={};return _.domEventName=l,_.fullKey=g,_}static getEventFullKey(r){let s="",l=function(i){let n=i.key;if(null==n){if(n=i.keyIdentifier,null==n)return"Unidentified";n.startsWith("U+")&&(n=String.fromCharCode(parseInt(n.substring(2),16)),3===i.location&&Pp.hasOwnProperty(n)&&(n=Pp[n]))}return Fp[n]||n}(r);return l=l.toLowerCase()," "===l?l="space":"."===l&&(l="dot"),Ko.forEach(d=>{d!=l&&zr[d](r)&&(s+=d+".")}),s+=l,s}static eventCallback(r,s,l){return d=>{i.getEventFullKey(d)===r&&l.runGuarded(()=>s(d))}}static _normalizeKey(r){switch(r){case"esc":return"escape";default:return r}}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(pe))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac}),i})();const Up=(0,f.eFA)(f._c5,"browser",[{provide:f.Lbi,useValue:"browser"},{provide:f.g9A,useValue:function(){lo.makeCurrent(),Ot.init()},multi:!0},{provide:pe,useFactory:function(){return(0,f.RDi)(document),document},deps:[]}]),fo=[[],{provide:f.zSh,useValue:"root"},{provide:f.qLn,useFactory:function(){return new f.qLn},deps:[]},{provide:Bs,useClass:El,multi:!0,deps:[pe,f.R0b,f.Lbi]},{provide:Bs,useClass:Yo,multi:!0,deps:[pe]},[],{provide:zo,useClass:zo,deps:[Ra,Us,f.AFp]},{provide:f.FYo,useExisting:zo},{provide:Mc,useExisting:Us},{provide:Us,useClass:Us,deps:[pe]},{provide:f.dDg,useClass:f.dDg,deps:[f.R0b]},{provide:Ra,useClass:Ra,deps:[Bs,f.R0b]},{provide:Uo,useClass:uh,deps:[]},[]];let Wo=(()=>{class i{constructor(r){if(r)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(r){return{ngModule:i,providers:[{provide:f.AFp,useValue:r.appId},{provide:mu,useExisting:f.AFp},yu]}}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(i,12))},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({providers:fo,imports:[Rp,f.hGG]}),i})();"undefined"!=typeof window&&window;var vn=B(4402),dt=B(5917),Pn=B(9765),Hs=B(7971);class Dr extends Pn.xQ{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const r=super._subscribe(n);return r&&!r.closed&&n.next(this._value),r}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Hs.N;return this._value}next(n){super.next(this._value=n)}}var ws=B(4869),$s=B(9796),Fr=B(7393);class jp extends Fr.L{notifyNext(n,r,s,l,d){this.destination.next(r)}notifyError(n,r){this.destination.error(n)}notifyComplete(n){this.destination.complete()}}class Gp extends Fr.L{constructor(n,r,s){super(),this.parent=n,this.outerValue=r,this.outerIndex=s,this.index=0}_next(n){this.parent.notifyNext(this.outerValue,n,this.outerIndex,this.index++,this)}_error(n){this.parent.notifyError(n,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Fa=B(7444),pr=B(7574);function Eh(i,n,r,s,l=new Gp(i,r,s)){if(!l.closed)return n instanceof pr.y?n.subscribe(l):(0,Fa.s)(n)(l)}var Bc=B(6693);const xu={};class La{constructor(n){this.resultSelector=n}call(n,r){return r.subscribe(new Su(n,this.resultSelector))}}class Su extends jp{constructor(n,r){super(n),this.resultSelector=r,this.active=0,this.values=[],this.observables=[]}_next(n){this.values.push(xu),this.observables.push(n)}_complete(){const n=this.observables,r=n.length;if(0===r)this.destination.complete();else{this.active=r,this.toRespond=r;for(let s=0;s<r;s++)this.add(Eh(this,n[s],void 0,s))}}notifyComplete(n){0==(this.active-=1)&&this.destination.complete()}notifyNext(n,r,s){const l=this.values,g=this.toRespond?l[s]===xu?--this.toRespond:this.toRespond:0;l[s]=r,0===g&&(this.resultSelector?this._tryResultSelector(l):this.destination.next(l.slice()))}_tryResultSelector(n){let r;try{r=this.resultSelector.apply(this,n)}catch(s){return void this.destination.error(s)}this.destination.next(r)}}const Jo=(()=>{function i(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return i.prototype=Object.create(Error.prototype),i})();var Qi=B(3282);function Ml(...i){return(0,Qi.J)(1)((0,dt.of)(...i))}var Mi=B(9193);function go(i){return new pr.y(n=>{let r;try{r=i()}catch(l){return void n.error(l)}return(r?(0,vn.D)(r):(0,Mi.c)()).subscribe(n)})}var Rl=B(2441),bt=B(8002),Ri=B(5345);function Xn(i,n){return"function"==typeof n?r=>r.pipe(Xn((s,l)=>(0,vn.D)(i(s,l)).pipe((0,bt.U)((d,g)=>n(s,d,l,g))))):r=>r.lift(new Xo(i))}class Xo{constructor(n){this.project=n}call(n,r){return r.subscribe(new $p(n,this.project))}}class $p extends Ri.Ds{constructor(n,r){super(n),this.project=r,this.index=0}_next(n){let r;const s=this.index++;try{r=this.project(n,s)}catch(l){return void this.destination.error(l)}this._innerSub(r)}_innerSub(n){const r=this.innerSubscription;r&&r.unsubscribe();const s=new Ri.IY(this),l=this.destination;l.add(s),this.innerSubscription=(0,Ri.ft)(n,s),this.innerSubscription!==s&&l.add(this.innerSubscription)}_complete(){const{innerSubscription:n}=this;(!n||n.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(n){this.destination.next(n)}}const Dh=(()=>{function i(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return i.prototype=Object.create(Error.prototype),i})();function Uc(i){return n=>0===i?(0,Mi.c)():n.lift(new jc(i))}class jc{constructor(n){if(this.total=n,this.total<0)throw new Dh}call(n,r){return r.subscribe(new Tn(n,this.total))}}class Tn extends Fr.L{constructor(n,r){super(n),this.total=r,this.count=0}_next(n){const r=this.total,s=++this.count;s<=r&&(this.destination.next(n),s===r&&(this.destination.complete(),this.unsubscribe()))}}function Va(...i){const n=i[i.length-1];return(0,ws.K)(n)?(i.pop(),r=>Ml(i,r,n)):r=>Ml(i,r)}function Ba(i,n){let r=!1;return arguments.length>=2&&(r=!0),function(l){return l.lift(new Gc(i,n,r))}}class Gc{constructor(n,r,s=!1){this.accumulator=n,this.seed=r,this.hasSeed=s}call(n,r){return r.subscribe(new Ah(n,this.accumulator,this.seed,this.hasSeed))}}class Ah extends Fr.L{constructor(n,r,s,l){super(n),this.accumulator=r,this._seed=s,this.hasSeed=l,this.index=0}get seed(){return this._seed}set seed(n){this.hasSeed=!0,this._seed=n}_next(n){if(this.hasSeed)return this._tryNext(n);this.seed=n,this.destination.next(n)}_tryNext(n){const r=this.index++;let s;try{s=this.accumulator(this.seed,n,r)}catch(l){this.destination.error(l)}this.seed=s,this.destination.next(s)}}function Pr(i,n){return function(s){return s.lift(new Ol(i,n))}}class Ol{constructor(n,r){this.predicate=n,this.thisArg=r}call(n,r){return r.subscribe(new Hc(n,this.predicate,this.thisArg))}}class Hc extends Fr.L{constructor(n,r,s){super(n),this.predicate=r,this.thisArg=s,this.count=0}_next(n){let r;try{r=this.predicate.call(this.thisArg,n,this.count++)}catch(s){return void this.destination.error(s)}r&&this.destination.next(n)}}function mo(i){return function(r){const s=new Tu(i),l=r.lift(s);return s.caught=l}}class Tu{constructor(n){this.selector=n}call(n,r){return r.subscribe(new $c(n,this.selector,this.caught))}}class $c extends Ri.Ds{constructor(n,r,s){super(n),this.selector=r,this.caught=s}error(n){if(!this.isStopped){let r;try{r=this.selector(n,this.caught)}catch(d){return void super.error(d)}this._unsubscribeAndRecycle();const s=new Ri.IY(this);this.add(s);const l=(0,Ri.ft)(r,s);l!==s&&this.add(l)}}}var qn=B(9773);function Ji(i,n){return(0,qn.zg)(i,n,1)}function Ih(i){return function(r){return 0===i?(0,Mi.c)():r.lift(new Kn(i))}}class Kn{constructor(n){if(this.total=n,this.total<0)throw new Dh}call(n,r){return r.subscribe(new zs(n,this.total))}}class zs extends Fr.L{constructor(n,r){super(n),this.total=r,this.ring=new Array,this.count=0}_next(n){const r=this.ring,s=this.total,l=this.count++;r.length<s?r.push(n):r[l%s]=n}_complete(){const n=this.destination;let r=this.count;if(r>0){const s=this.count>=this.total?this.total:this.count,l=this.ring;for(let d=0;d<s;d++){const g=r++%s;n.next(l[g])}}n.complete()}}function yo(i=er){return n=>n.lift(new zp(i))}class zp{constructor(n){this.errorFactory=n}call(n,r){return r.subscribe(new qp(n,this.errorFactory))}}class qp extends Fr.L{constructor(n,r){super(n),this.errorFactory=r,this.hasValue=!1}_next(n){this.hasValue=!0,this.destination.next(n)}_complete(){if(this.hasValue)return this.destination.complete();{let n;try{n=this.errorFactory()}catch(r){n=r}this.destination.error(n)}}}function er(){return new Jo}function ci(i=null){return n=>n.lift(new Es(i))}class Es{constructor(n){this.defaultValue=n}call(n,r){return r.subscribe(new _o(n,this.defaultValue))}}class _o extends Fr.L{constructor(n,r){super(n),this.defaultValue=r,this.isEmpty=!0}_next(n){this.isEmpty=!1,this.destination.next(n)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var vo=B(4487);function qs(i,n){const r=arguments.length>=2;return s=>s.pipe(i?Pr((l,d)=>i(l,d,s)):vo.y,Uc(1),r?ci(n):yo(()=>new Jo))}var qr=B(3342),Kp=B(1307),x=B(5319);class F{constructor(n){this.callback=n}call(n,r){return r.subscribe(new H(n,this.callback))}}class H extends Fr.L{constructor(n,r){super(n),this.add(new x.w(r))}}class te{constructor(n,r){this.id=n,this.url=r}}class we extends te{constructor(n,r,s="imperative",l=null){super(n,r),this.navigationTrigger=s,this.restoredState=l}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Pe extends te{constructor(n,r,s){super(n,r),this.urlAfterRedirects=s}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Je extends te{constructor(n,r,s){super(n,r),this.reason=s}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Xe extends te{constructor(n,r,s){super(n,r),this.error=s}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class zt extends te{constructor(n,r,s,l){super(n,r),this.urlAfterRedirects=s,this.state=l}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tn extends te{constructor(n,r,s,l){super(n,r),this.urlAfterRedirects=s,this.state=l}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class di extends te{constructor(n,r,s,l,d){super(n,r),this.urlAfterRedirects=s,this.state=l,this.shouldActivate=d}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ar extends te{constructor(n,r,s,l){super(n,r),this.urlAfterRedirects=s,this.state=l}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rn extends te{constructor(n,r,s,l){super(n,r),this.urlAfterRedirects=s,this.state=l}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bo{constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class zc{constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Xi{constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ks{constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hi{constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kl{constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xh{constructor(n,r,s){this.routerEvent=n,this.position=r,this.anchor=s}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Pt="primary";class qc{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const r=this.params[n];return Array.isArray(r)?r[0]:r}return null}getAll(n){if(this.has(n)){const r=this.params[n];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}}function Kc(i){return new qc(i)}const Yc="ngNavigationCancelingError";function Ua(i){const n=Error("NavigationCancelingError: "+i);return n[Yc]=!0,n}function wb(i,n,r){const s=r.path.split("/");if(s.length>i.length||"full"===r.pathMatch&&(n.hasChildren()||s.length<i.length))return null;const l={};for(let d=0;d<s.length;d++){const g=s[d],_=i[d];if(g.startsWith(":"))l[g.substring(1)]=_;else if(g!==_.path)return null}return{consumed:i.slice(0,s.length),posParams:l}}function es(i,n){const r=i?Object.keys(i):void 0,s=n?Object.keys(n):void 0;if(!r||!s||r.length!=s.length)return!1;let l;for(let d=0;d<r.length;d++)if(l=r[d],!Km(i[l],n[l]))return!1;return!0}function Km(i,n){if(Array.isArray(i)&&Array.isArray(n)){if(i.length!==n.length)return!1;const r=[...i].sort(),s=[...n].sort();return r.every((l,d)=>s[d]===l)}return i===n}function ja(i){return Array.prototype.concat.apply([],i)}function Mu(i){return i.length>0?i[i.length-1]:null}function Ir(i,n){for(const r in i)i.hasOwnProperty(r)&&n(i[r],r)}function Ys(i){return(0,f.CqO)(i)?i:(0,f.QGY)(i)?(0,vn.D)(Promise.resolve(i)):(0,dt.of)(i)}const Ru={exact:function Zm(i,n,r){if(!Ll(i.segments,n.segments)||!Qc(i.segments,n.segments,r)||i.numberOfChildren!==n.numberOfChildren)return!1;for(const s in n.children)if(!i.children[s]||!Zm(i.children[s],n.children[s],r))return!1;return!0},subset:Sh},ts={exact:function(i,n){return es(i,n)},subset:function(i,n){return Object.keys(n).length<=Object.keys(i).length&&Object.keys(n).every(r=>Km(i[r],n[r]))},ignored:()=>!0};function Zc(i,n,r){return Ru[r.paths](i.root,n.root,r.matrixParams)&&ts[r.queryParams](i.queryParams,n.queryParams)&&!("exact"===r.fragment&&i.fragment!==n.fragment)}function Sh(i,n,r){return Wc(i,n,n.segments,r)}function Wc(i,n,r,s){if(i.segments.length>r.length){const l=i.segments.slice(0,r.length);return!(!Ll(l,r)||n.hasChildren()||!Qc(l,r,s))}if(i.segments.length===r.length){if(!Ll(i.segments,r)||!Qc(i.segments,r,s))return!1;for(const l in n.children)if(!i.children[l]||!Sh(i.children[l],n.children[l],s))return!1;return!0}{const l=r.slice(0,i.segments.length),d=r.slice(i.segments.length);return!!(Ll(i.segments,l)&&Qc(i.segments,l,s)&&i.children[Pt])&&Wc(i.children[Pt],n,d,s)}}function Qc(i,n,r){return n.every((s,l)=>ts[r](i[l].parameters,s.parameters))}class Pl{constructor(n,r,s){this.root=n,this.queryParams=r,this.fragment=s}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Kc(this.queryParams)),this._queryParamMap}toString(){return $C.serialize(this)}}class Bt{constructor(n,r){this.segments=n,this.children=r,this.parent=null,Ir(r,(s,l)=>s.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Mh(this)}}class wo{constructor(n,r){this.path=n,this.parameters=r}get parameterMap(){return this._parameterMap||(this._parameterMap=Kc(this.parameters)),this._parameterMap}toString(){return Cb(this)}}function Ll(i,n){return i.length===n.length&&i.every((r,s)=>r.path===n[s].path)}class Th{}class Yp{parse(n){const r=new Bl(n);return new Pl(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(n){var i;return`${`/${Xc(n.root,!0)}`}${function(i){const n=Object.keys(i).map(r=>{const s=i[r];return Array.isArray(s)?s.map(l=>`${ea(r)}=${ea(l)}`).join("&"):`${ea(r)}=${ea(s)}`}).filter(r=>!!r);return n.length?`?${n.join("&")}`:""}(n.queryParams)}${"string"==typeof n.fragment?`#${i=n.fragment,encodeURI(i)}`:""}`}}const $C=new Yp;function Mh(i){return i.segments.map(n=>Cb(n)).join("/")}function Xc(i,n){if(!i.hasChildren())return Mh(i);if(n){const r=i.children[Pt]?Xc(i.children[Pt],!1):"",s=[];return Ir(i.children,(l,d)=>{d!==Pt&&s.push(`${d}:${Xc(l,!1)}`)}),s.length>0?`${r}(${s.join("//")})`:r}{const r=function(i,n){let r=[];return Ir(i.children,(s,l)=>{l===Pt&&(r=r.concat(n(s,l)))}),Ir(i.children,(s,l)=>{l!==Pt&&(r=r.concat(n(s,l)))}),r}(i,(s,l)=>l===Pt?[Xc(i.children[Pt],!1)]:[`${l}:${Xc(s,!1)}`]);return 1===Object.keys(i.children).length&&null!=i.children[Pt]?`${Mh(i)}/${r[0]}`:`${Mh(i)}/(${r.join("//")})`}}function Qm(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ea(i){return Qm(i).replace(/%3B/gi,";")}function Eo(i){return Qm(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Rh(i){return decodeURIComponent(i)}function Wp(i){return Rh(i.replace(/\+/g,"%20"))}function Cb(i){return`${Eo(i.path)}${function(i){return Object.keys(i).map(n=>`;${Eo(n)}=${Eo(i[n])}`).join("")}(i.parameters)}`}const Jm=/^[^\/()?;=#]+/;function ed(i){const n=i.match(Jm);return n?n[0]:""}const Xm=/^[^=?&#]+/,Db=/^[^?&#]+/;class Bl{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Bt([],{}):new Bt([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let s={};return this.peekStartsWith("(")&&(s=this.parseParens(!1)),(n.length>0||Object.keys(r).length>0)&&(s[Pt]=new Bt(n,r)),s}parseSegment(){const n=ed(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(n),new wo(Rh(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const r=ed(this.remaining);if(!r)return;this.capture(r);let s="";if(this.consumeOptional("=")){const l=ed(this.remaining);l&&(s=l,this.capture(s))}n[Rh(r)]=Rh(s)}parseQueryParam(n){const r=function(i){const n=i.match(Xm);return n?n[0]:""}(this.remaining);if(!r)return;this.capture(r);let s="";if(this.consumeOptional("=")){const g=function(i){const n=i.match(Db);return n?n[0]:""}(this.remaining);g&&(s=g,this.capture(s))}const l=Wp(r),d=Wp(s);if(n.hasOwnProperty(l)){let g=n[l];Array.isArray(g)||(g=[g],n[l]=g),g.push(d)}else n[l]=d}parseParens(n){const r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const s=ed(this.remaining),l=this.remaining[s.length];if("/"!==l&&")"!==l&&";"!==l)throw new Error(`Cannot parse url '${this.url}'`);let d;s.indexOf(":")>-1?(d=s.substr(0,s.indexOf(":")),this.capture(d),this.capture(":")):n&&(d=Pt);const g=this.parseChildren();r[d]=1===Object.keys(g).length?g[Pt]:new Bt([],g),this.consumeOptional("//")}return r}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new Error(`Expected "${n}".`)}}class ey{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const r=this.pathFromRoot(n);return r.length>1?r[r.length-2]:null}children(n){const r=Jp(n,this._root);return r?r.children.map(s=>s.value):[]}firstChild(n){const r=Jp(n,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(n){const r=ns(n,this._root);return r.length<2?[]:r[r.length-2].children.map(l=>l.value).filter(l=>l!==n)}pathFromRoot(n){return ns(n,this._root).map(r=>r.value)}}function Jp(i,n){if(i===n.value)return n;for(const r of n.children){const s=Jp(i,r);if(s)return s}return null}function ns(i,n){if(i===n.value)return[n];for(const r of n.children){const s=ns(i,r);if(s.length)return s.unshift(n),s}return[]}class Oi{constructor(n,r){this.value=n,this.children=r}toString(){return`TreeNode(${this.value})`}}function Ha(i){const n={};return i&&i.children.forEach(r=>n[r.value.outlet]=r),n}class ty extends ey{constructor(n,r){super(n),this.snapshot=r,eg(this,n)}toString(){return this.snapshot.toString()}}function ny(i,n){const r=function(i,n){const g=new Nh([],{},{},"",{},Pt,n,null,i.root,-1,{});return new iy("",new Oi(g,[]))}(i,n),s=new Dr([new wo("",{})]),l=new Dr({}),d=new Dr({}),g=new Dr({}),_=new Dr(""),C=new Nu(s,l,g,_,d,Pt,n,r.root);return C.snapshot=r.root,new ty(new Oi(C,[]),r)}class Nu{constructor(n,r,s,l,d,g,_,C){this.url=n,this.params=r,this.queryParams=s,this.fragment=l,this.data=d,this.outlet=g,this.component=_,this._futureSnapshot=C}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,bt.U)(n=>Kc(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,bt.U)(n=>Kc(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ry(i,n="emptyOnly"){const r=i.pathFromRoot;let s=0;if("always"!==n)for(s=r.length-1;s>=1;){const l=r[s],d=r[s-1];if(l.routeConfig&&""===l.routeConfig.path)s--;else{if(d.component)break;s--}}return function(i){return i.reduce((n,r)=>({params:Object.assign(Object.assign({},n.params),r.params),data:Object.assign(Object.assign({},n.data),r.data),resolve:Object.assign(Object.assign({},n.resolve),r._resolvedData)}),{params:{},data:{},resolve:{}})}(r.slice(s))}class Nh{constructor(n,r,s,l,d,g,_,C,T,N,k){this.url=n,this.params=r,this.queryParams=s,this.fragment=l,this.data=d,this.outlet=g,this.component=_,this.routeConfig=C,this._urlSegment=T,this._lastPathIndex=N,this._resolve=k}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Kc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Kc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(s=>s.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class iy extends ey{constructor(n,r){super(r),this.url=n,eg(this,r)}toString(){return sy(this._root)}}function eg(i,n){n.value._routerState=i,n.children.forEach(r=>eg(i,r))}function sy(i){const n=i.children.length>0?` { ${i.children.map(sy).join(", ")} } `:"";return`${i.value}${n}`}function oy(i){if(i.snapshot){const n=i.snapshot,r=i._futureSnapshot;i.snapshot=r,es(n.queryParams,r.queryParams)||i.queryParams.next(r.queryParams),n.fragment!==r.fragment&&i.fragment.next(r.fragment),es(n.params,r.params)||i.params.next(r.params),function(i,n){if(i.length!==n.length)return!1;for(let r=0;r<i.length;++r)if(!es(i[r],n[r]))return!1;return!0}(n.url,r.url)||i.url.next(r.url),es(n.data,r.data)||i.data.next(r.data)}else i.snapshot=i._futureSnapshot,i.data.next(i._futureSnapshot.data)}function kh(i,n){return es(i.params,n.params)&&function(i,n){return Ll(i,n)&&i.every((r,s)=>es(r.parameters,n[s].parameters))}(i.url,n.url)&&!(!i.parent!=!n.parent)&&(!i.parent||kh(i.parent,n.parent))}function td(i,n,r){if(r&&i.shouldReuseRoute(n.value,r.value.snapshot)){const s=r.value;s._futureSnapshot=n.value;const l=function(i,n,r){return n.children.map(s=>{for(const l of r.children)if(i.shouldReuseRoute(s.value,l.value.snapshot))return td(i,s,l);return td(i,s)})}(i,n,r);return new Oi(s,l)}{if(i.shouldAttach(n.value)){const d=i.retrieve(n.value);if(null!==d){const g=d.route;return Zs(n,g),g}}const s=function(i){return new Nu(new Dr(i.url),new Dr(i.params),new Dr(i.queryParams),new Dr(i.fragment),new Dr(i.data),i.outlet,i.component,i)}(n.value),l=n.children.map(d=>td(i,d));return new Oi(s,l)}}function Zs(i,n){if(i.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(i.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=i.value;for(let r=0;r<i.children.length;++r)Zs(i.children[r],n.children[r])}function nd(i){return"object"==typeof i&&null!=i&&!i.outlets&&!i.segmentPath}function Gl(i){return"object"==typeof i&&null!=i&&i.outlets}function ly(i,n,r,s,l){let d={};return s&&Ir(s,(g,_)=>{d[_]=Array.isArray(g)?g.map(C=>`${C}`):`${g}`}),new Pl(r.root===i?n:Ab(r.root,i,n),d,l)}function Ab(i,n,r){const s={};return Ir(i.children,(l,d)=>{s[d]=l===n?r:Ab(l,n,r)}),new Bt(i.segments,s)}class Ph{constructor(n,r,s){if(this.isAbsolute=n,this.numberOfDoubleDots=r,this.commands=s,n&&s.length>0&&nd(s[0]))throw new Error("Root segment cannot have matrix parameters");const l=s.find(Gl);if(l&&l!==Mu(s))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class rd{constructor(n,r,s){this.segmentGroup=n,this.processChildren=r,this.index=s}}function id(i,n,r){if(i||(i=new Bt([],{})),0===i.segments.length&&i.hasChildren())return Vh(i,n,r);const s=function(i,n,r){let s=0,l=n;const d={match:!1,pathIndex:0,commandIndex:0};for(;l<i.segments.length;){if(s>=r.length)return d;const g=i.segments[l],_=r[s];if(Gl(_))break;const C=`${_}`,T=s<r.length-1?r[s+1]:null;if(l>0&&void 0===C)break;if(C&&T&&"object"==typeof T&&void 0===T.outlets){if(!ng(C,T,g))return d;s+=2}else{if(!ng(C,{},g))return d;s++}l++}return{match:!0,pathIndex:l,commandIndex:s}}(i,n,r),l=r.slice(s.commandIndex);if(s.match&&s.pathIndex<i.segments.length){const d=new Bt(i.segments.slice(0,s.pathIndex),{});return d.children[Pt]=new Bt(i.segments.slice(s.pathIndex),i.children),Vh(d,0,l)}return s.match&&0===l.length?new Bt(i.segments,{}):s.match&&!i.hasChildren()?tg(i,n,r):s.match?Vh(i,0,l):tg(i,n,r)}function Vh(i,n,r){if(0===r.length)return new Bt(i.segments,{});{const s=function(i){return Gl(i[0])?i[0].outlets:{[Pt]:i}}(r),l={};return Ir(s,(d,g)=>{"string"==typeof d&&(d=[d]),null!==d&&(l[g]=id(i.children[g],n,d))}),Ir(i.children,(d,g)=>{void 0===s[g]&&(l[g]=d)}),new Bt(i.segments,l)}}function tg(i,n,r){const s=i.segments.slice(0,n);let l=0;for(;l<r.length;){const d=r[l];if(Gl(d)){const C=dy(d.outlets);return new Bt(s,C)}if(0===l&&nd(r[0])){s.push(new wo(i.segments[n].path,sd(r[0]))),l++;continue}const g=Gl(d)?d.outlets[Pt]:`${d}`,_=l<r.length-1?r[l+1]:null;g&&_&&nd(_)?(s.push(new wo(g,sd(_))),l+=2):(s.push(new wo(g,{})),l++)}return new Bt(s,{})}function dy(i){const n={};return Ir(i,(r,s)=>{"string"==typeof r&&(r=[r]),null!==r&&(n[s]=tg(new Bt([],{}),0,r))}),n}function sd(i){const n={};return Ir(i,(r,s)=>n[s]=`${r}`),n}function ng(i,n,r){return i==r.path&&es(n,r.parameters)}class rg{constructor(n,r,s,l){this.routeReuseStrategy=n,this.futureState=r,this.currState=s,this.forwardEvent=l}activate(n){const r=this.futureState._root,s=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,s,n),oy(this.futureState.root),this.activateChildRoutes(r,s,n)}deactivateChildRoutes(n,r,s){const l=Ha(r);n.children.forEach(d=>{const g=d.value.outlet;this.deactivateRoutes(d,l[g],s),delete l[g]}),Ir(l,(d,g)=>{this.deactivateRouteAndItsChildren(d,s)})}deactivateRoutes(n,r,s){const l=n.value,d=r?r.value:null;if(l===d)if(l.component){const g=s.getContext(l.outlet);g&&this.deactivateChildRoutes(n,r,g.children)}else this.deactivateChildRoutes(n,r,s);else d&&this.deactivateRouteAndItsChildren(r,s)}deactivateRouteAndItsChildren(n,r){this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,r):this.deactivateRouteAndOutlet(n,r)}detachAndStoreRouteSubtree(n,r){const s=r.getContext(n.value.outlet);if(s&&s.outlet){const l=s.outlet.detach(),d=s.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:l,route:n,contexts:d})}}deactivateRouteAndOutlet(n,r){const s=r.getContext(n.value.outlet),l=s&&n.value.component?s.children:r,d=Ha(n);for(const g of Object.keys(d))this.deactivateRouteAndItsChildren(d[g],l);s&&s.outlet&&(s.outlet.deactivate(),s.children.onOutletDeactivated(),s.attachRef=null,s.resolver=null,s.route=null)}activateChildRoutes(n,r,s){const l=Ha(r);n.children.forEach(d=>{this.activateRoutes(d,l[d.value.outlet],s),this.forwardEvent(new kl(d.value.snapshot))}),n.children.length&&this.forwardEvent(new Ks(n.value.snapshot))}activateRoutes(n,r,s){const l=n.value,d=r?r.value:null;if(oy(l),l===d)if(l.component){const g=s.getOrCreateContext(l.outlet);this.activateChildRoutes(n,r,g.children)}else this.activateChildRoutes(n,r,s);else if(l.component){const g=s.getOrCreateContext(l.outlet);if(this.routeReuseStrategy.shouldAttach(l.snapshot)){const _=this.routeReuseStrategy.retrieve(l.snapshot);this.routeReuseStrategy.store(l.snapshot,null),g.children.onOutletReAttached(_.contexts),g.attachRef=_.componentRef,g.route=_.route.value,g.outlet&&g.outlet.attach(_.componentRef,_.route.value),An(_.route)}else{const _=function(i){for(let n=i.parent;n;n=n.parent){const r=n.routeConfig;if(r&&r._loadedConfig)return r._loadedConfig;if(r&&r.component)return null}return null}(l.snapshot),C=_?_.module.componentFactoryResolver:null;g.attachRef=null,g.route=l,g.resolver=C,g.outlet&&g.outlet.activateWith(l,C),this.activateChildRoutes(n,null,g.children)}}else this.activateChildRoutes(n,null,s)}}function An(i){oy(i.value),i.children.forEach(An)}class ig{constructor(n,r){this.routes=n,this.module=r}}function Cs(i){return"function"==typeof i}function Ws(i){return i instanceof Pl}const Uh=Symbol("INITIAL_VALUE");function od(){return Xn(i=>function(...i){let n,r;return(0,ws.K)(i[i.length-1])&&(r=i.pop()),"function"==typeof i[i.length-1]&&(n=i.pop()),1===i.length&&(0,$s.k)(i[0])&&(i=i[0]),(0,Bc.n)(i,r).lift(new La(n))}(i.map(n=>n.pipe(Uc(1),Va(Uh)))).pipe(Ba((n,r)=>{let s=!1;return r.reduce((l,d,g)=>l!==Uh?l:(d===Uh&&(s=!0),s||!1!==d&&g!==r.length-1&&!Ws(d)?l:d),n)},Uh),Pr(n=>n!==Uh),(0,bt.U)(n=>Ws(n)?n:!0===n),Uc(1)))}let ku=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=f.Xpm({type:i,selectors:[["ng-component"]],decls:1,vars:0,template:function(r,s){1&r&&f._UZ(0,"router-outlet")},directives:function(){return[Pb]},encapsulation:2}),i})();function On(i,n=""){for(let r=0;r<i.length;r++){const s=i[r];jh(s,py(n,s))}}function jh(i,n){i.children&&On(i.children,n)}function py(i,n){return n?i||n.path?i&&!n.path?`${i}/`:!i&&n.path?n.path:`${i}/${n.path}`:"":i}function Gh(i){const n=i.children&&i.children.map(Gh),r=n?Object.assign(Object.assign({},i),{children:n}):Object.assign({},i);return!r.component&&(n||r.loadChildren)&&r.outlet&&r.outlet!==Pt&&(r.component=ku),r}function fn(i){return i.outlet||Pt}function Hl(i,n){const r=i.filter(s=>fn(s)===n);return r.push(...i.filter(s=>fn(s)!==n)),r}const Lr={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Fu(i,n,r){var s;if(""===n.path)return"full"===n.pathMatch&&(i.hasChildren()||r.length>0)?Object.assign({},Lr):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const d=(n.matcher||wb)(r,i,n);if(!d)return Object.assign({},Lr);const g={};Ir(d.posParams,(C,T)=>{g[T]=C.path});const _=d.consumed.length>0?Object.assign(Object.assign({},g),d.consumed[d.consumed.length-1].parameters):g;return{matched:!0,consumedSegments:d.consumed,lastChild:d.consumed.length,parameters:_,positionalParamSegments:null!==(s=d.posParams)&&void 0!==s?s:{}}}function Pu(i,n,r,s,l="corrected"){if(r.length>0&&function(i,n,r){return r.some(s=>Vu(i,n,s)&&fn(s)!==Pt)}(i,r,s)){const g=new Bt(n,function(i,n,r,s){const l={};l[Pt]=s,s._sourceSegment=i,s._segmentIndexShift=n.length;for(const d of r)if(""===d.path&&fn(d)!==Pt){const g=new Bt([],{});g._sourceSegment=i,g._segmentIndexShift=n.length,l[fn(d)]=g}return l}(i,n,s,new Bt(r,i.children)));return g._sourceSegment=i,g._segmentIndexShift=n.length,{segmentGroup:g,slicedSegments:[]}}if(0===r.length&&function(i,n,r){return r.some(s=>Vu(i,n,s))}(i,r,s)){const g=new Bt(i.segments,function(i,n,r,s,l,d){const g={};for(const _ of s)if(Vu(i,r,_)&&!l[fn(_)]){const C=new Bt([],{});C._sourceSegment=i,C._segmentIndexShift="legacy"===d?i.segments.length:n.length,g[fn(_)]=C}return Object.assign(Object.assign({},l),g)}(i,n,r,s,i.children,l));return g._sourceSegment=i,g._segmentIndexShift=n.length,{segmentGroup:g,slicedSegments:r}}const d=new Bt(i.segments,i.children);return d._sourceSegment=i,d._segmentIndexShift=n.length,{segmentGroup:d,slicedSegments:r}}function Vu(i,n,r){return(!(i.hasChildren()||n.length>0)||"full"!==r.pathMatch)&&""===r.path}function Hh(i,n,r,s){return!!(fn(i)===s||s!==Pt&&Vu(n,r,i))&&("**"===i.path||Fu(n,i,r).matched)}function yy(i,n,r){return 0===n.length&&!i.children[r]}class ad{constructor(n){this.segmentGroup=n||null}}class ag{constructor(n){this.urlTree=n}}function Bu(i){return new pr.y(n=>n.error(new ad(i)))}function E(i){return new pr.y(n=>n.error(new ag(i)))}function y(i){return new pr.y(n=>n.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${i}'`)))}class O{constructor(n,r,s,l,d){this.configLoader=r,this.urlSerializer=s,this.urlTree=l,this.config=d,this.allowRedirects=!0,this.ngModule=n.get(f.h0i)}apply(){const n=Pu(this.urlTree.root,[],[],this.config).segmentGroup,r=new Bt(n.segments,n.children);return this.expandSegmentGroup(this.ngModule,this.config,r,Pt).pipe((0,bt.U)(d=>this.createUrlTree(ee(d),this.urlTree.queryParams,this.urlTree.fragment))).pipe(mo(d=>{if(d instanceof ag)return this.allowRedirects=!1,this.match(d.urlTree);throw d instanceof ad?this.noMatchError(d):d}))}match(n){return this.expandSegmentGroup(this.ngModule,this.config,n.root,Pt).pipe((0,bt.U)(l=>this.createUrlTree(ee(l),n.queryParams,n.fragment))).pipe(mo(l=>{throw l instanceof ad?this.noMatchError(l):l}))}noMatchError(n){return new Error(`Cannot match any routes. URL Segment: '${n.segmentGroup}'`)}createUrlTree(n,r,s){const l=n.segments.length>0?new Bt([],{[Pt]:n}):n;return new Pl(l,r,s)}expandSegmentGroup(n,r,s,l){return 0===s.segments.length&&s.hasChildren()?this.expandChildren(n,r,s).pipe((0,bt.U)(d=>new Bt([],d))):this.expandSegment(n,s,r,s.segments,l,!0)}expandChildren(n,r,s){const l=[];for(const d of Object.keys(s.children))"primary"===d?l.unshift(d):l.push(d);return(0,vn.D)(l).pipe(Ji(d=>{const g=s.children[d],_=Hl(r,d);return this.expandSegmentGroup(n,_,g,d).pipe((0,bt.U)(C=>({segment:C,outlet:d})))}),Ba((d,g)=>(d[g.outlet]=g.segment,d),{}),function(i,n){const r=arguments.length>=2;return s=>s.pipe(i?Pr((l,d)=>i(l,d,s)):vo.y,Ih(1),r?ci(n):yo(()=>new Jo))}())}expandSegment(n,r,s,l,d,g){return(0,vn.D)(s).pipe(Ji(_=>this.expandSegmentAgainstRoute(n,r,s,_,l,d,g).pipe(mo(T=>{if(T instanceof ad)return(0,dt.of)(null);throw T}))),qs(_=>!!_),mo((_,C)=>{if(_ instanceof Jo||"EmptyError"===_.name){if(yy(r,l,d))return(0,dt.of)(new Bt([],{}));throw new ad(r)}throw _}))}expandSegmentAgainstRoute(n,r,s,l,d,g,_){return Hh(l,r,d,g)?void 0===l.redirectTo?this.matchSegmentAgainstRoute(n,r,l,d,g):_&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,r,s,l,d,g):Bu(r):Bu(r)}expandSegmentAgainstRouteUsingRedirect(n,r,s,l,d,g){return"**"===l.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,s,l,g):this.expandRegularSegmentAgainstRouteUsingRedirect(n,r,s,l,d,g)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,r,s,l){const d=this.applyRedirectCommands([],s.redirectTo,{});return s.redirectTo.startsWith("/")?E(d):this.lineralizeSegments(s,d).pipe((0,qn.zg)(g=>{const _=new Bt(g,{});return this.expandSegment(n,_,r,g,l,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,r,s,l,d,g){const{matched:_,consumedSegments:C,lastChild:T,positionalParamSegments:N}=Fu(r,l,d);if(!_)return Bu(r);const k=this.applyRedirectCommands(C,l.redirectTo,N);return l.redirectTo.startsWith("/")?E(k):this.lineralizeSegments(l,k).pipe((0,qn.zg)(z=>this.expandSegment(n,r,s,z.concat(d.slice(T)),g,!1)))}matchSegmentAgainstRoute(n,r,s,l,d){if("**"===s.path)return s.loadChildren?(s._loadedConfig?(0,dt.of)(s._loadedConfig):this.configLoader.load(n.injector,s)).pipe((0,bt.U)(z=>(s._loadedConfig=z,new Bt(l,{})))):(0,dt.of)(new Bt(l,{}));const{matched:g,consumedSegments:_,lastChild:C}=Fu(r,s,l);if(!g)return Bu(r);const T=l.slice(C);return this.getChildConfig(n,s,l).pipe((0,qn.zg)(k=>{const z=k.module,$=k.routes,{segmentGroup:re,slicedSegments:Ie}=Pu(r,_,T,$),Le=new Bt(re.segments,re.children);if(0===Ie.length&&Le.hasChildren())return this.expandChildren(z,$,Le).pipe((0,bt.U)(gt=>new Bt(_,gt)));if(0===$.length&&0===Ie.length)return(0,dt.of)(new Bt(_,{}));const He=fn(s)===d;return this.expandSegment(z,Le,$,Ie,He?Pt:d,!0).pipe((0,bt.U)(Nt=>new Bt(_.concat(Nt.segments),Nt.children)))}))}getChildConfig(n,r,s){return r.children?(0,dt.of)(new ig(r.children,n)):r.loadChildren?void 0!==r._loadedConfig?(0,dt.of)(r._loadedConfig):this.runCanLoadGuards(n.injector,r,s).pipe((0,qn.zg)(l=>{return l?this.configLoader.load(n.injector,r).pipe((0,bt.U)(d=>(r._loadedConfig=d,d))):(i=r,new pr.y(n=>n.error(Ua(`Cannot load children because the guard of the route "path: '${i.path}'" returned false`))));var i})):(0,dt.of)(new ig([],n))}runCanLoadGuards(n,r,s){const l=r.canLoad;if(!l||0===l.length)return(0,dt.of)(!0);const d=l.map(g=>{const _=n.get(g);let C;if((i=_)&&Cs(i.canLoad))C=_.canLoad(r,s);else{if(!Cs(_))throw new Error("Invalid CanLoad guard");C=_(r,s)}var i;return Ys(C)});return(0,dt.of)(d).pipe(od(),(0,qr.b)(g=>{if(!Ws(g))return;const _=Ua(`Redirecting to "${this.urlSerializer.serialize(g)}"`);throw _.url=g,_}),(0,bt.U)(g=>!0===g))}lineralizeSegments(n,r){let s=[],l=r.root;for(;;){if(s=s.concat(l.segments),0===l.numberOfChildren)return(0,dt.of)(s);if(l.numberOfChildren>1||!l.children[Pt])return y(n.redirectTo);l=l.children[Pt]}}applyRedirectCommands(n,r,s){return this.applyRedirectCreatreUrlTree(r,this.urlSerializer.parse(r),n,s)}applyRedirectCreatreUrlTree(n,r,s,l){const d=this.createSegmentGroup(n,r.root,s,l);return new Pl(d,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(n,r){const s={};return Ir(n,(l,d)=>{if("string"==typeof l&&l.startsWith(":")){const _=l.substring(1);s[d]=r[_]}else s[d]=l}),s}createSegmentGroup(n,r,s,l){const d=this.createSegments(n,r.segments,s,l);let g={};return Ir(r.children,(_,C)=>{g[C]=this.createSegmentGroup(n,_,s,l)}),new Bt(d,g)}createSegments(n,r,s,l){return r.map(d=>d.path.startsWith(":")?this.findPosParam(n,d,l):this.findOrReturn(d,s))}findPosParam(n,r,s){const l=s[r.path.substring(1)];if(!l)throw new Error(`Cannot redirect to '${n}'. Cannot find '${r.path}'.`);return l}findOrReturn(n,r){let s=0;for(const l of r){if(l.path===n.path)return r.splice(s),l;s++}return n}}function ee(i){const n={};for(const s of Object.keys(i.children)){const d=ee(i.children[s]);(d.segments.length>0||d.hasChildren())&&(n[s]=d)}return function(i){if(1===i.numberOfChildren&&i.children[Pt]){const n=i.children[Pt];return new Bt(i.segments.concat(n.segments),n.children)}return i}(new Bt(i.segments,n))}class Ke{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class nt{constructor(n,r){this.component=n,this.route=r}}function Et(i,n,r){const s=i._root;return gr(s,n?n._root:null,r,[s.value])}function Vn(i,n,r){const s=function(i){if(!i)return null;for(let n=i.parent;n;n=n.parent){const r=n.routeConfig;if(r&&r._loadedConfig)return r._loadedConfig}return null}(n);return(s?s.module.injector:r).get(i)}function gr(i,n,r,s,l={canDeactivateChecks:[],canActivateChecks:[]}){const d=Ha(n);return i.children.forEach(g=>{(function(i,n,r,s,l={canDeactivateChecks:[],canActivateChecks:[]}){const d=i.value,g=n?n.value:null,_=r?r.getContext(i.value.outlet):null;if(g&&d.routeConfig===g.routeConfig){const C=function(i,n,r){if("function"==typeof r)return r(i,n);switch(r){case"pathParamsChange":return!Ll(i.url,n.url);case"pathParamsOrQueryParamsChange":return!Ll(i.url,n.url)||!es(i.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!kh(i,n)||!es(i.queryParams,n.queryParams);case"paramsChange":default:return!kh(i,n)}}(g,d,d.routeConfig.runGuardsAndResolvers);C?l.canActivateChecks.push(new Ke(s)):(d.data=g.data,d._resolvedData=g._resolvedData),gr(i,n,d.component?_?_.children:null:r,s,l),C&&_&&_.outlet&&_.outlet.isActivated&&l.canDeactivateChecks.push(new nt(_.outlet.component,g))}else g&&Uu(n,_,l),l.canActivateChecks.push(new Ke(s)),gr(i,null,d.component?_?_.children:null:r,s,l)})(g,d[g.value.outlet],r,s.concat([g.value]),l),delete d[g.value.outlet]}),Ir(d,(g,_)=>Uu(g,r.getContext(_),l)),l}function Uu(i,n,r){const s=Ha(i),l=i.value;Ir(s,(d,g)=>{Uu(d,l.component?n?n.children.getContext(g):null:n,r)}),r.canDeactivateChecks.push(new nt(l.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,l))}class YC{}function nS(i){return new pr.y(n=>n.error(i))}class YO{constructor(n,r,s,l,d,g){this.rootComponentType=n,this.config=r,this.urlTree=s,this.url=l,this.paramsInheritanceStrategy=d,this.relativeLinkResolution=g}recognize(){const n=Pu(this.urlTree.root,[],[],this.config.filter(g=>void 0===g.redirectTo),this.relativeLinkResolution).segmentGroup,r=this.processSegmentGroup(this.config,n,Pt);if(null===r)return null;const s=new Nh([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Pt,this.rootComponentType,null,this.urlTree.root,-1,{}),l=new Oi(s,r),d=new iy(this.url,l);return this.inheritParamsAndData(d._root),d}inheritParamsAndData(n){const r=n.value,s=ry(r,this.paramsInheritanceStrategy);r.params=Object.freeze(s.params),r.data=Object.freeze(s.data),n.children.forEach(l=>this.inheritParamsAndData(l))}processSegmentGroup(n,r,s){return 0===r.segments.length&&r.hasChildren()?this.processChildren(n,r):this.processSegment(n,r,r.segments,s)}processChildren(n,r){const s=[];for(const d of Object.keys(r.children)){const g=r.children[d],_=Hl(n,d),C=this.processSegmentGroup(_,g,d);if(null===C)return null;s.push(...C)}const l=WC(s);return l.sort((n,r)=>n.value.outlet===Pt?-1:r.value.outlet===Pt?1:n.value.outlet.localeCompare(r.value.outlet)),l}processSegment(n,r,s,l){for(const d of n){const g=this.processSegmentAgainstRoute(d,r,s,l);if(null!==g)return g}return yy(r,s,l)?[]:null}processSegmentAgainstRoute(n,r,s,l){if(n.redirectTo||!Hh(n,r,s,l))return null;let d,g=[],_=[];if("**"===n.path){const $=s.length>0?Mu(s).parameters:{};d=new Nh(s,$,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Mb(n),fn(n),n.component,n,$h(r),Tb(r)+s.length,wy(n))}else{const $=Fu(r,n,s);if(!$.matched)return null;g=$.consumedSegments,_=s.slice($.lastChild),d=new Nh(g,$.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Mb(n),fn(n),n.component,n,$h(r),Tb(r)+g.length,wy(n))}const C=(i=n).children?i.children:i.loadChildren?i._loadedConfig.routes:[],{segmentGroup:T,slicedSegments:N}=Pu(r,g,_,C.filter($=>void 0===$.redirectTo),this.relativeLinkResolution);var i;if(0===N.length&&T.hasChildren()){const $=this.processChildren(C,T);return null===$?null:[new Oi(d,$)]}if(0===C.length&&0===N.length)return[new Oi(d,[])];const k=fn(n)===l,z=this.processSegment(C,T,N,k?Pt:l);return null===z?null:[new Oi(d,z)]}}function Sb(i){const n=i.value.routeConfig;return n&&""===n.path&&void 0===n.redirectTo}function WC(i){const n=[],r=new Set;for(const s of i){if(!Sb(s)){n.push(s);continue}const l=n.find(d=>s.value.routeConfig===d.value.routeConfig);void 0!==l?(l.children.push(...s.children),r.add(l)):n.push(s)}for(const s of r){const l=WC(s.children);n.push(new Oi(s.value,l))}return n.filter(s=>!r.has(s))}function $h(i){let n=i;for(;n._sourceSegment;)n=n._sourceSegment;return n}function Tb(i){let n=i,r=n._segmentIndexShift?n._segmentIndexShift:0;for(;n._sourceSegment;)n=n._sourceSegment,r+=n._segmentIndexShift?n._segmentIndexShift:0;return r-1}function Mb(i){return i.data||{}}function wy(i){return i.resolve||{}}function Ey(i){return Xn(n=>{const r=i(n);return r?(0,vn.D)(r).pipe((0,bt.U)(()=>n)):(0,dt.of)(n)})}class sS extends class{shouldDetach(n){return!1}store(n,r){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,r){return n.routeConfig===r.routeConfig}}{}const kb=new f.OlP("ROUTES");class JC{constructor(n,r,s,l){this.loader=n,this.compiler=r,this.onLoadStartListener=s,this.onLoadEndListener=l}load(n,r){if(r._loader$)return r._loader$;this.onLoadStartListener&&this.onLoadStartListener(r);const l=this.loadModuleFactory(r.loadChildren).pipe((0,bt.U)(d=>{this.onLoadEndListener&&this.onLoadEndListener(r);const g=d.create(n);return new ig(ja(g.injector.get(kb,void 0,f.XFs.Self|f.XFs.Optional)).map(Gh),g)}),mo(d=>{throw r._loader$=void 0,d}));return r._loader$=new Rl.c(l,()=>new Pn.xQ).pipe((0,Kp.x)()),r._loader$}loadModuleFactory(n){return"string"==typeof n?(0,vn.D)(this.loader.load(n)):Ys(n()).pipe((0,qn.zg)(r=>r instanceof f.YKP?(0,dt.of)(r):(0,vn.D)(this.compiler.compileModuleAsync(r))))}}class oS{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new qh,this.attachRef=null}}class qh{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const s=this.getOrCreateContext(n);s.outlet=r,this.contexts.set(n,s)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new oS,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}class XC{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}function Fb(i){throw i}function e0(i,n,r){return n.parse("/")}function Cy(i,n){return(0,dt.of)(null)}const lS={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},uS={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let rs=(()=>{class i{constructor(r,s,l,d,g,_,C,T){this.rootComponentType=r,this.urlSerializer=s,this.rootContexts=l,this.location=d,this.config=T,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Pn.xQ,this.errorHandler=Fb,this.malformedUriErrorHandler=e0,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Cy,afterPreactivation:Cy},this.urlHandlingStrategy=new XC,this.routeReuseStrategy=new sS,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=g.get(f.h0i),this.console=g.get(f.c2e);const z=g.get(f.R0b);this.isNgZoneEnabled=z instanceof f.R0b&&f.R0b.isInAngularZone(),this.resetConfig(T),this.currentUrlTree=new Pl(new Bt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new JC(_,C,$=>this.triggerEvent(new bo($)),$=>this.triggerEvent(new zc($))),this.routerState=ny(this.currentUrlTree,this.rootComponentType),this.transitions=new Dr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var r;return null===(r=this.location.getState())||void 0===r?void 0:r.\u0275routerPageId}setupNavigations(r){const s=this.events;return r.pipe(Pr(l=>0!==l.id),(0,bt.U)(l=>Object.assign(Object.assign({},l),{extractedUrl:this.urlHandlingStrategy.extract(l.rawUrl)})),Xn(l=>{let d=!1,g=!1;return(0,dt.of)(l).pipe((0,qr.b)(_=>{this.currentNavigation={id:_.id,initialUrl:_.currentRawUrl,extractedUrl:_.extractedUrl,trigger:_.source,extras:_.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Xn(_=>{const C=this.browserUrlTree.toString(),T=!this.navigated||_.extractedUrl.toString()!==C||C!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||T)&&this.urlHandlingStrategy.shouldProcessUrl(_.rawUrl))return za(_.source)&&(this.browserUrlTree=_.extractedUrl),(0,dt.of)(_).pipe(Xn(k=>{const z=this.transitions.getValue();return s.next(new we(k.id,this.serializeUrl(k.extractedUrl),k.source,k.restoredState)),z!==this.transitions.getValue()?Mi.E:Promise.resolve(k)}),function(i,n,r,s){return Xn(l=>function(i,n,r,s,l){return new O(i,n,r,s,l).apply()}(i,n,r,l.extractedUrl,s).pipe((0,bt.U)(d=>Object.assign(Object.assign({},l),{urlAfterRedirects:d}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,qr.b)(k=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:k.urlAfterRedirects})}),function(i,n,r,s,l){return(0,qn.zg)(d=>function(i,n,r,s,l="emptyOnly",d="legacy"){try{const g=new YO(i,n,r,s,l,d).recognize();return null===g?nS(new YC):(0,dt.of)(g)}catch(g){return nS(g)}}(i,n,d.urlAfterRedirects,r(d.urlAfterRedirects),s,l).pipe((0,bt.U)(g=>Object.assign(Object.assign({},d),{targetSnapshot:g}))))}(this.rootComponentType,this.config,k=>this.serializeUrl(k),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,qr.b)(k=>{"eager"===this.urlUpdateStrategy&&(k.extras.skipLocationChange||this.setBrowserUrl(k.urlAfterRedirects,k),this.browserUrlTree=k.urlAfterRedirects);const z=new zt(k.id,this.serializeUrl(k.extractedUrl),this.serializeUrl(k.urlAfterRedirects),k.targetSnapshot);s.next(z)}));if(T&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:z,extractedUrl:$,source:re,restoredState:Ie,extras:Le}=_,He=new we(z,this.serializeUrl($),re,Ie);s.next(He);const st=ny($,this.rootComponentType).snapshot;return(0,dt.of)(Object.assign(Object.assign({},_),{targetSnapshot:st,urlAfterRedirects:$,extras:Object.assign(Object.assign({},Le),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=_.rawUrl,this.browserUrlTree=_.urlAfterRedirects,_.resolve(null),Mi.E}),Ey(_=>{const{targetSnapshot:C,id:T,extractedUrl:N,rawUrl:k,extras:{skipLocationChange:z,replaceUrl:$}}=_;return this.hooks.beforePreactivation(C,{navigationId:T,appliedUrlTree:N,rawUrlTree:k,skipLocationChange:!!z,replaceUrl:!!$})}),(0,qr.b)(_=>{const C=new tn(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(C)}),(0,bt.U)(_=>Object.assign(Object.assign({},_),{guards:Et(_.targetSnapshot,_.currentSnapshot,this.rootContexts)})),function(i,n){return(0,qn.zg)(r=>{const{targetSnapshot:s,currentSnapshot:l,guards:{canActivateChecks:d,canDeactivateChecks:g}}=r;return 0===g.length&&0===d.length?(0,dt.of)(Object.assign(Object.assign({},r),{guardsResult:!0})):function(i,n,r,s){return(0,vn.D)(i).pipe((0,qn.zg)(l=>function(i,n,r,s,l){const d=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!d||0===d.length)return(0,dt.of)(!0);const g=d.map(_=>{const C=Vn(_,n,l);let T;if(function(i){return i&&Cs(i.canDeactivate)}(C))T=Ys(C.canDeactivate(i,n,r,s));else{if(!Cs(C))throw new Error("Invalid CanDeactivate guard");T=Ys(C(i,n,r,s))}return T.pipe(qs())});return(0,dt.of)(g).pipe(od())}(l.component,l.route,r,n,s)),qs(l=>!0!==l,!0))}(g,s,l,i).pipe((0,qn.zg)(_=>_&&function(i){return"boolean"==typeof i}(_)?function(i,n,r,s){return(0,vn.D)(n).pipe(Ji(l=>Ml(function(i,n){return null!==i&&n&&n(new Xi(i)),(0,dt.of)(!0)}(l.route.parent,s),function(i,n){return null!==i&&n&&n(new hi(i)),(0,dt.of)(!0)}(l.route,s),function(i,n,r){const s=n[n.length-1],d=n.slice(0,n.length-1).reverse().map(g=>function(i){const n=i.routeConfig?i.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:i,guards:n}:null}(g)).filter(g=>null!==g).map(g=>go(()=>{const _=g.guards.map(C=>{const T=Vn(C,g.node,r);let N;if(function(i){return i&&Cs(i.canActivateChild)}(T))N=Ys(T.canActivateChild(s,i));else{if(!Cs(T))throw new Error("Invalid CanActivateChild guard");N=Ys(T(s,i))}return N.pipe(qs())});return(0,dt.of)(_).pipe(od())}));return(0,dt.of)(d).pipe(od())}(i,l.path,r),function(i,n,r){const s=n.routeConfig?n.routeConfig.canActivate:null;if(!s||0===s.length)return(0,dt.of)(!0);const l=s.map(d=>go(()=>{const g=Vn(d,n,r);let _;if(function(i){return i&&Cs(i.canActivate)}(g))_=Ys(g.canActivate(n,i));else{if(!Cs(g))throw new Error("Invalid CanActivate guard");_=Ys(g(n,i))}return _.pipe(qs())}));return(0,dt.of)(l).pipe(od())}(i,l.route,r))),qs(l=>!0!==l,!0))}(s,d,i,n):(0,dt.of)(_)),(0,bt.U)(_=>Object.assign(Object.assign({},r),{guardsResult:_})))})}(this.ngModule.injector,_=>this.triggerEvent(_)),(0,qr.b)(_=>{if(Ws(_.guardsResult)){const T=Ua(`Redirecting to "${this.serializeUrl(_.guardsResult)}"`);throw T.url=_.guardsResult,T}const C=new di(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot,!!_.guardsResult);this.triggerEvent(C)}),Pr(_=>!!_.guardsResult||(this.restoreHistory(_),this.cancelNavigationTransition(_,""),!1)),Ey(_=>{if(_.guards.canActivateChecks.length)return(0,dt.of)(_).pipe((0,qr.b)(C=>{const T=new Ar(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot);this.triggerEvent(T)}),Xn(C=>{let T=!1;return(0,dt.of)(C).pipe(function(i,n){return(0,qn.zg)(r=>{const{targetSnapshot:s,guards:{canActivateChecks:l}}=r;if(!l.length)return(0,dt.of)(r);let d=0;return(0,vn.D)(l).pipe(Ji(g=>function(i,n,r,s){return function(i,n,r,s){const l=Object.keys(i);if(0===l.length)return(0,dt.of)({});const d={};return(0,vn.D)(l).pipe((0,qn.zg)(g=>function(i,n,r,s){const l=Vn(i,n,s);return Ys(l.resolve?l.resolve(n,r):l(n,r))}(i[g],n,r,s).pipe((0,qr.b)(_=>{d[g]=_}))),Ih(1),(0,qn.zg)(()=>Object.keys(d).length===l.length?(0,dt.of)(d):Mi.E))}(i._resolve,i,n,s).pipe((0,bt.U)(d=>(i._resolvedData=d,i.data=Object.assign(Object.assign({},i.data),ry(i,r).resolve),null)))}(g.route,s,i,n)),(0,qr.b)(()=>d++),Ih(1),(0,qn.zg)(g=>d===l.length?(0,dt.of)(r):Mi.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,qr.b)({next:()=>T=!0,complete:()=>{T||(this.restoreHistory(C),this.cancelNavigationTransition(C,"At least one route resolver didn't emit any value."))}}))}),(0,qr.b)(C=>{const T=new Rn(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot);this.triggerEvent(T)}))}),Ey(_=>{const{targetSnapshot:C,id:T,extractedUrl:N,rawUrl:k,extras:{skipLocationChange:z,replaceUrl:$}}=_;return this.hooks.afterPreactivation(C,{navigationId:T,appliedUrlTree:N,rawUrlTree:k,skipLocationChange:!!z,replaceUrl:!!$})}),(0,bt.U)(_=>{const C=function(i,n,r){const s=td(i,n._root,r?r._root:void 0);return new ty(s,n)}(this.routeReuseStrategy,_.targetSnapshot,_.currentRouterState);return Object.assign(Object.assign({},_),{targetRouterState:C})}),(0,qr.b)(_=>{this.currentUrlTree=_.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(_.urlAfterRedirects,_.rawUrl),this.routerState=_.targetRouterState,"deferred"===this.urlUpdateStrategy&&(_.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,_),this.browserUrlTree=_.urlAfterRedirects)}),((i,n,r)=>(0,bt.U)(s=>(new rg(n,s.targetRouterState,s.currentRouterState,r).activate(i),s)))(this.rootContexts,this.routeReuseStrategy,_=>this.triggerEvent(_)),(0,qr.b)({next(){d=!0},complete(){d=!0}}),function(i){return n=>n.lift(new F(i))}(()=>{if(!d&&!g){const _=`Navigation ID ${l.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(l),this.cancelNavigationTransition(l,_)):this.cancelNavigationTransition(l,_)}this.currentNavigation=null}),mo(_=>{if(g=!0,function(i){return i&&i[Yc]}(_)){const C=Ws(_.url);C||(this.navigated=!0,this.restoreHistory(l,!0));const T=new Je(l.id,this.serializeUrl(l.extractedUrl),_.message);s.next(T),C?setTimeout(()=>{const N=this.urlHandlingStrategy.merge(_.url,this.rawUrlTree),k={skipLocationChange:l.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||za(l.source)};this.scheduleNavigation(N,"imperative",null,k,{resolve:l.resolve,reject:l.reject,promise:l.promise})},0):l.resolve(!1)}else{this.restoreHistory(l,!0);const C=new Xe(l.id,this.serializeUrl(l.extractedUrl),_);s.next(C);try{l.resolve(this.errorHandler(_))}catch(T){l.reject(T)}}return Mi.E}))}))}resetRootComponentType(r){this.rootComponentType=r,this.routerState.root.component=this.rootComponentType}getTransition(){const r=this.transitions.value;return r.urlAfterRedirects=this.browserUrlTree,r}setTransition(r){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),r))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(r=>{const s=this.extractLocationChangeInfoFromEvent(r);this.shouldScheduleNavigation(this.lastLocationChangeInfo,s)&&setTimeout(()=>{const{source:l,state:d,urlTree:g}=s,_={replaceUrl:!0};if(d){const C=Object.assign({},d);delete C.navigationId,delete C.\u0275routerPageId,0!==Object.keys(C).length&&(_.state=C)}this.scheduleNavigation(g,l,d,_)},0),this.lastLocationChangeInfo=s}))}extractLocationChangeInfoFromEvent(r){var s;return{source:"popstate"===r.type?"popstate":"hashchange",urlTree:this.parseUrl(r.url),state:(null===(s=r.state)||void 0===s?void 0:s.navigationId)?r.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(r,s){if(!r)return!0;const l=s.urlTree.toString()===r.urlTree.toString();return s.transitionId!==r.transitionId||!l||!("hashchange"===s.source&&"popstate"===r.source||"popstate"===s.source&&"hashchange"===r.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(r){this.events.next(r)}resetConfig(r){On(r),this.config=r.map(Gh),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(r,s={}){const{relativeTo:l,queryParams:d,fragment:g,queryParamsHandling:_,preserveFragment:C}=s,T=l||this.routerState.root,N=C?this.currentUrlTree.fragment:g;let k=null;switch(_){case"merge":k=Object.assign(Object.assign({},this.currentUrlTree.queryParams),d);break;case"preserve":k=this.currentUrlTree.queryParams;break;default:k=d||null}return null!==k&&(k=this.removeEmptyProps(k)),function(i,n,r,s,l){if(0===r.length)return ly(n.root,n.root,n,s,l);const d=function(i){if("string"==typeof i[0]&&1===i.length&&"/"===i[0])return new Ph(!0,0,i);let n=0,r=!1;const s=i.reduce((l,d,g)=>{if("object"==typeof d&&null!=d){if(d.outlets){const _={};return Ir(d.outlets,(C,T)=>{_[T]="string"==typeof C?C.split("/"):C}),[...l,{outlets:_}]}if(d.segmentPath)return[...l,d.segmentPath]}return"string"!=typeof d?[...l,d]:0===g?(d.split("/").forEach((_,C)=>{0==C&&"."===_||(0==C&&""===_?r=!0:".."===_?n++:""!=_&&l.push(_))}),l):[...l,d]},[]);return new Ph(r,n,s)}(r);if(d.toRoot())return ly(n.root,new Bt([],{}),n,s,l);const g=function(i,n,r){if(i.isAbsolute)return new rd(n.root,!0,0);if(-1===r.snapshot._lastPathIndex){const d=r.snapshot._urlSegment;return new rd(d,d===n.root,0)}const s=nd(i.commands[0])?0:1;return function(i,n,r){let s=i,l=n,d=r;for(;d>l;){if(d-=l,s=s.parent,!s)throw new Error("Invalid number of '../'");l=s.segments.length}return new rd(s,!1,l-d)}(r.snapshot._urlSegment,r.snapshot._lastPathIndex+s,i.numberOfDoubleDots)}(d,n,i),_=g.processChildren?Vh(g.segmentGroup,g.index,d.commands):id(g.segmentGroup,g.index,d.commands);return ly(g.segmentGroup,_,n,s,l)}(T,this.currentUrlTree,r,k,null!=N?N:null)}navigateByUrl(r,s={skipLocationChange:!1}){const l=Ws(r)?r:this.parseUrl(r),d=this.urlHandlingStrategy.merge(l,this.rawUrlTree);return this.scheduleNavigation(d,"imperative",null,s)}navigate(r,s={skipLocationChange:!1}){return function(i){for(let n=0;n<i.length;n++){const r=i[n];if(null==r)throw new Error(`The requested path contains ${r} segment at index ${n}`)}}(r),this.navigateByUrl(this.createUrlTree(r,s),s)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){let s;try{s=this.urlSerializer.parse(r)}catch(l){s=this.malformedUriErrorHandler(l,this.urlSerializer,r)}return s}isActive(r,s){let l;if(l=!0===s?Object.assign({},lS):!1===s?Object.assign({},uS):s,Ws(r))return Zc(this.currentUrlTree,r,l);const d=this.parseUrl(r);return Zc(this.currentUrlTree,d,l)}removeEmptyProps(r){return Object.keys(r).reduce((s,l)=>{const d=r[l];return null!=d&&(s[l]=d),s},{})}processNavigations(){this.navigations.subscribe(r=>{this.navigated=!0,this.lastSuccessfulId=r.id,this.currentPageId=r.targetPageId,this.events.next(new Pe(r.id,this.serializeUrl(r.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,r.resolve(!0)},r=>{this.console.warn(`Unhandled Navigation Error: ${r}`)})}scheduleNavigation(r,s,l,d,g){var _,C;if(this.disposed)return Promise.resolve(!1);const T=this.getTransition(),N=za(s)&&T&&!za(T.source),$=(this.lastSuccessfulId===T.id||this.currentNavigation?T.rawUrl:T.urlAfterRedirects).toString()===r.toString();if(N&&$)return Promise.resolve(!0);let re,Ie,Le;g?(re=g.resolve,Ie=g.reject,Le=g.promise):Le=new Promise((Nt,gt)=>{re=Nt,Ie=gt});const He=++this.navigationId;let st;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(l=this.location.getState()),st=l&&l.\u0275routerPageId?l.\u0275routerPageId:d.replaceUrl||d.skipLocationChange?null!==(_=this.browserPageId)&&void 0!==_?_:0:(null!==(C=this.browserPageId)&&void 0!==C?C:0)+1):st=0,this.setTransition({id:He,targetPageId:st,source:s,restoredState:l,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:r,extras:d,resolve:re,reject:Ie,promise:Le,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Le.catch(Nt=>Promise.reject(Nt))}setBrowserUrl(r,s){const l=this.urlSerializer.serialize(r),d=Object.assign(Object.assign({},s.extras.state),this.generateNgRouterState(s.id,s.targetPageId));this.location.isCurrentPathEqualTo(l)||s.extras.replaceUrl?this.location.replaceState(l,"",d):this.location.go(l,"",d)}restoreHistory(r,s=!1){var l,d;if("computed"===this.canceledNavigationResolution){const g=this.currentPageId-r.targetPageId;"popstate"!==r.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)||0===g?this.currentUrlTree===(null===(d=this.currentNavigation)||void 0===d?void 0:d.finalUrl)&&0===g&&(this.resetState(r),this.browserUrlTree=r.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(g)}else"replace"===this.canceledNavigationResolution&&(s&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=r.currentRouterState,this.currentUrlTree=r.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(r,s){const l=new Je(r.id,this.serializeUrl(r.extractedUrl),s);this.triggerEvent(l),r.resolve(!1)}generateNgRouterState(r,s){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:s}:{navigationId:r}}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(f.DyG),f.LFG(Th),f.LFG(qh),f.LFG($e),f.LFG(f.zs3),f.LFG(f.v3s),f.LFG(f.Sil),f.LFG(void 0))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac}),i})();function za(i){return"imperative"!==i}let Pb=(()=>{class i{constructor(r,s,l,d,g){this.parentContexts=r,this.location=s,this.resolver=l,this.changeDetector=g,this.activated=null,this._activatedRoute=null,this.activateEvents=new f.vpe,this.deactivateEvents=new f.vpe,this.name=d||Pt,r.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const r=this.parentContexts.getContext(this.name);r&&r.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,r}attach(r,s){this.activated=r,this._activatedRoute=s,this.location.insert(r.hostView)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,s){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=r;const g=(s=s||this.resolver).resolveComponentFactory(r._futureSnapshot.routeConfig.component),_=this.parentContexts.getOrCreateContext(this.name).children,C=new n0(r,_,this.location.injector);this.activated=this.location.createComponent(g,this.location.length,C),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return i.\u0275fac=function(r){return new(r||i)(f.Y36(qh),f.Y36(f.s_b),f.Y36(f._Vd),f.$8M("name"),f.Y36(f.sBO))},i.\u0275dir=f.lG2({type:i,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),i})();class n0{constructor(n,r,s){this.route=n,this.childContexts=r,this.parent=s}get(n,r){return n===Nu?this.route:n===qh?this.childContexts:this.parent.get(n,r)}}class Lb{}class Bb{preload(n,r){return(0,dt.of)(null)}}let fg=(()=>{class i{constructor(r,s,l,d,g){this.router=r,this.injector=d,this.preloadingStrategy=g,this.loader=new JC(s,l,T=>r.triggerEvent(new bo(T)),T=>r.triggerEvent(new zc(T)))}setUpPreloading(){this.subscription=this.router.events.pipe(Pr(r=>r instanceof Pe),Ji(()=>this.preload())).subscribe(()=>{})}preload(){const r=this.injector.get(f.h0i);return this.processRoutes(r,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,s){const l=[];for(const d of s)if(d.loadChildren&&!d.canLoad&&d._loadedConfig){const g=d._loadedConfig;l.push(this.processRoutes(g.module,g.routes))}else d.loadChildren&&!d.canLoad?l.push(this.preloadConfig(r,d)):d.children&&l.push(this.processRoutes(r,d.children));return(0,vn.D)(l).pipe((0,Qi.J)(),(0,bt.U)(d=>{}))}preloadConfig(r,s){return this.preloadingStrategy.preload(s,()=>(s._loadedConfig?(0,dt.of)(s._loadedConfig):this.loader.load(r.injector,s)).pipe((0,qn.zg)(d=>(s._loadedConfig=d,this.processRoutes(d.module,d.routes)))))}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(rs),f.LFG(f.v3s),f.LFG(f.Sil),f.LFG(f.zs3),f.LFG(Lb))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac}),i})(),Yh=(()=>{class i{constructor(r,s,l={}){this.router=r,this.viewportScroller=s,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(r=>{r instanceof we?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Pe&&(this.lastId=r.id,this.scheduleScrollEvent(r,this.router.parseUrl(r.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(r=>{r instanceof xh&&(r.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(r.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,s){this.router.triggerEvent(new xh(r,"popstate"===this.lastSource?this.store[this.restoredId]:null,s))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(rs),f.LFG(Bo),f.LFG(void 0))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac}),i})();const $l=new f.OlP("ROUTER_CONFIGURATION"),Ub=new f.OlP("ROUTER_FORROOT_GUARD"),pg=[$e,{provide:Th,useClass:Yp},{provide:rs,useFactory:function(i,n,r,s,l,d,g,_={},C,T){const N=new rs(null,i,n,r,s,l,d,ja(g));return C&&(N.urlHandlingStrategy=C),T&&(N.routeReuseStrategy=T),function(i,n){i.errorHandler&&(n.errorHandler=i.errorHandler),i.malformedUriErrorHandler&&(n.malformedUriErrorHandler=i.malformedUriErrorHandler),i.onSameUrlNavigation&&(n.onSameUrlNavigation=i.onSameUrlNavigation),i.paramsInheritanceStrategy&&(n.paramsInheritanceStrategy=i.paramsInheritanceStrategy),i.relativeLinkResolution&&(n.relativeLinkResolution=i.relativeLinkResolution),i.urlUpdateStrategy&&(n.urlUpdateStrategy=i.urlUpdateStrategy)}(_,N),_.enableTracing&&N.events.subscribe(k=>{var z,$;null===(z=console.group)||void 0===z||z.call(console,`Router Event: ${k.constructor.name}`),console.log(k.toString()),console.log(k),null===($=console.groupEnd)||void 0===$||$.call(console)}),N},deps:[Th,qh,$e,f.zs3,f.v3s,f.Sil,kb,$l,[class{},new f.FiY],[class{},new f.FiY]]},qh,{provide:Nu,useFactory:function(i){return i.routerState.root},deps:[rs]},{provide:f.v3s,useClass:f.EAV},fg,Bb,class{preload(n,r){return r().pipe(mo(()=>(0,dt.of)(null)))}},{provide:$l,useValue:{enableTracing:!1}}];function hS(){return new f.PXZ("Router",rs)}let Gb=(()=>{class i{constructor(r,s){}static forRoot(r,s){return{ngModule:i,providers:[pg,xy(r),{provide:Ub,useFactory:r0,deps:[[rs,new f.FiY,new f.tp0]]},{provide:$l,useValue:s||{}},{provide:Q,useFactory:pS,deps:[ve,[new f.tBr(xe),new f.FiY],$l]},{provide:Yh,useFactory:fS,deps:[rs,Bo,$l]},{provide:Lb,useExisting:s&&s.preloadingStrategy?s.preloadingStrategy:Bb},{provide:f.PXZ,multi:!0,useFactory:hS},[Hb,{provide:f.ip1,multi:!0,useFactory:a0,deps:[Hb]},{provide:l0,useFactory:gS,deps:[Hb]},{provide:f.tb,multi:!0,useExisting:l0}]]}}static forChild(r){return{ngModule:i,providers:[xy(r)]}}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(Ub,8),f.LFG(rs,8))},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({}),i})();function fS(i,n,r){return r.scrollOffset&&n.setOffset(r.scrollOffset),new Yh(i,n,r)}function pS(i,n,r={}){return r.useHash?new Oe(i,n):new ye(i,n)}function r0(i){return"guarded"}function xy(i){return[{provide:f.deG,multi:!0,useValue:i},{provide:kb,multi:!0,useValue:i}]}let Hb=(()=>{class i{constructor(r){this.injector=r,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Pn.xQ}appInitializer(){return this.injector.get(U,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let s=null;const l=new Promise(_=>s=_),d=this.injector.get(rs),g=this.injector.get($l);return"disabled"===g.initialNavigation?(d.setUpLocationChangeListener(),s(!0)):"enabled"===g.initialNavigation||"enabledBlocking"===g.initialNavigation?(d.hooks.afterPreactivation=()=>this.initNavigation?(0,dt.of)(null):(this.initNavigation=!0,s(!0),this.resultOfPreactivationDone),d.initialNavigation()):s(!0),l})}bootstrapListener(r){const s=this.injector.get($l),l=this.injector.get(fg),d=this.injector.get(Yh),g=this.injector.get(rs),_=this.injector.get(f.z2F);r===_.components[0]&&(("enabledNonBlocking"===s.initialNavigation||void 0===s.initialNavigation)&&g.initialNavigation(),l.setUpPreloading(),d.init(),g.resetRootComponentType(_.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(f.zs3))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac}),i})();function a0(i){return i.appInitializer.bind(i)}function gS(i){return i.bootstrapListener.bind(i)}const l0=new f.OlP("Router Initializer"),u0=[];let mS=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({imports:[[Gb.forRoot(u0)],Gb]}),i})();var yS=B(1555);function Sy(i,n){return new pr.y(r=>{const s=i.length;if(0===s)return void r.complete();const l=new Array(s);let d=0,g=0;for(let _=0;_<s;_++){const C=(0,vn.D)(i[_]);let T=!1;r.add(C.subscribe({next:N=>{T||(T=!0,g++),l[_]=N},error:N=>r.error(N),complete:()=>{d++,(d===s||!T)&&(g===s&&r.next(n?n.reduce((N,k,z)=>(N[k]=l[z],N),{}):l),r.complete())}}))}})}let $b=(()=>{class i{constructor(r,s){this._renderer=r,this._elementRef=s,this.onChange=l=>{},this.onTouched=()=>{}}setProperty(r,s){this._renderer.setProperty(this._elementRef.nativeElement,r,s)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return i.\u0275fac=function(r){return new(r||i)(f.Y36(f.Qsj),f.Y36(f.SBq))},i.\u0275dir=f.lG2({type:i}),i})(),ld=(()=>{class i extends $b{}return i.\u0275fac=function(){let n;return function(s){return(n||(n=f.n5z(i)))(s||i)}}(),i.\u0275dir=f.lG2({type:i,features:[f.qOj]}),i})();const qa=new f.OlP("NgValueAccessor"),vS={provide:qa,useExisting:(0,f.Gpc)(()=>It),multi:!0};let It=(()=>{class i extends ld{writeValue(r){this.setProperty("checked",r)}}return i.\u0275fac=function(){let n;return function(s){return(n||(n=f.n5z(i)))(s||i)}}(),i.\u0275dir=f.lG2({type:i,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,s){1&r&&f.NdJ("change",function(d){return s.onChange(d.target.checked)})("blur",function(){return s.onTouched()})},features:[f._Bn([vS]),f.qOj]}),i})();const c0={provide:qa,useExisting:(0,f.Gpc)(()=>As),multi:!0},Ty=new f.OlP("CompositionEventMode");let As=(()=>{class i extends $b{constructor(r,s,l){super(r,s),this._compositionMode=l,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const i=j()?j().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}())}writeValue(r){this.setProperty("value",null==r?"":r)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return i.\u0275fac=function(r){return new(r||i)(f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(Ty,8))},i.\u0275dir=f.lG2({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,s){1&r&&f.NdJ("input",function(d){return s._handleInput(d.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(d){return s._compositionEnd(d.target.value)})},features:[f._Bn([c0]),f.qOj]}),i})();const Kr=new f.OlP("NgValidators"),Fi=new f.OlP("NgAsyncValidators");function f0(i){return null!=i}function Kb(i){const n=(0,f.QGY)(i)?(0,vn.D)(i):i;return(0,f.CqO)(n),n}function CS(i){let n={};return i.forEach(r=>{n=null!=r?Object.assign(Object.assign({},n),r):n}),0===Object.keys(n).length?null:n}function p0(i,n){return n.map(r=>r(i))}function Yb(i){return i.map(n=>function(i){return!i.validate}(n)?n:r=>n.validate(r))}function Wb(i){return null!=i?function(i){if(!i)return null;const n=i.filter(f0);return 0==n.length?null:function(r){return CS(p0(r,n))}}(Yb(i)):null}function g0(i){return null!=i?function(i){if(!i)return null;const n=i.filter(f0);return 0==n.length?null:function(r){return function(...i){if(1===i.length){const n=i[0];if((0,$s.k)(n))return Sy(n,null);if((0,yS.K)(n)&&Object.getPrototypeOf(n)===Object.prototype){const r=Object.keys(n);return Sy(r.map(s=>n[s]),r)}}if("function"==typeof i[i.length-1]){const n=i.pop();return Sy(i=1===i.length&&(0,$s.k)(i[0])?i[0]:i,null).pipe((0,bt.U)(r=>n(...r)))}return Sy(i,null)}(p0(r,n).map(Kb)).pipe((0,bt.U)(CS))}}(Yb(i)):null}function DS(i,n){return null===i?[n]:Array.isArray(i)?[...i,n]:[i,n]}function AS(i){return i._rawValidators}function IS(i){return i._rawAsyncValidators}function m0(i){return i?Array.isArray(i)?i:[i]:[]}function Qb(i,n){return Array.isArray(i)?i.includes(n):i===n}function xS(i,n){const r=m0(n);return m0(i).forEach(l=>{Qb(r,l)||r.push(l)}),r}function SS(i,n){return m0(n).filter(r=>!Qb(i,r))}let TS=(()=>{class i{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(r){this._rawValidators=r||[],this._composedValidatorFn=Wb(this._rawValidators)}_setAsyncValidators(r){this._rawAsyncValidators=r||[],this._composedAsyncValidatorFn=g0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(r){this._onDestroyCallbacks.push(r)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(r=>r()),this._onDestroyCallbacks=[]}reset(r){this.control&&this.control.reset(r)}hasError(r,s){return!!this.control&&this.control.hasError(r,s)}getError(r,s){return this.control?this.control.getError(r,s):null}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=f.lG2({type:i}),i})(),Is=(()=>{class i extends TS{get formDirective(){return null}get path(){return null}}return i.\u0275fac=function(){let n;return function(s){return(n||(n=f.n5z(i)))(s||i)}}(),i.\u0275dir=f.lG2({type:i,features:[f.qOj]}),i})();class cd extends TS{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ql{constructor(n){this._cd=n}is(n){var r,s,l;return"submitted"===n?!!(null===(r=this._cd)||void 0===r?void 0:r.submitted):!!(null===(l=null===(s=this._cd)||void 0===s?void 0:s.control)||void 0===l?void 0:l[n])}}let Jb=(()=>{class i extends ql{constructor(r){super(r)}}return i.\u0275fac=function(r){return new(r||i)(f.Y36(cd,2))},i.\u0275dir=f.lG2({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,s){2&r&&f.ekj("ng-untouched",s.is("untouched"))("ng-touched",s.is("touched"))("ng-pristine",s.is("pristine"))("ng-dirty",s.is("dirty"))("ng-valid",s.is("valid"))("ng-invalid",s.is("invalid"))("ng-pending",s.is("pending"))},features:[f.qOj]}),i})(),Ny=(()=>{class i extends ql{constructor(r){super(r)}}return i.\u0275fac=function(r){return new(r||i)(f.Y36(Is,10))},i.\u0275dir=f.lG2({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,s){2&r&&f.ekj("ng-untouched",s.is("untouched"))("ng-touched",s.is("touched"))("ng-pristine",s.is("pristine"))("ng-dirty",s.is("dirty"))("ng-valid",s.is("valid"))("ng-invalid",s.is("invalid"))("ng-pending",s.is("pending"))("ng-submitted",s.is("submitted"))},features:[f.qOj]}),i})();function Gu(i,n){return[...n.path,i]}function Za(i,n){Hu(i,n),n.valueAccessor.writeValue(i.value),function(i,n){n.valueAccessor.registerOnChange(r=>{i._pendingValue=r,i._pendingChange=!0,i._pendingDirty=!0,"change"===i.updateOn&&Py(i,n)})}(i,n),function(i,n){const r=(s,l)=>{n.valueAccessor.writeValue(s),l&&n.viewToModelUpdate(s)};i.registerOnChange(r),n._registerOnDestroy(()=>{i._unregisterOnChange(r)})}(i,n),function(i,n){n.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,"blur"===i.updateOn&&i._pendingChange&&Py(i,n),"submit"!==i.updateOn&&i.markAsTouched()})}(i,n),function(i,n){if(n.valueAccessor.setDisabledState){const r=s=>{n.valueAccessor.setDisabledState(s)};i.registerOnDisabledChange(r),n._registerOnDestroy(()=>{i._unregisterOnDisabledChange(r)})}}(i,n)}function Wh(i,n,r=!0){const s=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(s),n.valueAccessor.registerOnTouched(s)),Fy(i,n),i&&(n._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function Kl(i,n){i.forEach(r=>{r.registerOnValidatorChange&&r.registerOnValidatorChange(n)})}function Hu(i,n){const r=AS(i);null!==n.validator?i.setValidators(DS(r,n.validator)):"function"==typeof r&&i.setValidators([r]);const s=IS(i);null!==n.asyncValidator?i.setAsyncValidators(DS(s,n.asyncValidator)):"function"==typeof s&&i.setAsyncValidators([s]);const l=()=>i.updateValueAndValidity();Kl(n._rawValidators,l),Kl(n._rawAsyncValidators,l)}function Fy(i,n){let r=!1;if(null!==i){if(null!==n.validator){const l=AS(i);if(Array.isArray(l)&&l.length>0){const d=l.filter(g=>g!==n.validator);d.length!==l.length&&(r=!0,i.setValidators(d))}}if(null!==n.asyncValidator){const l=IS(i);if(Array.isArray(l)&&l.length>0){const d=l.filter(g=>g!==n.asyncValidator);d.length!==l.length&&(r=!0,i.setAsyncValidators(d))}}}const s=()=>{};return Kl(n._rawValidators,s),Kl(n._rawAsyncValidators,s),r}function Py(i,n){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function ew(i,n){Hu(i,n)}function C0(i,n){if(!i.hasOwnProperty("model"))return!1;const r=i.model;return!!r.isFirstChange()||!Object.is(n,r.currentValue)}function tw(i,n){i._syncPendingControls(),n.forEach(r=>{const s=r.control;"submit"===s.updateOn&&s._pendingChange&&(r.viewToModelUpdate(s._pendingValue),s._pendingChange=!1)})}function nw(i,n){if(!n)return null;let r,s,l;return Array.isArray(n),n.forEach(d=>{d.constructor===As?r=d:function(i){return Object.getPrototypeOf(i.constructor)===ld}(d)?s=d:l=d}),l||s||r||null}function _g(i,n){const r=i.indexOf(n);r>-1&&i.splice(r,1)}const vg="VALID",Pi="INVALID",Qh="PENDING",bg="DISABLED";function A0(i){return(wg(i)?i.validators:i)||null}function rw(i){return Array.isArray(i)?Wb(i):i||null}function I0(i,n){return(wg(n)?n.asyncValidators:i)||null}function x0(i){return Array.isArray(i)?g0(i):i||null}function wg(i){return null!=i&&!Array.isArray(i)&&"object"==typeof i}class Vy{constructor(n,r){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=n,this._rawAsyncValidators=r,this._composedValidatorFn=rw(this._rawValidators),this._composedAsyncValidatorFn=x0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===vg}get invalid(){return this.status===Pi}get pending(){return this.status==Qh}get disabled(){return this.status===bg}get enabled(){return this.status!==bg}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._rawValidators=n,this._composedValidatorFn=rw(n)}setAsyncValidators(n){this._rawAsyncValidators=n,this._composedAsyncValidatorFn=x0(n)}addValidators(n){this.setValidators(xS(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(xS(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(SS(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(SS(n,this._rawAsyncValidators))}hasValidator(n){return Qb(this._rawValidators,n)}hasAsyncValidator(n){return Qb(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(r=>{r.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=Qh,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const r=this._parentMarkedDirty(n.onlySelf);this.status=bg,this.errors=null,this._forEachChild(s=>{s.disable(Object.assign(Object.assign({},n),{onlySelf:!0}))}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},n),{skipPristineCheck:r})),this._onDisabledChange.forEach(s=>s(!0))}enable(n={}){const r=this._parentMarkedDirty(n.onlySelf);this.status=vg,this._forEachChild(s=>{s.enable(Object.assign(Object.assign({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},n),{skipPristineCheck:r})),this._onDisabledChange.forEach(s=>s(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===vg||this.status===Qh)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(r=>r._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?bg:vg}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=Qh,this._hasOwnPendingAsyncValidator=!0;const r=Kb(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(s=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(s,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,r={}){this.errors=n,this._updateControlsErrors(!1!==r.emitEvent)}get(n){return function(i,n,r){if(null==n||(Array.isArray(n)||(n=n.split(".")),Array.isArray(n)&&0===n.length))return null;let s=i;return n.forEach(l=>{s=s instanceof By?s.controls.hasOwnProperty(l)?s.controls[l]:null:s instanceof NS&&s.at(l)||null}),s}(this,n)}getError(n,r){const s=r?this.get(r):this;return s&&s.errors?s.errors[n]:null}hasError(n,r){return!!this.getError(n,r)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new f.vpe,this.statusChanges=new f.vpe}_calculateStatus(){return this._allControlsDisabled()?bg:this.errors?Pi:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Qh)?Qh:this._anyControlsHaveStatus(Pi)?Pi:vg}_anyControlsHaveStatus(n){return this._anyControls(r=>r.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_isBoxedValue(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){wg(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Jh extends Vy{constructor(n=null,r,s){super(A0(r),I0(s,r)),this._onChange=[],this._applyFormState(n),this._setUpdateStrategy(r),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(n,r={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==r.emitModelToViewChange&&this._onChange.forEach(s=>s(this.value,!1!==r.emitViewToModelChange)),this.updateValueAndValidity(r)}patchValue(n,r={}){this.setValue(n,r)}reset(n=null,r={}){this._applyFormState(n),this.markAsPristine(r),this.markAsUntouched(r),this.setValue(this.value,r),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){_g(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){_g(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){this._isBoxedValue(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}}class By extends Vy{constructor(n,r,s){super(A0(r),I0(s,r)),this.controls=n,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,r){return this.controls[n]?this.controls[n]:(this.controls[n]=r,r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange),r)}addControl(n,r,s={}){this.registerControl(n,r),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}removeControl(n,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}setControl(n,r,s={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],r&&this.registerControl(n,r),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,r={}){this._checkAllValuesPresent(n),Object.keys(n).forEach(s=>{this._throwIfControlMissing(s),this.controls[s].setValue(n[s],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(n,r={}){null!=n&&(Object.keys(n).forEach(s=>{this.controls[s]&&this.controls[s].patchValue(n[s],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(n={},r={}){this._forEachChild((s,l)=>{s.reset(n[l],{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r),this._updateTouched(r),this.updateValueAndValidity(r)}getRawValue(){return this._reduceChildren({},(n,r,s)=>(n[s]=r instanceof Jh?r.value:r.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(r,s)=>!!s._syncPendingControls()||r);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_throwIfControlMissing(n){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[n])throw new Error(`Cannot find form control with name: ${n}.`)}_forEachChild(n){Object.keys(this.controls).forEach(r=>{const s=this.controls[r];s&&n(s,r)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const r of Object.keys(this.controls)){const s=this.controls[r];if(this.contains(r)&&n(s))return!0}return!1}_reduceValue(){return this._reduceChildren({},(n,r,s)=>((r.enabled||this.disabled)&&(n[s]=r.value),n))}_reduceChildren(n,r){let s=n;return this._forEachChild((l,d)=>{s=r(s,l,d)}),s}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(n){this._forEachChild((r,s)=>{if(void 0===n[s])throw new Error(`Must supply a value for form control with name: '${s}'.`)})}}class NS extends Vy{constructor(n,r,s){super(A0(r),I0(s,r)),this.controls=n,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[n]}push(n,r={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}insert(n,r,s={}){this.controls.splice(n,0,r),this._registerControl(r),this.updateValueAndValidity({emitEvent:s.emitEvent})}removeAt(n,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:r.emitEvent})}setControl(n,r,s={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),r&&(this.controls.splice(n,0,r),this._registerControl(r)),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,r={}){this._checkAllValuesPresent(n),n.forEach((s,l)=>{this._throwIfControlMissing(l),this.at(l).setValue(s,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(n,r={}){null!=n&&(n.forEach((s,l)=>{this.at(l)&&this.at(l).patchValue(s,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(n=[],r={}){this._forEachChild((s,l)=>{s.reset(n[l],{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r),this._updateTouched(r),this.updateValueAndValidity(r)}getRawValue(){return this.controls.map(n=>n instanceof Jh?n.value:n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(r=>r._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_syncPendingControls(){let n=this.controls.reduce((r,s)=>!!s._syncPendingControls()||r,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_throwIfControlMissing(n){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(n))throw new Error(`Cannot find form control at index ${n}`)}_forEachChild(n){this.controls.forEach((r,s)=>{n(r,s)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(r=>r.enabled&&n(r))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_checkAllValuesPresent(n){this._forEachChild((r,s)=>{if(void 0===n[s])throw new Error(`Must supply a value for form control at index: ${s}.`)})}_allControlsDisabled(){for(const n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}}const S0={provide:Is,useExisting:(0,f.Gpc)(()=>Uy)},Xh=(()=>Promise.resolve(null))();let Uy=(()=>{class i extends Is{constructor(r,s){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new f.vpe,this.form=new By({},Wb(r),g0(s))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){Xh.then(()=>{const s=this._findContainer(r.path);r.control=s.registerControl(r.name,r.control),Za(r.control,r),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){Xh.then(()=>{const s=this._findContainer(r.path);s&&s.removeControl(r.name),_g(this._directives,r)})}addFormGroup(r){Xh.then(()=>{const s=this._findContainer(r.path),l=new By({});ew(l,r),s.registerControl(r.name,l),l.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){Xh.then(()=>{const s=this._findContainer(r.path);s&&s.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,s){Xh.then(()=>{this.form.get(r.path).setValue(s)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,tw(this.form,this._directives),this.ngSubmit.emit(r),!1}onReset(){this.resetForm()}resetForm(r){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}}return i.\u0275fac=function(r){return new(r||i)(f.Y36(Kr,10),f.Y36(Fi,10))},i.\u0275dir=f.lG2({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,s){1&r&&f.NdJ("submit",function(d){return s.onSubmit(d)})("reset",function(){return s.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([S0]),f.qOj]}),i})();const PS={provide:cd,useExisting:(0,f.Gpc)(()=>ow)},sw=(()=>Promise.resolve(null))();let ow=(()=>{class i extends cd{constructor(r,s,l,d){super(),this.control=new Jh,this._registered=!1,this.update=new f.vpe,this._parent=r,this._setValidators(s),this._setAsyncValidators(l),this.valueAccessor=nw(0,d)}ngOnChanges(r){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in r&&this._updateDisabled(r),C0(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?Gu(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Za(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(r){sw.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1})})}_updateDisabled(r){const s=r.isDisabled.currentValue,l=""===s||s&&"false"!==s;sw.then(()=>{l&&!this.control.disabled?this.control.disable():!l&&this.control.disabled&&this.control.enable()})}}return i.\u0275fac=function(r){return new(r||i)(f.Y36(Is,9),f.Y36(Kr,10),f.Y36(Fi,10),f.Y36(qa,10))},i.\u0275dir=f.lG2({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[f._Bn([PS]),f.qOj,f.TTD]}),i})(),R0=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=f.lG2({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),i})(),Eg=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({}),i})();const Hy=new f.OlP("NgModelWithFormControlWarning"),uw={provide:Is,useExisting:(0,f.Gpc)(()=>cw)};let cw=(()=>{class i extends Is{constructor(r,s){super(),this.validators=r,this.asyncValidators=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new f.vpe,this._setValidators(r),this._setAsyncValidators(s)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Fy(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){const s=this.form.get(r.path);return Za(s,r),s.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),s}getControl(r){return this.form.get(r.path)}removeControl(r){Wh(r.control||null,r,!1),_g(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,s){this.form.get(r.path).setValue(s)}onSubmit(r){return this.submitted=!0,tw(this.form,this.directives),this.ngSubmit.emit(r),!1}onReset(){this.resetForm()}resetForm(r){this.form.reset(r),this.submitted=!1}_updateDomValue(){this.directives.forEach(r=>{const s=r.control,l=this.form.get(r.path);s!==l&&(Wh(s||null,r),l instanceof Jh&&(Za(l,r),r.control=l))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){const s=this.form.get(r.path);ew(s,r),s.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){const s=this.form.get(r.path);s&&function(i,n){return Fy(i,n)}(s,r)&&s.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Hu(this.form,this),this._oldForm&&Fy(this._oldForm,this)}_checkFormPresent(){}}return i.\u0275fac=function(r){return new(r||i)(f.Y36(Kr,10),f.Y36(Fi,10))},i.\u0275dir=f.lG2({type:i,selectors:[["","formGroup",""]],hostBindings:function(r,s){1&r&&f.NdJ("submit",function(d){return s.onSubmit(d)})("reset",function(){return s.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([uw]),f.qOj,f.TTD]}),i})();const F0={provide:cd,useExisting:(0,f.Gpc)(()=>ra)};let ra=(()=>{class i extends cd{constructor(r,s,l,d,g){super(),this._ngModelWarningConfig=g,this._added=!1,this.update=new f.vpe,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(s),this._setAsyncValidators(l),this.valueAccessor=nw(0,d)}set isDisabled(r){}ngOnChanges(r){this._added||this._setUpControl(),C0(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return Gu(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return i.\u0275fac=function(r){return new(r||i)(f.Y36(Is,13),f.Y36(Kr,10),f.Y36(Fi,10),f.Y36(qa,10),f.Y36(Hy,8))},i.\u0275dir=f.lG2({type:i,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[f._Bn([F0]),f.qOj,f.TTD]}),i._ngModelWarningSentOnce=!1,i})(),YS=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({imports:[[Eg]]}),i})(),Zl=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({imports:[YS]}),i})(),fw=(()=>{class i{static withConfig(r){return{ngModule:i,providers:[{provide:Hy,useValue:r.warnOnNgModelWithFormControl}]}}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({imports:[YS]}),i})();var rf=(()=>{return(i=rf||(rf={}))[i.Fish=1]="Fish",i[i.Crystal=2]="Crystal",i[i.Eyes=3]="Eyes",i[i.Melting=4]="Melting",i[i.Plant=5]="Plant",i[i["Y.V."]=6]="Y.V.",i[i.Steroids=7]="Steroids",i[i.Robot=8]="Robot",i[i.Chicken=9]="Chicken",i[i.Rebel=10]="Rebel",i[i.Horror=11]="Horror",i[i.Rogue=12]="Rogue",i[i.Skeleton=14]="Skeleton",i[i.Frog=15]="Frog",rf;var i})(),Ag=(()=>{return(i=Ag||(Ag={}))[i.Nothing=-1]="Nothing",i[i.Bandit=0]="Bandit",i[i.Maggot=1]="Maggot",i[i["Rad Maggot"]=2]="Rad Maggot",i[i["Big Maggot"]=3]="Big Maggot",i[i.Scorpion=4]="Scorpion",i[i["Gold Scorpion"]=5]="Gold Scorpion",i[i["Big Bandit"]=6]="Big Bandit",i[i.Rat=7]="Rat",i[i["Rat King"]=8]="Rat King",i[i["Green Rat"]=9]="Green Rat",i[i.Gator=10]="Gator",i[i.Exploder=11]="Exploder",i[i["Toxic Frog"]=12]="Toxic Frog",i[i.Mom=13]="Mom",i[i.Assassin=14]="Assassin",i[i.Raven=15]="Raven",i[i.Salamander=16]="Salamander",i[i.Sniper=17]="Sniper",i[i["Big Dog"]=18]="Big Dog",i[i.Spider=19]="Spider",i[i["(Not in game)"]=20]="(Not in game)",i[i["Laser Crystal"]=21]="Laser Crystal",i[i["Hyper Crystal"]=22]="Hyper Crystal",i[i["Snow Bandit"]=23]="Snow Bandit",i[i.Snowbot=24]="Snowbot",i[i.Wolf=25]="Wolf",i[i.Snowtank=26]="Snowtank",i[i["Lil Hunter"]=27]="Lil Hunter",i[i.Freak=28]="Freak",i[i["Explo Freak"]=29]="Explo Freak",i[i["Rhino Freak"]=30]="Rhino Freak",i[i.Necromancer=31]="Necromancer",i[i.Turret=32]="Turret",i[i.Technomancer=33]="Technomancer",i[i.Guardian=34]="Guardian",i[i["Explo Guardian"]=35]="Explo Guardian",i[i["Dog Guardian"]=36]="Dog Guardian",i[i.Throne=37]="Throne",i[i["Throne II"]=38]="Throne II",i[i["Bone Fish"]=39]="Bone Fish",i[i.Crab=40]="Crab",i[i.Turtle=41]="Turtle",i[i["Venus Grunt"]=42]="Venus Grunt",i[i["Venus Sarge"]=43]="Venus Sarge",i[i.Fireballer=44]="Fireballer",i[i["Super Fireballer"]=45]="Super Fireballer",i[i.Jock=46]="Jock",i[i["Cursed Spider"]=47]="Cursed Spider",i[i["Cursed Crystal"]=48]="Cursed Crystal",i[i.Mimic=49]="Mimic",i[i["Health Mimic"]=50]="Health Mimic",i[i.Grunt=51]="Grunt",i[i.Inspector=52]="Inspector",i[i.Shielder=53]="Shielder",i[i["Crown Guardian"]=54]="Crown Guardian",i[i.Explosion=55]="Explosion",i[i["Small Explosion"]=56]="Small Explosion",i[i["Fire Trap"]=57]="Fire Trap",i[i.Shield=58]="Shield",i[i.Toxin=59]="Toxin",i[i.Horror=60]="Horror",i[i.Barrel=61]="Barrel",i[i["Toxic Barrel"]=62]="Toxic Barrel",i[i["Golden Barrel"]=63]="Golden Barrel",i[i.Car=64]="Car",i[i["Venus Car"]=65]="Venus Car",i[i["Venus Car Fixed"]=66]="Venus Car Fixed",i[i["Venuz Car 2"]=67]="Venuz Car 2",i[i["Icy Car"]=68]="Icy Car",i[i["Thrown Car"]=69]="Thrown Car",i[i.Mine=70]="Mine",i[i["Crown of Death"]=71]="Crown of Death",i[i["Rogue Strike"]=72]="Rogue Strike",i[i["Blood Launcher"]=73]="Blood Launcher",i[i["Blood Cannon"]=74]="Blood Cannon",i[i["Blood Hammer"]=75]="Blood Hammer",i[i.Disc=76]="Disc",i[i["Curse Eat"]=77]="Curse Eat",i[i["Big Dog Missile"]=78]="Big Dog Missile",i[i["Halloween Bandit"]=79]="Halloween Bandit",i[i["Lil Hunter Fly"]=80]="Lil Hunter Fly",i[i["Throne Death"]=81]="Throne Death",i[i["Jungle Bandit"]=82]="Jungle Bandit",i[i["Jungle Assassin"]=83]="Jungle Assassin",i[i["Jungle Fly"]=84]="Jungle Fly",i[i["Crown of Hatred"]=85]="Crown of Hatred",i[i["Ice Flower"]=86]="Ice Flower",i[i["Cursed Ammo Pickup"]=87]="Cursed Ammo Pickup",i[i["Underwater Lightning"]=88]="Underwater Lightning",i[i["Elite Grunt"]=89]="Elite Grunt",i[i["Blood Gamble"]=90]="Blood Gamble",i[i["Elite Shielder"]=91]="Elite Shielder",i[i["Elite Inspector"]=92]="Elite Inspector",i[i.Captain=93]="Captain",i[i.Van=94]="Van",i[i["Buff Gator"]=95]="Buff Gator",i[i.Generator=96]="Generator",i[i["Lightning Crystal"]=97]="Lightning Crystal",i[i["Golden Snowtank"]=98]="Golden Snowtank",i[i["Green Explosion"]=99]="Green Explosion",i[i["Small Generator"]=100]="Small Generator",i[i["Golden Disc"]=101]="Golden Disc",i[i["Big Dog Explosion"]=102]="Big Dog Explosion",i[i["IDPD Freak"]=103]="IDPD Freak",i[i["Throne II Death"]=104]="Throne II Death",i[i["(Not in game 2)"]=105]="(Not in game 2)",Ag;var i})(),Ig=(()=>{return(i=Ig||(Ig={}))[i["Crown Vault"]=100]="Crown Vault",i[i.Desert=1]="Desert",i[i.Oasis=101]="Oasis",i[i.Sewers=2]="Sewers",i[i["Pizza Sewers"]=102]="Pizza Sewers",i[i.Scrapyard=3]="Scrapyard",i[i["Y.V's Mansion"]=103]="Y.V's Mansion",i[i["Crystal Caves"]=4]="Crystal Caves",i[i["Cursed Crystal Caves"]=104]="Cursed Crystal Caves",i[i["Frozen City"]=5]="Frozen City",i[i.Jungle=105]="Jungle",i[i.Labs=6]="Labs",i[i["The Palace"]=7]="The Palace",i[i.Campfire=0]="Campfire",i[i["Y.V's Crib"]=107]="Y.V's Crib",i[i["I.D.P.D. Headquarters"]=106]="I.D.P.D. Headquarters",Ig;var i})(),Zy=(()=>{return(i=Zy||(Zy={}))[i["Crown Vault"]=100]="Crown Vault",i[i.Desert=1]="Desert",i[i.Oasis=101]="Oasis",i[i.Sewers=2]="Sewers",i[i["Pizza Sewers"]=102]="Pizza Sewers",i[i.Scrapyard=3]="Scrapyard",i[i["YVs Mansion"]=103]="YVs Mansion",i[i["Crystal Caves"]=4]="Crystal Caves",i[i["Cursed Crystal Caves"]=104]="Cursed Crystal Caves",i[i["Frozen City"]=5]="Frozen City",i[i.Jungle=105]="Jungle",i[i.Labs=6]="Labs",i[i["The Palace"]=7]="The Palace",i[i.Campfire=0]="Campfire",i[i["YVs Crib"]=107]="YVs Crib",i[i["IDPD Headquarters"]=106]="IDPD Headquarters",Zy;var i})(),Wy=(()=>{return(i=Wy||(Wy={}))[i["No Crown"]=1]="No Crown",i[i["Crown of Death"]=2]="Crown of Death",i[i["Crown of Life"]=3]="Crown of Life",i[i["Crown of Haste"]=4]="Crown of Haste",i[i["Crown of Guns"]=5]="Crown of Guns",i[i["Crown of Hatred"]=6]="Crown of Hatred",i[i["Crown of Blood"]=7]="Crown of Blood",i[i["Crown of Destiny"]=8]="Crown of Destiny",i[i["Crown of Love"]=9]="Crown of Love",i[i["Crown of Luck"]=10]="Crown of Luck",i[i["Crown of Curses"]=11]="Crown of Curses",i[i["Crown of Risk"]=12]="Crown of Risk",i[i["Crown of Protection"]=13]="Crown of Protection",Wy;var i})(),Wl=(()=>{return(i=Wl||(Wl={}))[i.Nothing=0]="Nothing",i[i.Revolver=1]="Revolver",i[i["Triple Machinegun"]=2]="Triple Machinegun",i[i.Wrench=3]="Wrench",i[i.Machinegun=4]="Machinegun",i[i.Shotgun=5]="Shotgun",i[i.Crossbow=6]="Crossbow",i[i["Grenade Launcher"]=7]="Grenade Launcher",i[i["Double Shotgun"]=8]="Double Shotgun",i[i.Minigun=9]="Minigun",i[i["Auto Shotgun"]=10]="Auto Shotgun",i[i["Auto Crossbow"]=11]="Auto Crossbow",i[i["Super Crossbow"]=12]="Super Crossbow",i[i.Shovel=13]="Shovel",i[i.Bazooka=14]="Bazooka",i[i["Sticky Launcher"]=15]="Sticky Launcher",i[i.SMG=16]="SMG",i[i["Assault Rifle"]=17]="Assault Rifle",i[i["Disc Gun"]=18]="Disc Gun",i[i["Laser Pistol"]=19]="Laser Pistol",i[i["Laser Rifle"]=20]="Laser Rifle",i[i.Slugger=21]="Slugger",i[i["Gatling Slugger"]=22]="Gatling Slugger",i[i["Assault Slugger"]=23]="Assault Slugger",i[i["Energy Sword"]=24]="Energy Sword",i[i["Super Slugger"]=25]="Super Slugger",i[i["Hyper Rifle"]=26]="Hyper Rifle",i[i.Screwdriver=27]="Screwdriver",i[i["Laser Minigun"]=28]="Laser Minigun",i[i["Blood Launcher"]=29]="Blood Launcher",i[i["Splinter Gun"]=30]="Splinter Gun",i[i["Toxic Bow"]=31]="Toxic Bow",i[i["Sentry Gun"]=32]="Sentry Gun",i[i["Wave Gun"]=33]="Wave Gun",i[i["Plasma Gun"]=34]="Plasma Gun",i[i["Plasma Cannon"]=35]="Plasma Cannon",i[i["Energy Hammer"]=36]="Energy Hammer",i[i.Jackhammer=37]="Jackhammer",i[i["Flak Cannon"]=38]="Flak Cannon",i[i["Golden Revolver"]=39]="Golden Revolver",i[i["Golden Wrench"]=40]="Golden Wrench",i[i["Golden Machinegun"]=41]="Golden Machinegun",i[i["Golden Shotgun"]=42]="Golden Shotgun",i[i["Golden Crossbow"]=43]="Golden Crossbow",i[i["Golden Grenade Launcher"]=44]="Golden Grenade Launcher",i[i["Golden Laser Pistol"]=45]="Golden Laser Pistol",i[i["Chicken Sword"]=46]="Chicken Sword",i[i["Nuke Launcher"]=47]="Nuke Launcher",i[i["Ion Cannon"]=48]="Ion Cannon",i[i["Quadruple Machinegun"]=49]="Quadruple Machinegun",i[i.Flamethrower=50]="Flamethrower",i[i.Dragon=51]="Dragon",i[i["Flare Gun"]=52]="Flare Gun",i[i["Energy Screwdriver"]=53]="Energy Screwdriver",i[i["Hyper Launcher"]=54]="Hyper Launcher",i[i["Laser Cannon"]=55]="Laser Cannon",i[i["Rusty Revolver"]=56]="Rusty Revolver",i[i["Lightning Pistol"]=57]="Lightning Pistol",i[i["Lightning Rifle"]=58]="Lightning Rifle",i[i["Lightning Shotgun"]=59]="Lightning Shotgun",i[i["Super Flak Cannon"]=60]="Super Flak Cannon",i[i["Sawed-off Shotgun"]=61]="Sawed-off Shotgun",i[i["Splinter Pistol"]=62]="Splinter Pistol",i[i["Super Splinter Gun"]=63]="Super Splinter Gun",i[i["Lighting SMG"]=64]="Lighting SMG",i[i["Smart Gun"]=65]="Smart Gun",i[i["Heavy Crossbow"]=66]="Heavy Crossbow",i[i["Blood Hammer"]=67]="Blood Hammer",i[i["Lightning Cannon"]=68]="Lightning Cannon",i[i["Pop Gun"]=69]="Pop Gun",i[i["Plasma Rifle"]=70]="Plasma Rifle",i[i["Pop Rifle"]=71]="Pop Rifle",i[i["Toxic Launcher"]=72]="Toxic Launcher",i[i["Flame Cannon"]=73]="Flame Cannon",i[i["Lightning Hammer"]=74]="Lightning Hammer",i[i["Flame Shotgun"]=75]="Flame Shotgun",i[i["Double Flame Shotgun"]=76]="Double Flame Shotgun",i[i["Auto Flame Shotgun"]=77]="Auto Flame Shotgun",i[i["Cluster Launcher"]=78]="Cluster Launcher",i[i["Grenade Shotgun"]=79]="Grenade Shotgun",i[i["Grenade Rifle"]=80]="Grenade Rifle",i[i["Rogue Rifle"]=81]="Rogue Rifle",i[i["Party Gun"]=82]="Party Gun",i[i["Double Minigun"]=83]="Double Minigun",i[i["Gatling Bazooka"]=84]="Gatling Bazooka",i[i["Auto Grenade Shotgun"]=85]="Auto Grenade Shotgun",i[i["Ultra Revolver"]=86]="Ultra Revolver",i[i["Ultra Laser Pistol"]=87]="Ultra Laser Pistol",i[i.Sledgehammer=88]="Sledgehammer",i[i["Heavy Revolver"]=89]="Heavy Revolver",i[i["Heavy Machinegun"]=90]="Heavy Machinegun",i[i["Heavy Slugger"]=91]="Heavy Slugger",i[i["Ultra Shovel"]=92]="Ultra Shovel",i[i["Ultra Shotgun"]=93]="Ultra Shotgun",i[i["Ultra Crossbow"]=94]="Ultra Crossbow",i[i["Ultra Grenade Launcher"]=95]="Ultra Grenade Launcher",i[i["Plasma Minigun"]=96]="Plasma Minigun",i[i.Devastator=97]="Devastator",i[i["Golden Plasma Gun"]=98]="Golden Plasma Gun",i[i["Golden Slugger"]=99]="Golden Slugger",i[i["Golden Splinter Gun"]=100]="Golden Splinter Gun",i[i["Golden Screwdriver"]=101]="Golden Screwdriver",i[i["Golden Bazooka"]=102]="Golden Bazooka",i[i["Golden Assault Rifle"]=103]="Golden Assault Rifle",i[i["Super Disc Gun"]=104]="Super Disc Gun",i[i["Heavy Auto Crossbow"]=105]="Heavy Auto Crossbow",i[i["Heavy Assault Rifle"]=106]="Heavy Assault Rifle",i[i["Blood Cannon"]=107]="Blood Cannon",i[i["Dog Spin Attack"]=108]="Dog Spin Attack",i[i["Dog Missile"]=109]="Dog Missile",i[i.Incinerator=110]="Incinerator",i[i["Super Plasma Cannon"]=111]="Super Plasma Cannon",i[i["Seeker Pistol"]=112]="Seeker Pistol",i[i["Seeker Shotgun"]=113]="Seeker Shotgun",i[i.Eraser=114]="Eraser",i[i.Guitar=115]="Guitar",i[i["Bouncer SMG"]=116]="Bouncer SMG",i[i["Bouncer Shotgun"]=117]="Bouncer Shotgun",i[i["Hyper Slugger"]=118]="Hyper Slugger",i[i["Super Bazooka"]=119]="Super Bazooka",i[i["Frog Pistol"]=120]="Frog Pistol",i[i["Black Sword"]=121]="Black Sword",i[i["Golden Nuke Launcher"]=122]="Golden Nuke Launcher",i[i["Golden Disc Gun"]=123]="Golden Disc Gun",i[i["Heavy Grenade Launcher"]=124]="Heavy Grenade Launcher",i[i["Gun Gun"]=125]="Gun Gun",i[i["Golden Frog Pistol"]=201]="Golden Frog Pistol",Wl;var i})(),sf=(()=>{return(i=sf||(sf={}))[i["Heavy Heart"]=0]="Heavy Heart",i[i["Rhino Skin"]=1]="Rhino Skin",i[i["Extra Feet"]=2]="Extra Feet",i[i["Plutonium Hunger"]=3]="Plutonium Hunger",i[i["Rabbit Paw"]=4]="Rabbit Paw",i[i["Throne Butt"]=5]="Throne Butt",i[i["Lucky Shot"]=6]="Lucky Shot",i[i.Bloodlust=7]="Bloodlust",i[i["Gamma Guts"]=8]="Gamma Guts",i[i["Second Stomach"]=9]="Second Stomach",i[i["Back Muscle"]=10]="Back Muscle",i[i["Scarier Face"]=11]="Scarier Face",i[i.Euphoria=12]="Euphoria",i[i["Long Arms"]=13]="Long Arms",i[i["Boiling Veins"]=14]="Boiling Veins",i[i["Shotgun Shoulders"]=15]="Shotgun Shoulders",i[i["Recycle Gland"]=16]="Recycle Gland",i[i["Laser Brain"]=17]="Laser Brain",i[i["Last Wish"]=18]="Last Wish",i[i["Eagle Eyes"]=19]="Eagle Eyes",i[i["Impact Wrists"]=20]="Impact Wrists",i[i["Bolt Marrow"]=21]="Bolt Marrow",i[i.Stress=22]="Stress",i[i["Trigger Fingers"]=23]="Trigger Fingers",i[i["Sharp Teeth"]=24]="Sharp Teeth",i[i.Patience=25]="Patience",i[i.Hammerhead=26]="Hammerhead",i[i["Strong Spirit"]=27]="Strong Spirit",i[i["Open Mind"]=28]="Open Mind",sf;var i})(),Te=B(8239),pw=B(3637),Yr=B(6643);function Qy(){return i=>i.lift(new WS)}class WS{call(n,r){return r.subscribe(new QS(n))}}class QS extends Fr.L{constructor(n){super(n),this.hasPrev=!1}_next(n){let r;this.hasPrev?r=[this.prev,n]:this.hasPrev=!0,this.prev=n,r&&this.destination.next(r)}}class JS{constructor(n,r){this.compare=n,this.keySelector=r}call(n,r){return r.subscribe(new Q0(n,this.compare,this.keySelector))}}class Q0 extends Fr.L{constructor(n,r,s){super(n),this.keySelector=s,this.hasKey=!1,"function"==typeof r&&(this.compare=r)}compare(n,r){return n===r}_next(n){let r;try{const{keySelector:l}=this;r=l?l(n):n}catch(l){return this.destination.error(l)}let s=!1;if(this.hasKey)try{const{compare:l}=this;s=l(this.key,r)}catch(l){return this.destination.error(l)}else this.hasKey=!0;s||(this.key=r,this.destination.next(n))}}var tt,Wa=B(8939),eT=(B(5841),B(4486)),af=B(5452),gw=B(6034),hd=B(5601),jt=B(3854),tT="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Qa={},J0=J0||{},ht=tT||self;function mw(){}function X0(i){var n=typeof i;return"array"==(n="object"!=n?n:i?Array.isArray(i)?"array":n:"null")||"object"==n&&"number"==typeof i.length}function Jy(i){var n=typeof i;return"object"==n&&null!=i||"function"==n}var Xy="closure_uid_"+(1e9*Math.random()>>>0),tD=0;function nT(i,n,r){return i.call.apply(i.bind,arguments)}function hN(i,n,r){if(!i)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,s),i.apply(n,l)}}return function(){return i.apply(n,arguments)}}function Zr(i,n,r){return(Zr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?nT:hN).apply(null,arguments)}function lf(i,n){var r=Array.prototype.slice.call(arguments,1);return function(){var s=r.slice();return s.push.apply(s,arguments),i.apply(this,s)}}function fi(i,n){function r(){}r.prototype=n.prototype,i.Z=n.prototype,i.prototype=new r,i.prototype.constructor=i,i.Vb=function(s,l,d){for(var g=Array(arguments.length-2),_=2;_<arguments.length;_++)g[_-2]=arguments[_];return n.prototype[l].apply(s,g)}}function Ja(){this.s=this.s,this.o=this.o}var iT={};Ja.prototype.s=!1,Ja.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function(i){return Object.prototype.hasOwnProperty.call(i,Xy)&&i[Xy]||(i[Xy]=++tD)}(this);delete iT[i]}},Ja.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const nD=Array.prototype.indexOf?function(i,n){return Array.prototype.indexOf.call(i,n,void 0)}:function(i,n){if("string"==typeof i)return"string"!=typeof n||1!=n.length?-1:i.indexOf(n,0);for(let r=0;r<i.length;r++)if(r in i&&i[r]===n)return r;return-1},rD=Array.prototype.forEach?function(i,n,r){Array.prototype.forEach.call(i,n,r)}:function(i,n,r){const s=i.length,l="string"==typeof i?i.split(""):i;for(let d=0;d<s;d++)d in l&&n.call(r,l[d],d,i)};function iD(i){return Array.prototype.concat.apply([],arguments)}function uf(i){const n=i.length;if(0<n){const r=Array(n);for(let s=0;s<n;s++)r[s]=i[s];return r}return[]}function Ql(i){return/^[\s\xa0]*$/.test(i)}var is,yw=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function Nn(i,n){return-1!=i.indexOf(n)}function fd(i,n){return i<n?-1:i>n?1:0}e:{var sD=ht.navigator;if(sD){var e_=sD.userAgent;if(e_){is=e_;break e}}is=""}function Co(i,n,r){for(const s in i)n.call(r,i[s],s,i)}function cf(i){const n={};for(const r in i)n[r]=i[r];return n}var pi="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $u(i,n){let r,s;for(let l=1;l<arguments.length;l++){for(r in s=arguments[l],s)i[r]=s[r];for(let d=0;d<pi.length;d++)r=pi[d],Object.prototype.hasOwnProperty.call(s,r)&&(i[r]=s[r])}}function df(i){return df[" "](i),i}df[" "]=mw;var Jl,i,_w=Nn(is,"Opera"),ia=Nn(is,"Trident")||Nn(is,"MSIE"),pd=Nn(is,"Edge"),zu=pd||ia,gd=Nn(is,"Gecko")&&!(Nn(is.toLowerCase(),"webkit")&&!Nn(is,"Edge"))&&!(Nn(is,"Trident")||Nn(is,"MSIE"))&&!Nn(is,"Edge"),hf=Nn(is.toLowerCase(),"webkit")&&!Nn(is,"Edge");function md(){var i=ht.document;return i?i.documentMode:void 0}e:{var qu="",Ku=(i=is,gd?/rv:([^\);]+)(\)|;)/.exec(i):pd?/Edge\/([\d\.]+)/.exec(i):ia?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):hf?/WebKit\/(\S+)/.exec(i):_w?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Ku&&(qu=Ku?Ku[1]:""),ia){var t_=md();if(null!=t_&&t_>parseFloat(qu)){Jl=String(t_);break e}}Jl=qu}var oD={};function aD(){return n=oD,Object.prototype.hasOwnProperty.call(n,9)?n[9]:n[9]=function(){let i=0;const n=yw(String(Jl)).split("."),r=yw("9").split("."),s=Math.max(n.length,r.length);for(let g=0;0==i&&g<s;g++){var l=n[g]||"",d=r[g]||"";do{if(l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],0==l[0].length&&0==d[0].length)break;i=fd(0==l[1].length?0:parseInt(l[1],10),0==d[1].length?0:parseInt(d[1],10))||fd(0==l[2].length,0==d[2].length)||fd(l[2],d[2]),l=l[3],d=d[3]}while(0==i)}return 0<=i}();var n}var lD=ht.document&&ia&&(md()||parseInt(Jl,10))||void 0,uD=function(){if(!ht.addEventListener||!Object.defineProperty)return!1;var i=!1,n=Object.defineProperty({},"passive",{get:function(){i=!0}});try{ht.addEventListener("test",mw,n),ht.removeEventListener("test",mw,n)}catch(r){}return i}();function gi(i,n){this.type=i,this.g=this.target=n,this.defaultPrevented=!1}function ff(i,n){if(gi.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var r=this.type=i.type,s=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=n,n=i.relatedTarget){if(gd){e:{try{df(n.nodeName);var l=!0;break e}catch(d){}l=!1}l||(n=null)}}else"mouseover"==r?n=i.fromElement:"mouseout"==r&&(n=i.toElement);this.relatedTarget=n,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:oT[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&ff.Z.h.call(this)}}gi.prototype.h=function(){this.defaultPrevented=!0},fi(ff,gi);var oT={2:"touch",3:"pen",4:"mouse"};ff.prototype.h=function(){ff.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var pf="closure_listenable_"+(1e6*Math.random()|0),aT=0;function cD(i,n,r,s,l){this.listener=i,this.proxy=null,this.src=n,this.type=r,this.capture=!!s,this.ia=l,this.key=++aT,this.ca=this.fa=!1}function xg(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function r_(i){this.src=i,this.g={},this.h=0}function dD(i,n){var r=n.type;if(r in i.g){var d,s=i.g[r],l=nD(s,n);(d=0<=l)&&Array.prototype.splice.call(s,l,1),d&&(xg(n),0==i.g[r].length&&(delete i.g[r],i.h--))}}function bw(i,n,r,s){for(var l=0;l<i.length;++l){var d=i[l];if(!d.ca&&d.listener==n&&d.capture==!!r&&d.ia==s)return l}return-1}r_.prototype.add=function(i,n,r,s,l){var d=i.toString();(i=this.g[d])||(i=this.g[d]=[],this.h++);var g=bw(i,n,s,l);return-1<g?(n=i[g],r||(n.fa=!1)):((n=new cD(n,this.src,d,!!s,l)).fa=r,i.push(n)),n};var i_="closure_lm_"+(1e6*Math.random()|0),ww={};function Ew(i,n,r,s,l){if(s&&s.once)return uT(i,n,r,s,l);if(Array.isArray(n)){for(var d=0;d<n.length;d++)Ew(i,n[d],r,s,l);return null}return r=gD(r),i&&i[pf]?i.N(n,r,Jy(s)?!!s.capture:!!s,l):hD(i,n,r,!1,s,l)}function hD(i,n,r,s,l,d){if(!n)throw Error("Invalid event type");var g=Jy(l)?!!l.capture:!!l,_=pD(i);if(_||(i[i_]=_=new r_(i)),(r=_.add(n,r,s,g,d)).proxy)return r;if(s=function(){var n=fN;return function i(r){return n.call(i.src,i.listener,r)}}(),r.proxy=s,s.src=i,s.listener=r,i.addEventListener)uD||(l=g),void 0===l&&(l=!1),i.addEventListener(n.toString(),s,l);else if(i.attachEvent)i.attachEvent(cT(n.toString()),s);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(s)}return r}function uT(i,n,r,s,l){if(Array.isArray(n)){for(var d=0;d<n.length;d++)uT(i,n[d],r,s,l);return null}return r=gD(r),i&&i[pf]?i.O(n,r,Jy(s)?!!s.capture:!!s,l):hD(i,n,r,!0,s,l)}function fD(i,n,r,s,l){if(Array.isArray(n))for(var d=0;d<n.length;d++)fD(i,n[d],r,s,l);else s=Jy(s)?!!s.capture:!!s,r=gD(r),i&&i[pf]?(i=i.i,(n=String(n).toString())in i.g&&-1<(r=bw(d=i.g[n],r,s,l))&&(xg(d[r]),Array.prototype.splice.call(d,r,1),0==d.length&&(delete i.g[n],i.h--))):i&&(i=pD(i))&&(n=i.g[n.toString()],i=-1,n&&(i=bw(n,r,s,l)),(r=-1<i?n[i]:null)&&s_(r))}function s_(i){if("number"!=typeof i&&i&&!i.ca){var n=i.src;if(n&&n[pf])dD(n.i,i);else{var r=i.type,s=i.proxy;n.removeEventListener?n.removeEventListener(r,s,i.capture):n.detachEvent?n.detachEvent(cT(r),s):n.addListener&&n.removeListener&&n.removeListener(s),(r=pD(n))?(dD(r,i),0==r.h&&(r.src=null,n[i_]=null)):xg(i)}}}function cT(i){return i in ww?ww[i]:ww[i]="on"+i}function fN(i,n){if(i.ca)i=!0;else{n=new ff(n,this);var r=i.listener,s=i.ia||i.src;i.fa&&s_(i),i=r.call(s,n)}return i}function pD(i){return(i=i[i_])instanceof r_?i:null}var Cw="__closure_events_fn_"+(1e9*Math.random()>>>0);function gD(i){return"function"==typeof i?i:(i[Cw]||(i[Cw]=function(n){return i.handleEvent(n)}),i[Cw])}function Wr(){Ja.call(this),this.i=new r_(this),this.P=this,this.I=null}function mi(i,n){var r,s=i.I;if(s)for(r=[];s;s=s.I)r.push(s);if(i=i.P,s=n.type||n,"string"==typeof n)n=new gi(n,i);else if(n instanceof gi)n.target=n.target||i;else{var l=n;$u(n=new gi(s,i),l)}if(l=!0,r)for(var d=r.length-1;0<=d;d--){var g=n.g=r[d];l=gf(g,s,!0,n)&&l}if(l=gf(g=n.g=i,s,!0,n)&&l,l=gf(g,s,!1,n)&&l,r)for(d=0;d<r.length;d++)l=gf(g=n.g=r[d],s,!1,n)&&l}function gf(i,n,r,s){if(!(n=i.i.g[String(n)]))return!0;n=n.concat();for(var l=!0,d=0;d<n.length;++d){var g=n[d];if(g&&!g.ca&&g.capture==r){var _=g.listener,C=g.ia||g.src;g.fa&&dD(i.i,g),l=!1!==_.call(C,s)&&l}}return l&&!s.defaultPrevented}fi(Wr,Ja),Wr.prototype[pf]=!0,Wr.prototype.removeEventListener=function(i,n,r,s){fD(this,i,n,r,s)},Wr.prototype.M=function(){if(Wr.Z.M.call(this),this.i){var n,i=this.i;for(n in i.g){for(var r=i.g[n],s=0;s<r.length;s++)xg(r[s]);delete i.g[n],i.h--}}this.I=null},Wr.prototype.N=function(i,n,r,s){return this.i.add(String(i),n,!1,r,s)},Wr.prototype.O=function(i,n,r,s){return this.i.add(String(i),n,!0,r,s)};var Sg=ht.JSON.stringify;function dT(){var i=yD;let n=null;return i.g&&(n=i.g,i.g=i.g.next,i.g||(i.h=null),n.next=null),n}var mD,hT=new class{constructor(i,n){this.i=i,this.j=n,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new gN,i=>i.reset());class gN{constructor(){this.next=this.g=this.h=null}set(n,r){this.h=n,this.g=r,this.next=null}reset(){this.next=this.g=this.h=null}}function fT(i){ht.setTimeout(()=>{throw i},0)}function o_(i,n){mD||function(){var i=ht.Promise.resolve(void 0);mD=function(){i.then(_D)}}(),Yu||(mD(),Yu=!0),yD.add(i,n)}var Yu=!1,yD=new class{constructor(){this.h=this.g=null}add(n,r){const s=hT.get();s.set(n,r),this.h?this.h.next=s:this.g=s,this.h=s}};function _D(){for(var i;i=dT();){try{i.h.call(i.g)}catch(r){fT(r)}var n=hT;n.j(i),100>n.h&&(n.h++,i.next=n.g,n.g=i)}Yu=!1}function a_(i,n){Wr.call(this),this.h=i||1,this.g=n||ht,this.j=Zr(this.kb,this),this.l=Date.now()}function l_(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function mf(i,n,r){if("function"==typeof i)r&&(i=Zr(i,r));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Zr(i.handleEvent,i)}return 2147483647<Number(n)?-1:ht.setTimeout(i,n||0)}function vD(i){i.g=mf(()=>{i.g=null,i.i&&(i.i=!1,vD(i))},i.j);const n=i.h;i.h=null,i.m.apply(null,n)}fi(a_,Wr),(tt=a_.prototype).da=!1,tt.S=null,tt.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),mi(this,"tick"),this.da&&(l_(this),this.start()))}},tt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},tt.M=function(){a_.Z.M.call(this),l_(this),delete this.g};class bD extends Ja{constructor(n,r){super(),this.m=n,this.j=r,this.h=null,this.i=!1,this.g=null}l(n){this.h=arguments,this.g?this.i=!0:vD(this)}M(){super.M(),this.g&&(ht.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tg(i){Ja.call(this),this.h=i,this.g={}}fi(Tg,Ja);var wD=[];function ED(i,n,r,s){Array.isArray(r)||(r&&(wD[0]=r.toString()),r=wD);for(var l=0;l<r.length;l++){var d=Ew(n,r[l],s||i.handleEvent,!1,i.h||i);if(!d)break;i.g[d.key]=d}}function CD(i){Co(i.g,function(n,r){this.g.hasOwnProperty(r)&&s_(n)},i),i.g={}}function u_(){this.g=!0}function yd(i,n,r,s){i.info(function(){return"XMLHTTP TEXT ("+n+"): "+function(i,n){if(!i.g)return n;if(!n)return null;try{var r=JSON.parse(n);if(r)for(i=0;i<r.length;i++)if(Array.isArray(r[i])){var s=r[i];if(!(2>s.length)){var l=s[1];if(Array.isArray(l)&&!(1>l.length)){var d=l[0];if("noop"!=d&&"stop"!=d&&"close"!=d)for(var g=1;g<l.length;g++)l[g]=""}}}return Sg(r)}catch(_){return n}}(i,r)+(s?" "+s:"")})}Tg.prototype.M=function(){Tg.Z.M.call(this),CD(this)},Tg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},u_.prototype.Aa=function(){this.g=!1},u_.prototype.info=function(){};var yf={},c_=null;function d_(){return c_=c_||new Wr}function mT(i){gi.call(this,yf.Ma,i)}function Xl(i){const n=d_();mi(n,new mT(n,i))}function ID(i,n){gi.call(this,yf.STAT_EVENT,i),this.stat=n}function yi(i){const n=d_();mi(n,new ID(n,i))}function h_(i,n){gi.call(this,yf.Na,i),this.size=n}function Mg(i,n){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return ht.setTimeout(function(){i()},n)}yf.Ma="serverreachability",fi(mT,gi),yf.STAT_EVENT="statevent",fi(ID,gi),yf.Na="timingevent",fi(h_,gi);var _f={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},f_={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function p_(){}function xD(){}p_.prototype.h=null;var m_,vf={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function g_(){gi.call(this,"d")}function Aw(){gi.call(this,"c")}function bf(){}function wf(i,n,r,s){this.l=i,this.j=n,this.m=r,this.X=s||1,this.V=new Tg(this),this.P=Iw,this.W=new a_(i=zu?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new y_}function y_(){this.i=null,this.g="",this.h=!1}fi(g_,gi),fi(Aw,gi),fi(bf,p_),bf.prototype.g=function(){return new XMLHttpRequest},bf.prototype.i=function(){return{}},m_=new bf;var Iw=45e3,__={},v_={};function b_(i,n,r){i.K=1,i.v=I_(tu(n)),i.s=r,i.U=!0,xw(i,null)}function xw(i,n){i.F=Date.now(),Ef(i),i.A=tu(i.v);var r=i.A,s=i.X;Array.isArray(s)||(s=[String(s)]),ND(r.h,"t",s),i.C=0,r=i.l.H,i.h=new y_,i.g=Zw(i.l,r?n:null,!i.s),0<i.O&&(i.L=new bD(Zr(i.Ia,i,i.g),i.O)),ED(i.V,i.g,"readystatechange",i.gb),n=i.H?cf(i.H):{},i.s?(i.u||(i.u="POST"),n["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,n)):(i.u="GET",i.g.ea(i.A,i.u,null,n)),Xl(1),function(i,n,r,s,l,d){i.info(function(){if(i.g)if(d)for(var g="",_=d.split("&"),C=0;C<_.length;C++){var T=_[C].split("=");if(1<T.length){var N=T[0];T=T[1];var k=N.split("_");g=2<=k.length&&"type"==k[1]?g+(N+"=")+T+"&":g+(N+"=redacted&")}}else g=null;else g=d;return"XMLHTTP REQ ("+s+") [attempt "+l+"]: "+n+"\n"+r+"\n"+g})}(i.j,i.u,i.A,i.m,i.X,i.s)}function w_(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function Sw(i,n,r){let l,s=!0;for(;!i.I&&i.C<r.length;){if(l=_T(i,r),l==v_){4==n&&(i.o=4,yi(14),s=!1),yd(i.j,i.m,null,"[Incomplete Response]");break}if(l==__){i.o=4,yi(15),yd(i.j,i.m,r,"[Invalid Chunk]"),s=!1;break}yd(i.j,i.m,l,null),E_(i,l)}w_(i)&&l!=v_&&l!=__&&(i.h.g="",i.C=0),4!=n||0!=r.length||i.h.h||(i.o=1,yi(16),s=!1),i.i=i.i&&s,s?0<r.length&&!i.aa&&(i.aa=!0,(n=i.l).g==i&&n.$&&!n.L&&(n.h.info("Great, no buffering proxy detected. Bytes received: "+r.length),F_(n),n.L=!0,yi(11))):(yd(i.j,i.m,r,"[Invalid Chunked Response]"),eu(i),Zu(i))}function _T(i,n){var r=i.C,s=n.indexOf("\n",r);return-1==s?v_:(r=Number(n.substring(r,s)),isNaN(r)?__:(s+=1)+r>n.length?v_:(n=n.substr(s,r),i.C=s+r,n))}function Ef(i){i.Y=Date.now()+i.P,Tw(i,i.P)}function Tw(i,n){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Mg(Zr(i.eb,i),n)}function Cf(i){i.B&&(ht.clearTimeout(i.B),i.B=null)}function Zu(i){0==i.l.G||i.I||qw(i.l,i)}function eu(i){Cf(i);var n=i.L;n&&"function"==typeof n.na&&n.na(),i.L=null,l_(i.W),CD(i.V),i.g&&(n=i.g,i.g=null,n.abort(),n.na())}function E_(i,n){try{var r=i.l;if(0!=r.G&&(r.g==i||Nw(r.i,i)))if(r.I=i.N,!i.J&&Nw(r.i,i)&&3==r.G){try{var s=r.Ca.g.parse(n)}catch(T){s=null}if(Array.isArray(s)&&3==s.length){var l=s;if(0==l[0])e:if(r.u)r.ta=l[1],0<r.ta-r.U&&37500>l[2]&&r.N&&0==r.A&&!r.v&&(r.v=Mg(Zr(r.ab,r),6e3));else{if(r.g){if(!(r.g.F+3e3<i.F))break e;Fg(r),O_(r)}k_(r),yi(18)}if(1>=FD(r.i)&&r.ka){try{r.ka()}catch(T){}r.ka=void 0}}else Qu(r,11)}else if((i.J||r.g==i)&&Fg(r),!Ql(n))for(l=r.Ca.g.parse(n),n=0;n<l.length;n++){let T=l[n];if(r.U=T[0],T=T[1],2==r.G)if("c"==T[0]){r.J=T[1],r.la=T[2];const N=T[3];null!=N&&(r.ma=N,r.h.info("VER="+r.ma));const k=T[4];null!=k&&(r.za=k,r.h.info("SVER="+r.za));const z=T[5];null!=z&&"number"==typeof z&&0<z&&(r.K=s=1.5*z,r.h.info("backChannelRequestTimeoutMs_="+s)),s=r;const $=i.g;if($){const re=$.g?$.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(re){var d=s.i;!d.g&&(Nn(re,"spdy")||Nn(re,"quic")||Nn(re,"h2"))&&(d.j=d.l,d.g=new Set,d.h&&(kw(d,d.h),d.h=null))}if(s.D){const Ie=$.g?$.g.getResponseHeader("X-HTTP-Session-Id"):null;Ie&&(s.sa=Ie,Bn(s.F,s.D,Ie))}}r.G=3,r.j&&r.j.xa(),r.$&&(r.O=Date.now()-i.F,r.h.info("Handshake RTT: "+r.O+"ms"));var g=i;if((s=r).oa=P_(s,s.H?s.la:null,s.W),g.J){PD(s.i,g);var _=g,C=s.K;C&&_.setTimeout(C),_.B&&(Cf(_),Ef(_)),s.g=g}else $w(s);0<r.l.length&&N_(r)}else"stop"!=T[0]&&"close"!=T[0]||Qu(r,7);else 3==r.G&&("stop"==T[0]||"close"==T[0]?"stop"==T[0]?Qu(r,7):Gw(r):"noop"!=T[0]&&r.j&&r.j.wa(T),r.A=0)}Xl(4)}catch(T){}}function C_(i,n){if(i.forEach&&"function"==typeof i.forEach)i.forEach(n,void 0);else if(X0(i)||"string"==typeof i)rD(i,n,void 0);else{if(i.T&&"function"==typeof i.T)var r=i.T();else if(i.R&&"function"==typeof i.R)r=void 0;else if(X0(i)||"string"==typeof i){r=[];for(var s=i.length,l=0;l<s;l++)r.push(l)}else for(l in r=[],s=0,i)r[s++]=l;l=(s=function(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(X0(i)){for(var n=[],r=i.length,s=0;s<r;s++)n.push(i[s]);return n}for(s in n=[],r=0,i)n[r++]=i[s];return n}(i)).length;for(var d=0;d<l;d++)n.call(void 0,s[d],r&&r[d],i)}}function _d(i,n){this.h={},this.g=[],this.i=0;var r=arguments.length;if(1<r){if(r%2)throw Error("Uneven number of arguments");for(var s=0;s<r;s+=2)this.set(arguments[s],arguments[s+1])}else if(i)if(i instanceof _d)for(r=i.T(),s=0;s<r.length;s++)this.set(r[s],i.get(r[s]));else for(s in i)this.set(s,i[s])}function D_(i){if(i.i!=i.g.length){for(var n=0,r=0;n<i.g.length;){var s=i.g[n];Wu(i.h,s)&&(i.g[r++]=s),n++}i.g.length=r}if(i.i!=i.g.length){var l={};for(r=n=0;n<i.g.length;)Wu(l,s=i.g[n])||(i.g[r++]=s,l[s]=1),n++;i.g.length=r}}function Wu(i,n){return Object.prototype.hasOwnProperty.call(i,n)}(tt=wf.prototype).setTimeout=function(i){this.P=i},tt.gb=function(i){i=i.target;const n=this.L;n&&3==nu(i)?n.l():this.Ia(i)},tt.Ia=function(i){try{if(i==this.g)e:{const N=nu(this.g);var n=this.g.Da();const k=this.g.ba();if(!(3>N)&&(3!=N||zu||this.g&&(this.h.h||this.g.ga()||HD(this.g)))){this.I||4!=N||7==n||Xl(8==n||0>=k?3:2),Cf(this);var r=this.g.ba();this.N=r;t:if(w_(this)){var s=HD(this.g);i="";var l=s.length,d=4==nu(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){eu(this),Zu(this);var g="";break t}this.h.i=new ht.TextDecoder}for(n=0;n<l;n++)this.h.h=!0,i+=this.h.i.decode(s[n],{stream:d&&n==l-1});s.splice(0,l),this.h.g+=i,this.C=0,g=this.h.g}else g=this.g.ga();if(this.i=200==r,function(i,n,r,s,l,d,g){i.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+l+"]: "+n+"\n"+r+"\n"+d+" "+g})}(this.j,this.u,this.A,this.m,this.X,N,r),this.i){if(this.$&&!this.J){t:{if(this.g){var _,C=this.g;if((_=C.g?C.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ql(_)){var T=_;break t}}T=null}if(!(r=T)){this.i=!1,this.o=3,yi(12),eu(this),Zu(this);break e}yd(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,E_(this,r)}this.U?(Sw(this,N,g),zu&&this.i&&3==N&&(ED(this.V,this.W,"tick",this.fb),this.W.start())):(yd(this.j,this.m,g,null),E_(this,g)),4==N&&eu(this),this.i&&!this.I&&(4==N?qw(this.l,this):(this.i=!1,Ef(this)))}else 400==r&&0<g.indexOf("Unknown SID")?(this.o=3,yi(12)):(this.o=0,yi(13)),eu(this),Zu(this)}}}catch(N){}},tt.fb=function(){if(this.g){var i=nu(this.g),n=this.g.ga();this.C<n.length&&(Cf(this),Sw(this,i,n),this.i&&4!=i&&Ef(this))}},tt.cancel=function(){this.I=!0,eu(this)},tt.eb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function(i,n){i.info(function(){return"TIMEOUT: "+n})}(this.j,this.A),2!=this.K&&(Xl(3),yi(17)),eu(this),this.o=2,Zu(this)):Tw(this,this.Y-i)},(tt=_d.prototype).R=function(){D_(this);for(var i=[],n=0;n<this.g.length;n++)i.push(this.h[this.g[n]]);return i},tt.T=function(){return D_(this),this.g.concat()},tt.get=function(i,n){return Wu(this.h,i)?this.h[i]:n},tt.set=function(i,n){Wu(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=n},tt.forEach=function(i,n){for(var r=this.T(),s=0;s<r.length;s++){var l=r[s],d=this.get(l);i.call(n,d,l,this)}};var Mw=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function vd(i,n){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof vd){this.g=void 0!==n?n:i.g,Rg(this,i.j),this.s=i.s,A_(this,i.i),tr(this,i.m),this.l=i.l,n=i.h;var r=new x_;r.i=n.i,n.g&&(r.g=new _d(n.g),r.h=n.h),Rw(this,r),this.o=i.o}else i&&(r=String(i).match(Mw))?(this.g=!!n,Rg(this,r[1]||"",!0),this.s=Df(r[2]||""),A_(this,r[3]||"",!0),tr(this,r[4]),this.l=Df(r[5]||"",!0),Rw(this,r[6]||"",!0),this.o=Df(r[7]||"")):(this.g=!!n,this.h=new x_(null,this.g))}function tu(i){return new vd(i)}function Rg(i,n,r){i.j=r?Df(n,!0):n,i.j&&(i.j=i.j.replace(/:$/,""))}function A_(i,n,r){i.i=r?Df(n,!0):n}function tr(i,n){if(n){if(n=Number(n),isNaN(n)||0>n)throw Error("Bad port number "+n);i.m=n}else i.m=null}function Rw(i,n,r){n instanceof x_?(i.h=n,function(i,n){n&&!i.j&&(Xa(i),i.i=null,i.g.forEach(function(r,s){var l=s.toLowerCase();s!=l&&(S_(this,s),ND(this,l,r))},i)),i.j=n}(i.h,i.g)):(r||(n=Af(n,wT)),i.h=new x_(n,i.g))}function Bn(i,n,r){i.h.set(n,r)}function I_(i){return Bn(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Df(i,n){return i?n?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Af(i,n,r){return"string"==typeof i?(i=encodeURI(i).replace(n,If),r&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function If(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}vd.prototype.toString=function(){var i=[],n=this.j;n&&i.push(Af(n,MD,!0),":");var r=this.i;return(r||"file"==n)&&(i.push("//"),(n=this.s)&&i.push(Af(n,MD,!0),"@"),i.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(r=this.m)&&i.push(":",String(r))),(r=this.l)&&(this.i&&"/"!=r.charAt(0)&&i.push("/"),i.push(Af(r,"/"==r.charAt(0)?RD:bT,!0))),(r=this.h.toString())&&i.push("?",r),(r=this.o)&&i.push("#",Af(r,OD)),i.join("")};var MD=/[#\/\?@]/g,bT=/[#\?:]/g,RD=/[#\?]/g,wT=/[#\?@]/g,OD=/#/g;function x_(i,n){this.h=this.g=null,this.i=i||null,this.j=!!n}function Xa(i){i.g||(i.g=new _d,i.h=0,i.i&&function(i,n){if(i){i=i.split("&");for(var r=0;r<i.length;r++){var s=i[r].indexOf("="),l=null;if(0<=s){var d=i[r].substring(0,s);l=i[r].substring(s+1)}else d=i[r];n(d,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(i.i,function(n,r){i.add(decodeURIComponent(n.replace(/\+/g," ")),r)}))}function S_(i,n){Xa(i),n=xf(i,n),Wu(i.g.h,n)&&(i.i=null,i.h-=i.g.get(n).length,Wu((i=i.g).h,n)&&(delete i.h[n],i.i--,i.g.length>2*i.i&&D_(i)))}function sa(i,n){return Xa(i),n=xf(i,n),Wu(i.g.h,n)}function ND(i,n,r){S_(i,n),0<r.length&&(i.i=null,i.g.set(xf(i,n),uf(r)),i.h+=r.length)}function xf(i,n){return n=String(n),i.j&&(n=n.toLowerCase()),n}function Ao(i){this.l=i||kD,i=ht.PerformanceNavigationTiming?0<(i=ht.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(ht.g&&ht.g.Ea&&ht.g.Ea()&&ht.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(tt=x_.prototype).add=function(i,n){Xa(this),this.i=null,i=xf(this,i);var r=this.g.get(i);return r||this.g.set(i,r=[]),r.push(n),this.h+=1,this},tt.forEach=function(i,n){Xa(this),this.g.forEach(function(r,s){rD(r,function(l){i.call(n,l,s,this)},this)},this)},tt.T=function(){Xa(this);for(var i=this.g.R(),n=this.g.T(),r=[],s=0;s<n.length;s++)for(var l=i[s],d=0;d<l.length;d++)r.push(n[s]);return r},tt.R=function(i){Xa(this);var n=[];if("string"==typeof i)sa(this,i)&&(n=iD(n,this.g.get(xf(this,i))));else{i=this.g.R();for(var r=0;r<i.length;r++)n=iD(n,i[r])}return n},tt.set=function(i,n){return Xa(this),this.i=null,sa(this,i=xf(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[n]),this.h+=1,this},tt.get=function(i,n){return i&&0<(i=this.R(i)).length?String(i[0]):n},tt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],n=this.g.T(),r=0;r<n.length;r++){var s=n[r],l=encodeURIComponent(String(s));s=this.R(s);for(var d=0;d<s.length;d++){var g=l;""!==s[d]&&(g+="="+encodeURIComponent(String(s[d]))),i.push(g)}}return this.i=i.join("&")};var kD=10;function Ow(i){return!!i.h||!!i.g&&i.g.size>=i.j}function FD(i){return i.h?1:i.g?i.g.size:0}function Nw(i,n){return i.h?i.h==n:!!i.g&&i.g.has(n)}function kw(i,n){i.g?i.g.add(n):i.h=n}function PD(i,n){i.h&&i.h==n?i.h=null:i.g&&i.g.has(n)&&i.g.delete(n)}function T_(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let n=i.i;for(const r of i.g.values())n=n.concat(r.D);return n}return uf(i.i)}function bd(){}function ET(){this.g=new bd}function LD(i,n,r){const s=r||"";try{C_(i,function(l,d){let g=l;Jy(l)&&(g=Sg(l)),n.push(s+d+"="+encodeURIComponent(g))})}catch(l){throw n.push(s+"type="+encodeURIComponent("_badmap")),l}}function Og(i,n,r,s,l){try{n.onload=null,n.onerror=null,n.onabort=null,n.ontimeout=null,l(s)}catch(d){}}function Sf(i){this.l=i.$b||null,this.j=i.ib||!1}function wd(i,n){Wr.call(this),this.D=i,this.u=n,this.m=void 0,this.readyState=Fw,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ao.prototype.cancel=function(){if(this.i=T_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},bd.prototype.stringify=function(i){return ht.JSON.stringify(i,void 0)},bd.prototype.parse=function(i){return ht.JSON.parse(i,void 0)},fi(Sf,p_),Sf.prototype.g=function(){return new wd(this.l,this.j)},Sf.prototype.i=function(i){return function(){return i}}({}),fi(wd,Wr);var Fw=0;function Pw(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function Tf(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Ed(i)}function Ed(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(tt=wd.prototype).open=function(i,n){if(this.readyState!=Fw)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=n,this.readyState=1,Ed(this)},tt.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const n={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(n.body=i),(this.D||ht).fetch(new Request(this.B,n)).then(this.Va.bind(this),this.ha.bind(this))},tt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Tf(this)),this.readyState=Fw},tt.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Ed(this)),this.g&&(this.readyState=3,Ed(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==ht.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Pw(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},tt.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var n=i.value?i.value:new Uint8Array(0);(n=this.A.decode(n,{stream:!i.done}))&&(this.response=this.responseText+=n)}i.done?Tf(this):Ed(this),3==this.readyState&&Pw(this)}},tt.Ua=function(i){this.g&&(this.response=this.responseText=i,Tf(this))},tt.Ta=function(i){this.g&&(this.response=i,Tf(this))},tt.ha=function(){this.g&&Tf(this)},tt.setRequestHeader=function(i,n){this.v.append(i,n)},tt.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},tt.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],n=this.h.entries();for(var r=n.next();!r.done;)i.push((r=r.value)[0]+": "+r[1]),r=n.next();return i.join("\r\n")},Object.defineProperty(wd.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var M_=ht.JSON.parse;function mr(i){Wr.call(this),this.headers=new _d,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Lw,this.K=this.L=!1}fi(mr,Wr);var Lw="",Vw=/^https?$/i,VD=["POST","PUT"];function UD(i){return"content-type"==i.toLowerCase()}function Bw(i,n){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=n,i.m=5,Uw(i),R_(i)}function Uw(i){i.D||(i.D=!0,mi(i,"complete"),mi(i,"error"))}function jD(i){if(i.h&&void 0!==J0&&(!i.C[1]||4!=nu(i)||2!=i.ba()))if(i.v&&4==nu(i))mf(i.Fa,0,i);else if(mi(i,"readystatechange"),4==nu(i)){i.h=!1;try{const _=i.ba();e:switch(_){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var s;if(s=0===_){var l=String(i.H).match(Mw)[1]||null;if(!l&&ht.self&&ht.self.location){var d=ht.self.location.protocol;l=d.substr(0,d.length-1)}s=!Vw.test(l?l.toLowerCase():"")}r=s}if(r)mi(i,"complete"),mi(i,"success");else{i.m=6;try{var g=2<nu(i)?i.g.statusText:""}catch(C){g=""}i.j=g+" ["+i.ba()+"]",Uw(i)}}finally{R_(i)}}}function R_(i,n){if(i.g){GD(i);const r=i.g,s=i.C[0]?mw:null;i.g=null,i.C=null,n||mi(i,"ready");try{r.onreadystatechange=s}catch(l){}}}function GD(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(ht.clearTimeout(i.A),i.A=null)}function nu(i){return i.g?i.g.readyState:0}function HD(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case Lw:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(n){return null}}function jw(i,n,r){e:{for(s in r){var s=!1;break e}s=!0}s||(r=function(i){let n="";return Co(i,function(r,s){n+=s,n+=":",n+=r,n+="\r\n"}),n}(r),"string"==typeof i?null!=r&&encodeURIComponent(String(r)):Bn(i,n,r))}function Ng(i,n,r){return r&&r.internalChannelParams&&r.internalChannelParams[i]||n}function $D(i){this.za=0,this.l=[],this.h=new u_,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ng("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ng("baseRetryDelayMs",5e3,i),this.$a=Ng("retryDelaySeedMs",1e4,i),this.Ya=Ng("forwardChannelMaxRetries",2,i),this.ra=Ng("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new Ao(i&&i.concurrentRequestLimit),this.Ca=new ET,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function Gw(i){if(zD(i),3==i.G){var n=i.V++,r=tu(i.F);Bn(r,"SID",i.J),Bn(r,"RID",n),Bn(r,"TYPE","terminate"),kg(i,r),(n=new wf(i,i.h,n,void 0)).K=2,n.v=I_(tu(r)),r=!1,ht.navigator&&ht.navigator.sendBeacon&&(r=ht.navigator.sendBeacon(n.v.toString(),"")),!r&&ht.Image&&((new Image).src=n.v,r=!0),r||(n.g=Zw(n.l,null),n.g.ea(n.v)),n.F=Date.now(),Ef(n)}Yw(i)}function O_(i){i.g&&(F_(i),i.g.cancel(),i.g=null)}function zD(i){O_(i),i.u&&(ht.clearTimeout(i.u),i.u=null),Fg(i),i.i.cancel(),i.m&&("number"==typeof i.m&&ht.clearTimeout(i.m),i.m=null)}function Hw(i,n){i.l.push(new class{constructor(i,n){this.h=i,this.g=n}}(i.Za++,n)),3==i.G&&N_(i)}function N_(i){Ow(i.i)||i.m||(i.m=!0,o_(i.Ha,i),i.C=0)}function qD(i,n){var r;r=n?n.m:i.V++;const s=tu(i.F);Bn(s,"SID",i.J),Bn(s,"RID",r),Bn(s,"AID",i.U),kg(i,s),i.o&&i.s&&jw(s,i.o,i.s),r=new wf(i,i.h,r,i.C+1),null===i.o&&(r.H=i.s),n&&(i.l=n.D.concat(i.l)),n=KD(i,r,1e3),r.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),kw(i.i,r),b_(r,s,n)}function kg(i,n){i.j&&C_({},function(r,s){Bn(n,s,r)})}function KD(i,n,r){r=Math.min(i.l.length,r);var s=i.j?Zr(i.j.Oa,i.j,i):null;e:{var l=i.l;let d=-1;for(;;){const g=["count="+r];-1==d?0<r?(d=l[0].h,g.push("ofs="+d)):d=0:g.push("ofs="+d);let _=!0;for(let C=0;C<r;C++){let T=l[C].h;const N=l[C].g;if(T-=d,0>T)d=Math.max(0,l[C].h-100),_=!1;else try{LD(N,g,"req"+T+"_")}catch(k){s&&s(N)}}if(_){s=g.join("&");break e}}}return i=i.l.splice(0,r),n.D=i,s}function $w(i){i.g||i.u||(i.Y=1,o_(i.Ga,i),i.A=0)}function k_(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=Mg(Zr(i.Ga,i),Kw(i,i.A)),i.A++,0))}function F_(i){null!=i.B&&(ht.clearTimeout(i.B),i.B=null)}function zw(i){i.g=new wf(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var n=tu(i.oa);Bn(n,"RID","rpc"),Bn(n,"SID",i.J),Bn(n,"CI",i.N?"0":"1"),Bn(n,"AID",i.U),kg(i,n),Bn(n,"TYPE","xmlhttp"),i.o&&i.s&&jw(n,i.o,i.s),i.K&&i.g.setTimeout(i.K);var r=i.g;i=i.la,r.K=1,r.v=I_(tu(n)),r.s=null,r.U=!0,xw(r,i)}function Fg(i){null!=i.v&&(ht.clearTimeout(i.v),i.v=null)}function qw(i,n){var r=null;if(i.g==n){Fg(i),F_(i),i.g=null;var s=2}else{if(!Nw(i.i,n))return;r=n.D,PD(i.i,n),s=1}if(i.I=n.N,0!=i.G)if(n.i)if(1==s){r=n.s?n.s.length:0,n=Date.now()-n.F;var l=i.C;mi(s=d_(),new h_(s,r,n,l)),N_(i)}else $w(i);else if(3==(l=n.o)||0==l&&0<i.I||!(1==s&&function(i,n){return!(FD(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=n.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=Mg(Zr(i.Ha,i,n),Kw(i,i.C)),i.C++,0)))}(i,n)||2==s&&k_(i)))switch(r&&0<r.length&&(n=i.i,n.i=n.i.concat(r)),l){case 1:Qu(i,5);break;case 4:Qu(i,10);break;case 3:Qu(i,6);break;default:Qu(i,2)}}function Kw(i,n){let r=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(r*=2),r*n}function Qu(i,n){if(i.h.info("Error code "+n),2==n){var r=null;i.j&&(r=null);var s=Zr(i.jb,i);r||(r=new vd("//www.google.com/images/cleardot.gif"),ht.location&&"http"==ht.location.protocol||Rg(r,"https"),I_(r)),function(i,n){const r=new u_;if(ht.Image){const s=new Image;s.onload=lf(Og,r,s,"TestLoadImage: loaded",!0,n),s.onerror=lf(Og,r,s,"TestLoadImage: error",!1,n),s.onabort=lf(Og,r,s,"TestLoadImage: abort",!1,n),s.ontimeout=lf(Og,r,s,"TestLoadImage: timeout",!1,n),ht.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=i}else n(!1)}(r.toString(),s)}else yi(2);i.G=0,i.j&&i.j.va(n),Yw(i),zD(i)}function Yw(i){i.G=0,i.I=-1,i.j&&((0!=T_(i.i).length||0!=i.l.length)&&(i.i.i.length=0,uf(i.l),i.l.length=0),i.j.ua())}function P_(i,n,r){let s=function(i){return i instanceof vd?tu(i):new vd(i,void 0)}(r);if(""!=s.i)n&&A_(s,n+"."+s.i),tr(s,s.m);else{const l=ht.location;s=function(i,n,r,s){var l=new vd(null,void 0);return i&&Rg(l,i),n&&A_(l,n),r&&tr(l,r),s&&(l.l=s),l}(l.protocol,n?n+"."+l.hostname:l.hostname,+l.port,r)}return i.aa&&Co(i.aa,function(l,d){Bn(s,d,l)}),r=i.sa,(n=i.D)&&r&&Bn(s,n,r),Bn(s,"VER",i.ma),kg(i,s),s}function Zw(i,n,r){if(n&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(n=new mr(r&&i.Ba&&!i.qa?new Sf({ib:!0}):i.qa)).L=i.H,n}function Ju(){}function L_(){if(ia&&!(10<=Number(lD)))throw Error("Environmental error: no available transport.")}function Qs(i,n){Wr.call(this),this.g=new $D(n),this.l=i,this.h=n&&n.messageUrlParams||null,i=n&&n.messageHeaders||null,n&&n.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=n&&n.initMessageHeaders||null,n&&n.messageContentType&&(i?i["X-WebChannel-Content-Type"]=n.messageContentType:i={"X-WebChannel-Content-Type":n.messageContentType}),n&&n.ya&&(i?i["X-WebChannel-Client-Profile"]=n.ya:i={"X-WebChannel-Client-Profile":n.ya}),this.g.P=i,(i=n&&n.httpHeadersOverwriteParam)&&!Ql(i)&&(this.g.o=i),this.A=n&&n.supportsCrossDomainXhr||!1,this.v=n&&n.sendRawJson||!1,(n=n&&n.httpSessionIdParam)&&!Ql(n)&&(this.g.D=n,null!==(i=this.h)&&n in i&&n in(i=this.h)&&delete i[n]),this.j=new Xu(this)}function Cd(i){g_.call(this);var n=i.__sm__;if(n){e:{for(const r in n){i=r;break e}i=void 0}(this.i=i)&&(i=this.i,n=null!==n&&i in n?n[i]:void 0),this.data=n}else this.data=i}function IT(){Aw.call(this),this.status=1}function Xu(i){this.g=i}(tt=mr.prototype).ea=function(i,n,r,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);n=n?n.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():m_.g(),this.C=function(i){return i.h||(i.h=i.i())}(this.u?this.u:m_),this.g.onreadystatechange=Zr(this.Fa,this);try{this.F=!0,this.g.open(n,String(i),!0),this.F=!1}catch(d){return void Bw(this,d)}i=r||"";const l=new _d(this.headers);s&&C_(s,function(d,g){l.set(g,d)}),s=function(i){e:{var n=UD;const r=i.length,s="string"==typeof i?i.split(""):i;for(let l=0;l<r;l++)if(l in s&&n.call(void 0,s[l],l,i)){n=l;break e}n=-1}return 0>n?null:"string"==typeof i?i.charAt(n):i[n]}(l.T()),r=ht.FormData&&i instanceof ht.FormData,!(0<=nD(VD,n))||s||r||l.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),l.forEach(function(d,g){this.g.setRequestHeader(g,d)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{GD(this),0<this.B&&((this.K=function(i){return ia&&aD()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Zr(this.pa,this)):this.A=mf(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(d){Bw(this,d)}},tt.pa=function(){void 0!==J0&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,mi(this,"timeout"),this.abort(8))},tt.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,mi(this,"complete"),mi(this,"abort"),R_(this))},tt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),R_(this,!0)),mr.Z.M.call(this)},tt.Fa=function(){this.s||(this.F||this.v||this.l?jD(this):this.cb())},tt.cb=function(){jD(this)},tt.ba=function(){try{return 2<nu(this)?this.g.status:-1}catch(i){return-1}},tt.ga=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},tt.Qa=function(i){if(this.g){var n=this.g.responseText;return i&&0==n.indexOf(i)&&(n=n.substring(i.length)),M_(n)}},tt.Da=function(){return this.m},tt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(tt=$D.prototype).ma=8,tt.G=1,tt.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch(n){}},tt.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;const l=new wf(this,this.h,i,void 0);let d=this.s;if(this.P&&(d?(d=cf(d),$u(d,this.P)):d=this.P),null===this.o&&(l.H=d),this.ja)e:{for(var n=0,r=0;r<this.l.length;r++){var s=this.l[r];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(n+=s)){n=r;break e}if(4096===n||r===this.l.length-1){n=r+1;break e}}n=1e3}else n=1e3;n=KD(this,l,n),Bn(r=tu(this.F),"RID",i),Bn(r,"CVER",22),this.D&&Bn(r,"X-HTTP-Session-Id",this.D),kg(this,r),this.o&&d&&jw(r,this.o,d),kw(this.i,l),this.Ra&&Bn(r,"TYPE","init"),this.ja?(Bn(r,"$req",n),Bn(r,"SID","null"),l.$=!0,b_(l,r,null)):b_(l,r,n),this.G=2}}else 3==this.G&&(i?qD(this,i):0==this.l.length||Ow(this.i)||qD(this))},tt.Ga=function(){if(this.u=null,zw(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=Mg(Zr(this.bb,this),i)}},tt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,yi(10),O_(this),zw(this))},tt.ab=function(){null!=this.v&&(this.v=null,O_(this),k_(this),yi(19))},tt.jb=function(i){i?(this.h.info("Successfully pinged google.com"),yi(2)):(this.h.info("Failed to ping google.com"),yi(1))},(tt=Ju.prototype).xa=function(){},tt.wa=function(){},tt.va=function(){},tt.ua=function(){},tt.Oa=function(){},L_.prototype.g=function(i,n){return new Qs(i,n)},fi(Qs,Wr),Qs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,n=this.l,r=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),o_(Zr(i.hb,i,n))),yi(0),i.W=n,i.aa=r||{},i.N=i.X,i.F=P_(i,null,i.W),N_(i)},Qs.prototype.close=function(){Gw(this.g)},Qs.prototype.u=function(i){if("string"==typeof i){var n={};n.__data__=i,Hw(this.g,n)}else this.v?((n={}).__data__=Sg(i),Hw(this.g,n)):Hw(this.g,i)},Qs.prototype.M=function(){this.g.j=null,delete this.j,Gw(this.g),delete this.g,Qs.Z.M.call(this)},fi(Cd,g_),fi(IT,Aw),fi(Xu,Ju),Xu.prototype.xa=function(){mi(this.g,"a")},Xu.prototype.wa=function(i){mi(this.g,new Cd(i))},Xu.prototype.va=function(i){mi(this.g,new IT(i))},Xu.prototype.ua=function(){mi(this.g,"b")},L_.prototype.createWebChannel=L_.prototype.g,Qs.prototype.send=Qs.prototype.u,Qs.prototype.open=Qs.prototype.m,Qs.prototype.close=Qs.prototype.close,_f.NO_ERROR=0,_f.TIMEOUT=8,_f.HTTP_ERROR=6,f_.COMPLETE="complete",xD.EventType=vf,vf.OPEN="a",vf.CLOSE="b",vf.ERROR="c",vf.MESSAGE="d",Wr.prototype.listen=Wr.prototype.N,mr.prototype.listenOnce=mr.prototype.O,mr.prototype.getLastError=mr.prototype.La,mr.prototype.getLastErrorCode=mr.prototype.Da,mr.prototype.getStatus=mr.prototype.ba,mr.prototype.getResponseJson=mr.prototype.Qa,mr.prototype.getResponseText=mr.prototype.ga,mr.prototype.send=mr.prototype.ea;var yN=Qa.createWebChannelTransport=function(){return new L_},YD=Qa.getStatEventTarget=function(){return d_()},V_=Qa.ErrorCode=_f,_N=Qa.EventType=f_,vt=Qa.Event=yf,ZD=Qa.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},xT=Qa.FetchXmlHttpFactory=Sf,B_=Qa.WebChannel=xD,U_=Qa.XhrIo=mr;class _i{constructor(n){this.uid=n}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}_i.UNAUTHENTICATED=new _i(null),_i.GOOGLE_CREDENTIALS=new _i("google-credentials-uid"),_i.FIRST_PARTY=new _i("first-party-uid"),_i.MOCK_USER=new _i("mock-user");let ru="9.1.0";const aa=new hd.Yd("@firebase/firestore");function Un(){return aa.logLevel}function qe(i,...n){if(aa.logLevel<=hd.in.DEBUG){const r=n.map(j_);aa.debug(`Firestore (${ru}): ${i}`,...r)}}function nr(i,...n){if(aa.logLevel<=hd.in.ERROR){const r=n.map(j_);aa.error(`Firestore (${ru}): ${i}`,...r)}}function Pg(i,...n){if(aa.logLevel<=hd.in.WARN){const r=n.map(j_);aa.warn(`Firestore (${ru}): ${i}`,...r)}}function j_(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(r){return i}}function at(i="Unexpected state"){const n=`FIRESTORE (${ru}) INTERNAL ASSERTION FAILED: `+i;throw nr(n),new Error(n)}function Dt(i,n){i||at()}function We(i,n){return i}const Ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ue extends Error{constructor(n,r){super(r),this.code=n,this.message=r,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class rr{constructor(){this.promise=new Promise((n,r)=>{this.resolve=n,this.reject=r})}}class QD{constructor(n,r){this.user=r,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${n}`}}class ST{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,r){n.enqueueRetryable(()=>r(_i.UNAUTHENTICATED))}shutdown(){}}class TT{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,r){this.changeListener=r,n.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class G_{constructor(n){this.t=n,this.currentUser=_i.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,r){var s=this;let l=this.i;const d=T=>this.i!==l?(l=this.i,r(T)):Promise.resolve();let g=new rr;this.o=()=>{this.i++,this.currentUser=this.u(),g.resolve(),g=new rr,n.enqueueRetryable(()=>d(this.currentUser))};const _=()=>{const T=g;n.enqueueRetryable((0,Te.Z)(function*(){yield T.promise,yield d(s.currentUser)}))},C=T=>{qe("FirebaseCredentialsProvider","Auth detected"),this.auth=T,this.auth.addAuthTokenListener(this.o),_()};this.t.onInit(T=>C(T)),setTimeout(()=>{if(!this.auth){const T=this.t.getImmediate({optional:!0});T?C(T):(qe("FirebaseCredentialsProvider","Auth not yet detected"),g.resolve(),g=new rr)}},0),_()}getToken(){const n=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(s=>this.i!==n?(qe("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Dt("string"==typeof s.accessToken),new QD(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const n=this.auth&&this.auth.getUid();return Dt(null===n||"string"==typeof n),new _i(n)}}class JD{constructor(n,r,s){this.h=n,this.l=r,this.m=s,this.type="FirstParty",this.user=_i.FIRST_PARTY}get authHeaders(){const n={"X-Goog-AuthUser":this.l},r=this.h.auth.getAuthHeaderValueForFirstParty([]);return r&&(n.Authorization=r),this.m&&(n["X-Goog-Iam-Authorization-Token"]=this.m),n}}class XD{constructor(n,r,s){this.h=n,this.l=r,this.m=s}getToken(){return Promise.resolve(new JD(this.h,this.l,this.m))}start(n,r){n.enqueueRetryable(()=>r(_i.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class xs{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=s=>this.g(s),this.p=s=>r.writeSequenceNumber(s))}g(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.p&&this.p(n),n}}function MT(i){const n="undefined"!=typeof self&&(self.crypto||self.msCrypto),r=new Uint8Array(i);if(n&&"function"==typeof n.getRandomValues)n.getRandomValues(r);else for(let s=0;s<i;s++)r[s]=Math.floor(256*Math.random());return r}xs.T=-1;class Mf{static I(){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/n.length)*n.length;let s="";for(;s.length<20;){const l=MT(40);for(let d=0;d<l.length;++d)s.length<20&&l[d]<r&&(s+=n.charAt(l[d]%n.length))}return s}}function Ut(i,n){return i<n?-1:i>n?1:0}function Rf(i,n,r){return i.length===n.length&&i.every((s,l)=>r(s,n[l]))}function eA(i){return i+"\0"}class Qr{constructor(n,r){if(this.seconds=n,this.nanoseconds=r,r<0)throw new Ue(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Ue(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(n<-62135596800)throw new Ue(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new Ue(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}static now(){return Qr.fromMillis(Date.now())}static fromDate(n){return Qr.fromMillis(n.getTime())}static fromMillis(n){const r=Math.floor(n/1e3),s=Math.floor(1e6*(n-1e3*r));return new Qr(r,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(n){return this.seconds===n.seconds?Ut(this.nanoseconds,n.nanoseconds):Ut(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class kt{constructor(n){this.timestamp=n}static fromTimestamp(n){return new kt(n)}static min(){return new kt(new Qr(0,0))}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Ww(i){let n=0;for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&n++;return n}function ec(i,n){for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&n(r,i[r])}function tA(i){for(const n in i)if(Object.prototype.hasOwnProperty.call(i,n))return!1;return!0}class Of{constructor(n,r,s){void 0===r?r=0:r>n.length&&at(),void 0===s?s=n.length-r:s>n.length-r&&at(),this.segments=n,this.offset=r,this.len=s}get length(){return this.len}isEqual(n){return 0===Of.comparator(this,n)}child(n){const r=this.segments.slice(this.offset,this.limit());return n instanceof Of?n.forEach(s=>{r.push(s)}):r.push(n),this.construct(r)}limit(){return this.offset+this.length}popFirst(n){return this.construct(this.segments,this.offset+(n=void 0===n?1:n),this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return 0===this.length}isPrefixOf(n){if(n.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==n.get(r))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==n.get(r))return!1;return!0}forEach(n){for(let r=this.offset,s=this.limit();r<s;r++)n(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,r){const s=Math.min(n.length,r.length);for(let l=0;l<s;l++){const d=n.get(l),g=r.get(l);if(d<g)return-1;if(d>g)return 1}return n.length<r.length?-1:n.length>r.length?1:0}}class sn extends Of{construct(n,r,s){return new sn(n,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...n){const r=[];for(const s of n){if(s.indexOf("//")>=0)throw new Ue(Ce.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter(l=>l.length>0))}return new sn(r)}static emptyPath(){return new sn([])}}const RT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Li extends Of{construct(n,r,s){return new Li(n,r,s)}static isValidIdentifier(n){return RT.test(n)}canonicalString(){return this.toArray().map(n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Li.isValidIdentifier(n)||(n="`"+n+"`"),n)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Li(["__name__"])}static fromServerFormat(n){const r=[];let s="",l=0;const d=()=>{if(0===s.length)throw new Ue(Ce.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let g=!1;for(;l<n.length;){const _=n[l];if("\\"===_){if(l+1===n.length)throw new Ue(Ce.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const C=n[l+1];if("\\"!==C&&"."!==C&&"`"!==C)throw new Ue(Ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);s+=C,l+=2}else"`"===_?(g=!g,l++):"."!==_||g?(s+=_,l++):(d(),l++)}if(d(),g)throw new Ue(Ce.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new Li(r)}static emptyPath(){return new Li([])}}class Lg{constructor(n){this.fields=n,n.sort(Li.comparator)}covers(n){for(const r of this.fields)if(r.isPrefixOf(n))return!0;return!1}isEqual(n){return Rf(this.fields,n.fields,(r,s)=>r.isEqual(s))}}class vi{constructor(n){this.binaryString=n}static fromBase64String(n){const r=atob(n);return new vi(r)}static fromUint8Array(n){const r=function(s){let l="";for(let d=0;d<s.length;++d)l+=String.fromCharCode(s[d]);return l}(n);return new vi(r)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return Ut(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}vi.EMPTY_BYTE_STRING=new vi("");const nA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function la(i){if(Dt(!!i),"string"==typeof i){let n=0;const r=nA.exec(i);if(Dt(!!r),r[1]){let l=r[1];l=(l+"000000000").substr(0,9),n=Number(l)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:n}}return{seconds:xr(i.seconds),nanos:xr(i.nanos)}}function xr(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Nf(i){return"string"==typeof i?vi.fromBase64String(i):vi.fromUint8Array(i)}function H_(i){var n,r;return"server_timestamp"===(null===(r=((null===(n=null==i?void 0:i.mapValue)||void 0===n?void 0:n.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function kf(i){const n=i.mapValue.fields.__previous_value__;return H_(n)?kf(n):n}function Vg(i){const n=la(i.mapValue.fields.__local_write_time__.timestampValue);return new Qr(n.seconds,n.nanos)}function Dd(i){return null==i}function $_(i){return 0===i&&1/i==-1/0}function rA(i){return"number"==typeof i&&Number.isInteger(i)&&!$_(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}class lt{constructor(n){this.path=n}static fromPath(n){return new lt(sn.fromString(n))}static fromName(n){return new lt(sn.fromString(n).popFirst(5))}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}isEqual(n){return null!==n&&0===sn.comparator(this.path,n.path)}toString(){return this.path.toString()}static comparator(n,r){return sn.comparator(n.path,r.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new lt(new sn(n.slice()))}}function tc(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?H_(i)?4:10:at()}function tl(i,n){const r=tc(i);if(r!==tc(n))return!1;switch(r){case 0:return!0;case 1:return i.booleanValue===n.booleanValue;case 4:return Vg(i).isEqual(Vg(n));case 3:return function(s,l){if("string"==typeof s.timestampValue&&"string"==typeof l.timestampValue&&s.timestampValue.length===l.timestampValue.length)return s.timestampValue===l.timestampValue;const d=la(s.timestampValue),g=la(l.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(i,n);case 5:return i.stringValue===n.stringValue;case 6:return l=n,Nf(i.bytesValue).isEqual(Nf(l.bytesValue));case 7:return i.referenceValue===n.referenceValue;case 8:return function(s,l){return xr(s.geoPointValue.latitude)===xr(l.geoPointValue.latitude)&&xr(s.geoPointValue.longitude)===xr(l.geoPointValue.longitude)}(i,n);case 2:return function(s,l){if("integerValue"in s&&"integerValue"in l)return xr(s.integerValue)===xr(l.integerValue);if("doubleValue"in s&&"doubleValue"in l){const d=xr(s.doubleValue),g=xr(l.doubleValue);return d===g?$_(d)===$_(g):isNaN(d)&&isNaN(g)}return!1}(i,n);case 9:return Rf(i.arrayValue.values||[],n.arrayValue.values||[],tl);case 10:return function(s,l){const d=s.mapValue.fields||{},g=l.mapValue.fields||{};if(Ww(d)!==Ww(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(void 0===g[_]||!tl(d[_],g[_])))return!1;return!0}(i,n);default:return at()}var l}function Bg(i,n){return void 0!==(i.values||[]).find(r=>tl(r,n))}function ua(i,n){const r=tc(i),s=tc(n);if(r!==s)return Ut(r,s);switch(r){case 0:return 0;case 1:return Ut(i.booleanValue,n.booleanValue);case 2:return function(l,d){const g=xr(l.integerValue||l.doubleValue),_=xr(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1}(i,n);case 3:return iA(i.timestampValue,n.timestampValue);case 4:return iA(Vg(i),Vg(n));case 5:return Ut(i.stringValue,n.stringValue);case 6:return function(l,d){const g=Nf(l),_=Nf(d);return g.compareTo(_)}(i.bytesValue,n.bytesValue);case 7:return function(l,d){const g=l.split("/"),_=d.split("/");for(let C=0;C<g.length&&C<_.length;C++){const T=Ut(g[C],_[C]);if(0!==T)return T}return Ut(g.length,_.length)}(i.referenceValue,n.referenceValue);case 8:return function(l,d){const g=Ut(xr(l.latitude),xr(d.latitude));return 0!==g?g:Ut(xr(l.longitude),xr(d.longitude))}(i.geoPointValue,n.geoPointValue);case 9:return function(l,d){const g=l.values||[],_=d.values||[];for(let C=0;C<g.length&&C<_.length;++C){const T=ua(g[C],_[C]);if(T)return T}return Ut(g.length,_.length)}(i.arrayValue,n.arrayValue);case 10:return function(l,d){const g=l.fields||{},_=Object.keys(g),C=d.fields||{},T=Object.keys(C);_.sort(),T.sort();for(let N=0;N<_.length&&N<T.length;++N){const k=Ut(_[N],T[N]);if(0!==k)return k;const z=ua(g[_[N]],C[T[N]]);if(0!==z)return z}return Ut(_.length,T.length)}(i.mapValue,n.mapValue);default:throw at()}}function iA(i,n){if("string"==typeof i&&"string"==typeof n&&i.length===n.length)return Ut(i,n);const r=la(i),s=la(n),l=Ut(r.seconds,s.seconds);return 0!==l?l:Ut(r.nanos,s.nanos)}function z_(i){return Qw(i)}function Qw(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(s){const l=la(s);return`time(${l.seconds},${l.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Nf(i.bytesValue).toBase64():"referenceValue"in i?lt.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(n=i.geoPointValue).latitude},${n.longitude})`:"arrayValue"in i?function(s){let l="[",d=!0;for(const g of s.values||[])d?d=!1:l+=",",l+=Qw(g);return l+"]"}(i.arrayValue):"mapValue"in i?function(s){const l=Object.keys(s.fields||{}).sort();let d="{",g=!0;for(const _ of l)g?g=!1:d+=",",d+=`${_}:${Qw(s.fields[_])}`;return d+"}"}(i.mapValue):at();var n}function Ug(i,n){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`}}function Jw(i){return!!i&&"integerValue"in i}function q_(i){return!!i&&"arrayValue"in i}function sA(i){return!!i&&"nullValue"in i}function K_(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Y_(i){return!!i&&"mapValue"in i}function Ff(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const n={mapValue:{fields:{}}};return ec(i.mapValue.fields,(r,s)=>n.mapValue.fields[r]=Ff(s)),n}if(i.arrayValue){const n={arrayValue:{values:[]}};for(let r=0;r<(i.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Ff(i.arrayValue.values[r]);return n}return Object.assign({},i)}class bi{constructor(n){this.value=n}static empty(){return new bi({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let r=this.value;for(let s=0;s<n.length-1;++s)if(r=(r.mapValue.fields||{})[n.get(s)],!Y_(r))return null;return r=(r.mapValue.fields||{})[n.lastSegment()],r||null}}set(n,r){this.getFieldsMap(n.popLast())[n.lastSegment()]=Ff(r)}setAll(n){let r=Li.emptyPath(),s={},l=[];n.forEach((g,_)=>{if(!r.isImmediateParentOf(_)){const C=this.getFieldsMap(r);this.applyChanges(C,s,l),s={},l=[],r=_.popLast()}g?s[_.lastSegment()]=Ff(g):l.push(_.lastSegment())});const d=this.getFieldsMap(r);this.applyChanges(d,s,l)}delete(n){const r=this.field(n.popLast());Y_(r)&&r.mapValue.fields&&delete r.mapValue.fields[n.lastSegment()]}isEqual(n){return tl(this.value,n.value)}getFieldsMap(n){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<n.length;++s){let l=r.mapValue.fields[n.get(s)];Y_(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},r.mapValue.fields[n.get(s)]=l),r=l}return r.mapValue.fields}applyChanges(n,r,s){ec(r,(l,d)=>n[l]=d);for(const l of s)delete n[l]}clone(){return new bi(Ff(this.value))}}function oA(i){const n=[];return ec(i.fields,(r,s)=>{const l=new Li([r]);if(Y_(s)){const d=oA(s.mapValue).fields;if(0===d.length)n.push(l);else for(const g of d)n.push(l.child(g))}else n.push(l)}),new Lg(n)}class jn{constructor(n,r,s,l,d){this.key=n,this.documentType=r,this.version=s,this.data=l,this.documentState=d}static newInvalidDocument(n){return new jn(n,0,kt.min(),bi.empty(),0)}static newFoundDocument(n,r,s){return new jn(n,1,r,s,0)}static newNoDocument(n,r){return new jn(n,2,r,bi.empty(),0)}static newUnknownDocument(n,r){return new jn(n,3,r,bi.empty(),2)}convertToFoundDocument(n,r){return this.version=n,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=bi.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=bi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(n){return n instanceof jn&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}clone(){return new jn(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class OT{constructor(n,r=null,s=[],l=[],d=null,g=null,_=null){this.path=n,this.collectionGroup=r,this.orderBy=s,this.filters=l,this.limit=d,this.startAt=g,this.endAt=_,this.A=null}}function Z_(i,n=null,r=[],s=[],l=null,d=null,g=null){return new OT(i,n,r,s,l,d,g)}function jg(i){const n=We(i);if(null===n.A){let r=n.path.canonicalString();null!==n.collectionGroup&&(r+="|cg:"+n.collectionGroup),r+="|f:",r+=n.filters.map(s=>function(i){return i.field.canonicalString()+i.op.toString()+z_(i.value)}(s)).join(","),r+="|ob:",r+=n.orderBy.map(s=>{return(l=s).field.canonicalString()+l.dir;var l}).join(","),Dd(n.limit)||(r+="|l:",r+=n.limit),n.startAt&&(r+="|lb:",r+=J_(n.startAt)),n.endAt&&(r+="|ub:",r+=J_(n.endAt)),n.A=r}return n.A}function W_(i,n){if(i.limit!==n.limit||i.orderBy.length!==n.orderBy.length)return!1;for(let l=0;l<i.orderBy.length;l++)if(!BT(i.orderBy[l],n.orderBy[l]))return!1;if(i.filters.length!==n.filters.length)return!1;for(let l=0;l<i.filters.length;l++)if((r=i.filters[l]).op!==(s=n.filters[l]).op||!r.field.isEqual(s.field)||!tl(r.value,s.value))return!1;var r,s;return i.collectionGroup===n.collectionGroup&&!!i.path.isEqual(n.path)&&!!ev(i.startAt,n.startAt)&&ev(i.endAt,n.endAt)}function Q_(i){return lt.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class ss extends class{}{constructor(n,r,s){super(),this.field=n,this.op=r,this.value=s}static create(n,r,s){return n.isKeyField()?"in"===r||"not-in"===r?this.R(n,r,s):new kT(n,r,s):"array-contains"===r?new uA(n,s):"in"===r?new cA(n,s):"not-in"===r?new LT(n,s):"array-contains-any"===r?new VT(n,s):new ss(n,r,s)}static R(n,r,s){return"in"===r?new FT(n,s):new PT(n,s)}matches(n){const r=n.data.field(this.field);return"!="===this.op?null!==r&&this.P(ua(r,this.value)):null!==r&&tc(this.value)===tc(r)&&this.P(ua(r,this.value))}P(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return 0===n;case"!=":return 0!==n;case">":return n>0;case">=":return n>=0;default:return at()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class kT extends ss{constructor(n,r,s){super(n,r,s),this.key=lt.fromName(s.referenceValue)}matches(n){const r=lt.comparator(n.key,this.key);return this.P(r)}}class FT extends ss{constructor(n,r){super(n,"in",r),this.keys=lA(0,r)}matches(n){return this.keys.some(r=>r.isEqual(n.key))}}class PT extends ss{constructor(n,r){super(n,"not-in",r),this.keys=lA(0,r)}matches(n){return!this.keys.some(r=>r.isEqual(n.key))}}function lA(i,n){var r;return((null===(r=n.arrayValue)||void 0===r?void 0:r.values)||[]).map(s=>lt.fromName(s.referenceValue))}class uA extends ss{constructor(n,r){super(n,"array-contains",r)}matches(n){const r=n.data.field(this.field);return q_(r)&&Bg(r.arrayValue,this.value)}}class cA extends ss{constructor(n,r){super(n,"in",r)}matches(n){const r=n.data.field(this.field);return null!==r&&Bg(this.value.arrayValue,r)}}class LT extends ss{constructor(n,r){super(n,"not-in",r)}matches(n){if(Bg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=n.data.field(this.field);return null!==r&&!Bg(this.value.arrayValue,r)}}class VT extends ss{constructor(n,r){super(n,"array-contains-any",r)}matches(n){const r=n.data.field(this.field);return!(!q_(r)||!r.arrayValue.values)&&r.arrayValue.values.some(s=>Bg(this.value.arrayValue,s))}}class Pf{constructor(n,r){this.position=n,this.before=r}}function J_(i){return`${i.before?"b":"a"}:${i.position.map(n=>z_(n)).join(",")}`}class Lf{constructor(n,r="asc"){this.field=n,this.dir=r}}function BT(i,n){return i.dir===n.dir&&i.field.isEqual(n.field)}function X_(i,n,r){let s=0;for(let l=0;l<i.position.length;l++){const d=n[l],g=i.position[l];if(s=d.field.isKeyField()?lt.comparator(lt.fromName(g.referenceValue),r.key):ua(g,r.data.field(d.field)),"desc"===d.dir&&(s*=-1),0!==s)break}return i.before?s<=0:s<0}function ev(i,n){if(null===i)return null===n;if(null===n||i.before!==n.before||i.position.length!==n.position.length)return!1;for(let r=0;r<i.position.length;r++)if(!tl(i.position[r],n.position[r]))return!1;return!0}class nl{constructor(n,r=null,s=[],l=[],d=null,g="F",_=null,C=null){this.path=n,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=l,this.limit=d,this.limitType=g,this.startAt=_,this.endAt=C,this.V=null,this.S=null}}function tv(i,n,r,s,l,d,g,_){return new nl(i,n,r,s,l,d,g,_)}function Vf(i){return new nl(i)}function nv(i){return!Dd(i.limit)&&"F"===i.limitType}function Bf(i){return!Dd(i.limit)&&"L"===i.limitType}function Xw(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function rv(i){for(const n of i.filters)if(n.v())return n.field;return null}function eE(i){return null!==i.collectionGroup}function Ad(i){const n=We(i);if(null===n.V){n.V=[];const r=rv(n),s=Xw(n);if(null!==r&&null===s)r.isKeyField()||n.V.push(new Lf(r)),n.V.push(new Lf(Li.keyField(),"asc"));else{let l=!1;for(const d of n.explicitOrderBy)n.V.push(d),d.field.isKeyField()&&(l=!0);if(!l){const d=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";n.V.push(new Lf(Li.keyField(),d))}}}return n.V}function Js(i){const n=We(i);if(!n.S)if("F"===n.limitType)n.S=Z_(n.path,n.collectionGroup,Ad(n),n.filters,n.limit,n.startAt,n.endAt);else{const r=[];for(const d of Ad(n))r.push(new Lf(d.field,"desc"===d.dir?"asc":"desc"));const s=n.endAt?new Pf(n.endAt.position,!n.endAt.before):null,l=n.startAt?new Pf(n.startAt.position,!n.startAt.before):null;n.S=Z_(n.path,n.collectionGroup,r,n.filters,n.limit,s,l)}return n.S}function tE(i,n,r){return new nl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),n,r,i.startAt,i.endAt)}function iv(i,n){return W_(Js(i),Js(n))&&i.limitType===n.limitType}function dA(i){return`${jg(Js(i))}|lt:${i.limitType}`}function nc(i){return`Query(target=${function(i){let n=i.path.canonicalString();return null!==i.collectionGroup&&(n+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(n+=`, filters: [${i.filters.map(r=>{return`${(s=r).field.canonicalString()} ${s.op} ${z_(s.value)}`;var s}).join(", ")}]`),Dd(i.limit)||(n+=", limit: "+i.limit),i.orderBy.length>0&&(n+=`, orderBy: [${i.orderBy.map(r=>{return`${(s=r).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),i.startAt&&(n+=", startAt: "+J_(i.startAt)),i.endAt&&(n+=", endAt: "+J_(i.endAt)),`Target(${n})`}(Js(i))}; limitType=${i.limitType})`}function sv(i,n){return n.isFoundDocument()&&function(r,s){const l=s.key.path;return null!==r.collectionGroup?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):lt.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)}(i,n)&&function(r,s){for(const l of r.explicitOrderBy)if(!l.field.isKeyField()&&null===s.data.field(l.field))return!1;return!0}(i,n)&&function(r,s){for(const l of r.filters)if(!l.matches(s))return!1;return!0}(i,n)&&(s=n,!((r=i).startAt&&!X_(r.startAt,Ad(r),s)||r.endAt&&X_(r.endAt,Ad(r),s)));var r,s}function ov(i){return(n,r)=>{let s=!1;for(const l of Ad(i)){const d=av(l,n,r);if(0!==d)return d;s=s||l.field.isKeyField()}return 0}}function av(i,n,r){const s=i.field.isKeyField()?lt.comparator(n.key,r.key):function(l,d,g){const _=d.data.field(l),C=g.data.field(l);return null!==_&&null!==C?ua(_,C):at()}(i.field,n,r);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return at()}}function hA(i,n){if(i.D){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$_(n)?"-0":n}}function Id(i){return{integerValue:""+i}}function fA(i,n){return rA(n)?Id(n):hA(i,n)}class nE{constructor(){this._=void 0}}function UT(i,n,r){return i instanceof Gg?function(s,l){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return l&&(d.fields.__previous_value__=l),{mapValue:d}}(r,n):i instanceof il?pA(i,n):i instanceof xd?jT(i,n):function(s,l){const d=rE(s,l),g=gA(d)+gA(s.C);return Jw(d)&&Jw(s.C)?Id(g):hA(s.N,g)}(i,n)}function rl(i,n,r){return i instanceof il?pA(i,n):i instanceof xd?jT(i,n):r}function rE(i,n){return i instanceof Uf?Jw(r=n)||(s=r)&&"doubleValue"in s?n:{integerValue:0}:null;var s,r}class Gg extends nE{}class il extends nE{constructor(n){super(),this.elements=n}}function pA(i,n){const r=mA(n);for(const s of i.elements)r.some(l=>tl(l,s))||r.push(s);return{arrayValue:{values:r}}}class xd extends nE{constructor(n){super(),this.elements=n}}function jT(i,n){let r=mA(n);for(const s of i.elements)r=r.filter(l=>!tl(l,s));return{arrayValue:{values:r}}}class Uf extends nE{constructor(n,r){super(),this.N=n,this.C=r}}function gA(i){return xr(i.integerValue||i.doubleValue)}function mA(i){return q_(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Sd{constructor(n,r){this.field=n,this.transform=r}}class iE{constructor(n,r){this.version=n,this.transformResults=r}}class yr{constructor(n,r){this.updateTime=n,this.exists=r}static none(){return new yr}static exists(n){return new yr(void 0,n)}static updateTime(n){return new yr(n)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function lv(i,n){return void 0!==i.updateTime?n.isFoundDocument()&&n.version.isEqual(i.updateTime):void 0===i.exists||i.exists===n.isFoundDocument()}class sE{}function GT(i,n,r){i instanceof jf?function(s,l,d){const g=s.value.clone(),_=uE(s.fieldTransforms,l,d.transformResults);g.setAll(_),l.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(i,n,r):i instanceof rc?function(s,l,d){if(!lv(s.precondition,l))return void l.convertToUnknownDocument(d.version);const g=uE(s.fieldTransforms,l,d.transformResults),_=l.data;_.setAll(_A(s)),_.setAll(g),l.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(i,n,r):n.convertToNoDocument(r.version).setHasCommittedMutations()}function oE(i,n,r){var l;i instanceof jf?function(s,l,d){if(!lv(s.precondition,l))return;const g=s.value.clone(),_=Hg(s.fieldTransforms,d,l);g.setAll(_),l.convertToFoundDocument(lE(l),g).setHasLocalMutations()}(i,n,r):i instanceof rc?function(s,l,d){if(!lv(s.precondition,l))return;const g=Hg(s.fieldTransforms,d,l),_=l.data;_.setAll(_A(s)),_.setAll(g),l.convertToFoundDocument(lE(l),_).setHasLocalMutations()}(i,n,r):lv(i.precondition,l=n)&&l.convertToNoDocument(kt.min())}function HT(i,n){let r=null;for(const s of i.fieldTransforms){const l=n.data.field(s.field),d=rE(s.transform,l||null);null!=d&&(null==r&&(r=bi.empty()),r.set(s.field,d))}return r||null}function aE(i,n){return i.type===n.type&&!!i.key.isEqual(n.key)&&!!i.precondition.isEqual(n.precondition)&&(s=n.fieldTransforms,!!(void 0===(r=i.fieldTransforms)&&void 0===s||r&&s&&Rf(r,s,(l,d)=>function(i,n){return i.field.isEqual(n.field)&&(s=n.transform,(r=i.transform)instanceof il&&s instanceof il||r instanceof xd&&s instanceof xd?Rf(r.elements,s.elements,tl):r instanceof Uf&&s instanceof Uf?tl(r.C,s.C):r instanceof Gg&&s instanceof Gg);var r,s}(l,d))))&&(0===i.type?i.value.isEqual(n.value):1!==i.type||i.data.isEqual(n.data)&&i.fieldMask.isEqual(n.fieldMask));var r,s}function lE(i){return i.isFoundDocument()?i.version:kt.min()}class jf extends sE{constructor(n,r,s,l=[]){super(),this.key=n,this.value=r,this.precondition=s,this.fieldTransforms=l,this.type=0}}class rc extends sE{constructor(n,r,s,l,d=[]){super(),this.key=n,this.data=r,this.fieldMask=s,this.precondition=l,this.fieldTransforms=d,this.type=1}}function _A(i){const n=new Map;return i.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const s=i.data.field(r);n.set(r,s)}}),n}function uE(i,n,r){const s=new Map;Dt(i.length===r.length);for(let l=0;l<r.length;l++){const d=i[l],g=d.transform,_=n.data.field(d.field);s.set(d.field,rl(g,_,r[l]))}return s}function Hg(i,n,r){const s=new Map;for(const l of i){const d=l.transform,g=r.data.field(l.field);s.set(l.field,UT(d,g,n))}return s}class $g extends sE{constructor(n,r){super(),this.key=n,this.precondition=r,this.type=2,this.fieldTransforms=[]}}class uv extends sE{constructor(n,r){super(),this.key=n,this.precondition=r,this.type=3,this.fieldTransforms=[]}}class cv{constructor(n){this.count=n}}var Zn,Gt;function vA(i){switch(i){case Ce.OK:return at();case Ce.CANCELLED:case Ce.UNKNOWN:case Ce.DEADLINE_EXCEEDED:case Ce.RESOURCE_EXHAUSTED:case Ce.INTERNAL:case Ce.UNAVAILABLE:case Ce.UNAUTHENTICATED:return!1;case Ce.INVALID_ARGUMENT:case Ce.NOT_FOUND:case Ce.ALREADY_EXISTS:case Ce.PERMISSION_DENIED:case Ce.FAILED_PRECONDITION:case Ce.ABORTED:case Ce.OUT_OF_RANGE:case Ce.UNIMPLEMENTED:case Ce.DATA_LOSS:return!0;default:return at()}}function bA(i){if(void 0===i)return nr("GRPC error has no .code"),Ce.UNKNOWN;switch(i){case Zn.OK:return Ce.OK;case Zn.CANCELLED:return Ce.CANCELLED;case Zn.UNKNOWN:return Ce.UNKNOWN;case Zn.DEADLINE_EXCEEDED:return Ce.DEADLINE_EXCEEDED;case Zn.RESOURCE_EXHAUSTED:return Ce.RESOURCE_EXHAUSTED;case Zn.INTERNAL:return Ce.INTERNAL;case Zn.UNAVAILABLE:return Ce.UNAVAILABLE;case Zn.UNAUTHENTICATED:return Ce.UNAUTHENTICATED;case Zn.INVALID_ARGUMENT:return Ce.INVALID_ARGUMENT;case Zn.NOT_FOUND:return Ce.NOT_FOUND;case Zn.ALREADY_EXISTS:return Ce.ALREADY_EXISTS;case Zn.PERMISSION_DENIED:return Ce.PERMISSION_DENIED;case Zn.FAILED_PRECONDITION:return Ce.FAILED_PRECONDITION;case Zn.ABORTED:return Ce.ABORTED;case Zn.OUT_OF_RANGE:return Ce.OUT_OF_RANGE;case Zn.UNIMPLEMENTED:return Ce.UNIMPLEMENTED;case Zn.DATA_LOSS:return Ce.DATA_LOSS;default:return at()}}(Gt=Zn||(Zn={}))[Gt.OK=0]="OK",Gt[Gt.CANCELLED=1]="CANCELLED",Gt[Gt.UNKNOWN=2]="UNKNOWN",Gt[Gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Gt[Gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Gt[Gt.NOT_FOUND=5]="NOT_FOUND",Gt[Gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Gt[Gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Gt[Gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Gt[Gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Gt[Gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Gt[Gt.ABORTED=10]="ABORTED",Gt[Gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Gt[Gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Gt[Gt.INTERNAL=13]="INTERNAL",Gt[Gt.UNAVAILABLE=14]="UNAVAILABLE",Gt[Gt.DATA_LOSS=15]="DATA_LOSS";class Jr{constructor(n,r){this.comparator=n,this.root=r||wi.EMPTY}insert(n,r){return new Jr(this.comparator,this.root.insert(n,r,this.comparator).copy(null,null,wi.BLACK,null,null))}remove(n){return new Jr(this.comparator,this.root.remove(n,this.comparator).copy(null,null,wi.BLACK,null,null))}get(n){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(n,r.key);if(0===s)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(n){let r=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(n,s.key);if(0===l)return r+s.left.size;l<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal((r,s)=>(n(r,s),!1))}toString(){const n=[];return this.inorderTraversal((r,s)=>(n.push(`${r}:${s}`),!1)),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new dv(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new dv(this.root,n,this.comparator,!1)}getReverseIterator(){return new dv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new dv(this.root,n,this.comparator,!0)}}class dv{constructor(n,r,s,l){this.isReverse=l,this.nodeStack=[];let d=1;for(;!n.isEmpty();)if(d=r?s(n.key,r):1,l&&(d*=-1),d<0)n=this.isReverse?n.left:n.right;else{if(0===d){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const r={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class wi{constructor(n,r,s,l,d){this.key=n,this.value=r,this.color=null!=s?s:wi.RED,this.left=null!=l?l:wi.EMPTY,this.right=null!=d?d:wi.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,r,s,l,d){return new wi(null!=n?n:this.key,null!=r?r:this.value,null!=s?s:this.color,null!=l?l:this.left,null!=d?d:this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,s){let l=this;const d=s(n,l.key);return l=d<0?l.copy(null,null,null,l.left.insert(n,r,s),null):0===d?l.copy(null,r,null,null,null):l.copy(null,null,null,null,l.right.insert(n,r,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return wi.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,r){let s,l=this;if(r(n,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(n,r),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===r(n,l.key)){if(l.right.isEmpty())return wi.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(n,r))}return l.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,wi.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,wi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw at();const n=this.left.check();if(n!==this.right.check())throw at();return n+(this.isRed()?0:1)}}wi.EMPTY=null,wi.RED=!0,wi.BLACK=!1,wi.EMPTY=new class{constructor(){this.size=0}get key(){throw at()}get value(){throw at()}get color(){throw at()}get left(){throw at()}get right(){throw at()}copy(i,n,r,s,l){return this}insert(i,n,r){return new wi(i,n)}remove(i,n){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ir{constructor(n){this.comparator=n,this.data=new Jr(this.comparator)}has(n){return null!==this.data.get(n)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal((r,s)=>(n(r),!1))}forEachInRange(n,r){const s=this.data.getIteratorFrom(n[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,n[1])>=0)return;r(l.key)}}forEachWhile(n,r){let s;for(s=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!n(s.getNext().key))return}firstAfterOrEqual(n){const r=this.data.getIteratorFrom(n);return r.hasNext()?r.getNext().key:null}getIterator(){return new wA(this.data.getIterator())}getIteratorFrom(n){return new wA(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let r=this;return r.size<n.size&&(r=n,n=this),n.forEach(s=>{r=r.add(s)}),r}isEqual(n){if(!(n instanceof ir)||this.size!==n.size)return!1;const r=this.data.getIterator(),s=n.data.getIterator();for(;r.hasNext();){const l=r.getNext().key,d=s.getNext().key;if(0!==this.comparator(l,d))return!1}return!0}toArray(){const n=[];return this.forEach(r=>{n.push(r)}),n}toString(){const n=[];return this.forEach(r=>n.push(r)),"SortedSet("+n.toString()+")"}copy(n){const r=new ir(this.comparator);return r.data=n,r}}class wA{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const $T=new Jr(lt.comparator);function Io(){return $T}const zT=new Jr(lt.comparator);function cE(){return zT}const qT=new Jr(lt.comparator);function KT(){return qT}const YT=new ir(lt.comparator);function Xt(...i){let n=YT;for(const r of i)n=n.add(r);return n}const ZT=new ir(Ut);function hv(){return ZT}class zg{constructor(n,r,s,l,d){this.snapshotVersion=n,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(n,r){const s=new Map;return s.set(n,ic.createSynthesizedTargetChangeForCurrentChange(n,r)),new zg(kt.min(),s,hv(),Io(),Xt())}}class ic{constructor(n,r,s,l,d){this.resumeToken=n,this.current=r,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(n,r){return new ic(vi.EMPTY_BYTE_STRING,r,Xt(),Xt(),Xt())}}class sl{constructor(n,r,s,l){this.k=n,this.removedTargetIds=r,this.key=s,this.$=l}}class dE{constructor(n,r){this.targetId=n,this.O=r}}class EA{constructor(n,r,s=vi.EMPTY_BYTE_STRING,l=null){this.state=n,this.targetIds=r,this.resumeToken=s,this.cause=l}}class WT{constructor(){this.F=0,this.M=CA(),this.L=vi.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(n){n.approximateByteSize()>0&&(this.U=!0,this.L=n)}W(){let n=Xt(),r=Xt(),s=Xt();return this.M.forEach((l,d)=>{switch(d){case 0:n=n.add(l);break;case 2:r=r.add(l);break;case 1:s=s.add(l);break;default:at()}}),new ic(this.L,this.B,n,r,s)}G(){this.U=!1,this.M=CA()}H(n,r){this.U=!0,this.M=this.M.insert(n,r)}J(n){this.U=!0,this.M=this.M.remove(n)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class QT{constructor(n){this.tt=n,this.et=new Map,this.nt=Io(),this.st=qg(),this.it=new ir(Ut)}rt(n){for(const r of n.k)n.$&&n.$.isFoundDocument()?this.ot(r,n.$):this.at(r,n.key,n.$);for(const r of n.removedTargetIds)this.at(r,n.key,n.$)}ct(n){this.forEachTarget(n,r=>{const s=this.ut(r);switch(n.state){case 0:this.ht(r)&&s.j(n.resumeToken);break;case 1:s.X(),s.q||s.G(),s.j(n.resumeToken);break;case 2:s.X(),s.q||this.removeTarget(r);break;case 3:this.ht(r)&&(s.Z(),s.j(n.resumeToken));break;case 4:this.ht(r)&&(this.lt(r),s.j(n.resumeToken));break;default:at()}})}forEachTarget(n,r){n.targetIds.length>0?n.targetIds.forEach(r):this.et.forEach((s,l)=>{this.ht(l)&&r(l)})}ft(n){const r=n.targetId,s=n.O.count,l=this.dt(r);if(l){const d=l.target;if(Q_(d))if(0===s){const g=new lt(d.path);this.at(r,g,jn.newNoDocument(g,kt.min()))}else Dt(1===s);else this.wt(r)!==s&&(this.lt(r),this.it=this.it.add(r))}}_t(n){const r=new Map;this.et.forEach((d,g)=>{const _=this.dt(g);if(_){if(d.current&&Q_(_.target)){const C=new lt(_.target.path);null!==this.nt.get(C)||this.gt(g,C)||this.at(g,C,jn.newNoDocument(C,n))}d.K&&(r.set(g,d.W()),d.G())}});let s=Xt();this.st.forEach((d,g)=>{let _=!0;g.forEachWhile(C=>{const T=this.dt(C);return!T||2===T.purpose||(_=!1,!1)}),_&&(s=s.add(d))});const l=new zg(n,r,this.it,this.nt,s);return this.nt=Io(),this.st=qg(),this.it=new ir(Ut),l}ot(n,r){if(!this.ht(n))return;const s=this.gt(n,r.key)?2:0;this.ut(n).H(r.key,s),this.nt=this.nt.insert(r.key,r),this.st=this.st.insert(r.key,this.yt(r.key).add(n))}at(n,r,s){if(!this.ht(n))return;const l=this.ut(n);this.gt(n,r)?l.H(r,1):l.J(r),this.st=this.st.insert(r,this.yt(r).delete(n)),s&&(this.nt=this.nt.insert(r,s))}removeTarget(n){this.et.delete(n)}wt(n){const r=this.ut(n).W();return this.tt.getRemoteKeysForTarget(n).size+r.addedDocuments.size-r.removedDocuments.size}Y(n){this.ut(n).Y()}ut(n){let r=this.et.get(n);return r||(r=new WT,this.et.set(n,r)),r}yt(n){let r=this.st.get(n);return r||(r=new ir(Ut),this.st=this.st.insert(n,r)),r}ht(n){const r=null!==this.dt(n);return r||qe("WatchChangeAggregator","Detected inactive target",n),r}dt(n){const r=this.et.get(n);return r&&r.q?null:this.tt.Et(n)}lt(n){this.et.set(n,new WT),this.tt.getRemoteKeysForTarget(n).forEach(r=>{this.at(n,r,null)})}gt(n,r){return this.tt.getRemoteKeysForTarget(n).has(r)}}function qg(){return new Jr(lt.comparator)}function CA(){return new Jr(lt.comparator)}const JT={asc:"ASCENDING",desc:"DESCENDING"},DA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class AA{constructor(n,r){this.databaseId=n,this.D=r}}function Td(i,n){return i.D?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function hE(i,n){return i.D?n.toBase64():n.toUint8Array()}function IA(i,n){return Td(i,n.toTimestamp())}function Xr(i){return Dt(!!i),kt.fromTimestamp(function(n){const r=la(n);return new Qr(r.seconds,r.nanos)}(i))}function fE(i,n){return(r=i,new sn(["projects",r.projectId,"databases",r.database])).child("documents").child(n).canonicalString();var r}function pE(i){const n=sn.fromString(i);return Dt(gv(n)),n}function Kg(i,n){return fE(i.databaseId,n.path)}function ca(i,n){const r=pE(n);if(r.get(1)!==i.databaseId.projectId)throw new Ue(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+i.databaseId.projectId);if(r.get(3)!==i.databaseId.database)throw new Ue(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+i.databaseId.database);return new lt(Hf(r))}function Gf(i,n){return fE(i.databaseId,n)}function Yg(i){const n=pE(i);return 4===n.length?sn.emptyPath():Hf(n)}function fv(i){return new sn(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Hf(i){return Dt(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function on(i,n,r){return{name:Kg(i,n),fields:r.value.mapValue.fields}}function iu(i,n,r){const s=ca(i,n.name),l=Xr(n.updateTime),d=new bi({mapValue:{fields:n.fields}}),g=jn.newFoundDocument(s,l,d);return r&&g.setHasCommittedMutations(),r?g.setHasCommittedMutations():g}function gE(i,n){let r;if(n instanceof jf)r={update:on(i,n.key,n.value)};else if(n instanceof $g)r={delete:Kg(i,n.key)};else if(n instanceof rc)r={update:on(i,n.key,n.data),updateMask:MA(n.fieldMask)};else{if(!(n instanceof uv))return at();r={verify:Kg(i,n.key)}}return n.fieldTransforms.length>0&&(r.updateTransforms=n.fieldTransforms.map(s=>function(l,d){const g=d.transform;if(g instanceof Gg)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof il)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof xd)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Uf)return{fieldPath:d.field.canonicalString(),increment:g.C};throw at()}(0,s))),n.precondition.isNone||(r.currentDocument=void 0!==(l=n.precondition).updateTime?{updateTime:IA(i,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:at()),r;var l}function Mt(i,n){const r=n.currentDocument?void 0!==(l=n.currentDocument).updateTime?yr.updateTime(Xr(l.updateTime)):void 0!==l.exists?yr.exists(l.exists):yr.none():yr.none(),s=n.updateTransforms?n.updateTransforms.map(l=>function(d,g){let _=null;"setToServerValue"in g?(Dt("REQUEST_TIME"===g.setToServerValue),_=new Gg):"appendMissingElements"in g?_=new il(g.appendMissingElements.values||[]):"removeAllFromArray"in g?_=new xd(g.removeAllFromArray.values||[]):"increment"in g?_=new Uf(d,g.increment):at();const C=Li.fromServerFormat(g.fieldPath);return new Sd(C,_)}(i,l)):[];var l;if(n.update){const l=ca(i,n.update.name),d=new bi({mapValue:{fields:n.update.fields}});if(n.updateMask){const g=new Lg((n.updateMask.fieldPaths||[]).map(T=>Li.fromServerFormat(T)));return new rc(l,d,g,r,s)}return new jf(l,d,r,s)}if(n.delete){const l=ca(i,n.delete);return new $g(l,r)}if(n.verify){const l=ca(i,n.verify);return new uv(l,r)}return at()}function pv(i,n){return{documents:[Gf(i,n.path)]}}function sc(i,n){const r={structuredQuery:{}},s=n.path;null!==n.collectionGroup?(r.parent=Gf(i,s),r.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(r.parent=Gf(i,s.popLast()),r.structuredQuery.from=[{collectionId:s.lastSegment()}]);const l=function(_){if(0===_.length)return;const C=_.map(T=>function(N){if("=="===N.op){if(K_(N.value))return{unaryFilter:{field:bn(N.field),op:"IS_NAN"}};if(sA(N.value))return{unaryFilter:{field:bn(N.field),op:"IS_NULL"}}}else if("!="===N.op){if(K_(N.value))return{unaryFilter:{field:bn(N.field),op:"IS_NOT_NAN"}};if(sA(N.value))return{unaryFilter:{field:bn(N.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bn(N.field),op:So(N.op),value:N.value}}}(T));return 1===C.length?C[0]:{compositeFilter:{op:"AND",filters:C}}}(n.filters);l&&(r.structuredQuery.where=l);const d=function(_){if(0!==_.length)return _.map(C=>{return{field:bn((T=C).field),direction:tM(T.dir)};var T})}(n.orderBy);d&&(r.structuredQuery.orderBy=d);const g=(C=n.limit,i.D||Dd(C)?C:{value:C});var C;return null!==g&&(r.structuredQuery.limit=g),n.startAt&&(r.structuredQuery.startAt=eM(n.startAt)),n.endAt&&(r.structuredQuery.endAt=eM(n.endAt)),r}function XT(i){let n=Yg(i.parent);const r=i.structuredQuery,s=r.from?r.from.length:0;let l=null;if(s>0){Dt(1===s);const N=r.from[0];N.allDescendants?l=N.collectionId:n=n.child(N.collectionId)}let d=[];r.where&&(d=mE(r.where));let g=[];r.orderBy&&(g=r.orderBy.map(N=>{return new Lf(Vi((k=N).field),function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction));var k}));let _=null;r.limit&&(_=function(N){let k;return k="object"==typeof N?N.value:N,Dd(k)?null:k}(r.limit));let C=null;r.startAt&&(C=SA(r.startAt));let T=null;return r.endAt&&(T=SA(r.endAt)),tv(n,l,g,d,_,"F",C,T)}function mE(i){return i?void 0!==i.unaryFilter?[nM(i)]:void 0!==i.fieldFilter?[TA(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(n=>mE(n)).reduce((n,r)=>n.concat(r)):at():[]}function eM(i){return{before:i.before,values:i.position}}function SA(i){return new Pf(i.values||[],!!i.before)}function tM(i){return JT[i]}function So(i){return DA[i]}function bn(i){return{fieldPath:i.canonicalString()}}function Vi(i){return Li.fromServerFormat(i.fieldPath)}function TA(i){return ss.create(Vi(i.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return at()}}(i.fieldFilter.op),i.fieldFilter.value)}function nM(i){switch(i.unaryFilter.op){case"IS_NAN":const n=Vi(i.unaryFilter.field);return ss.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Vi(i.unaryFilter.field);return ss.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Vi(i.unaryFilter.field);return ss.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Vi(i.unaryFilter.field);return ss.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return at()}}function MA(i){const n=[];return i.fields.forEach(r=>n.push(r.canonicalString())),{fieldPaths:n}}function gv(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function Bi(i){let n="";for(let r=0;r<i.length;r++)n.length>0&&(n=RA(n)),n=Wg(i.get(r),n);return RA(n)}function Wg(i,n){let r=n;const s=i.length;for(let l=0;l<s;l++){const d=i.charAt(l);switch(d){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=d}}return r}function RA(i){return i+"\x01\x01"}function os(i){const n=i.length;if(Dt(n>=2),2===n)return Dt("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),sn.emptyPath();const r=n-2,s=[];let l="";for(let d=0;d<n;){const g=i.indexOf("\x01",d);switch((g<0||g>r)&&at(),i.charAt(g+1)){case"\x01":const _=i.substring(d,g);let C;0===l.length?C=_:(l+=_,C=l,l=""),s.push(C);break;case"\x10":l+=i.substring(d,g),l+="\0";break;case"\x11":l+=i.substring(d,g+1);break;default:at()}d=g+2}return new sn(s)}class rM{constructor(n,r){this.seconds=n,this.nanoseconds=r}}class Ss{constructor(n,r,s){this.ownerId=n,this.allowTabSynchronization=r,this.leaseTimestampMs=s}}Ss.store="owner",Ss.key="owner";class ol{constructor(n,r,s){this.userId=n,this.lastAcknowledgedBatchId=r,this.lastStreamToken=s}}ol.store="mutationQueues",ol.keyPath="userId";class pn{constructor(n,r,s,l,d){this.userId=n,this.batchId=r,this.localWriteTimeMs=s,this.baseMutations=l,this.mutations=d}}pn.store="mutations",pn.keyPath="batchId",pn.userMutationsIndex="userMutationsIndex",pn.userMutationsKeyPath=["userId","batchId"];class ei{constructor(){}static prefixForUser(n){return[n]}static prefixForPath(n,r){return[n,Bi(r)]}static key(n,r,s){return[n,Bi(r),s]}}ei.store="documentMutations",ei.PLACEHOLDER=new ei;class OA{constructor(n,r){this.path=n,this.readTime=r}}class zf{constructor(n,r){this.path=n,this.version=r}}class sr{constructor(n,r,s,l,d,g){this.unknownDocument=n,this.noDocument=r,this.document=s,this.hasCommittedMutations=l,this.readTime=d,this.parentPath=g}}sr.store="remoteDocuments",sr.readTimeIndex="readTimeIndex",sr.readTimeIndexPath="readTime",sr.collectionReadTimeIndex="collectionReadTimeIndex",sr.collectionReadTimeIndexPath=["parentPath","readTime"];class Xs{constructor(n){this.byteSize=n}}Xs.store="remoteDocumentGlobal",Xs.key="remoteDocumentGlobalKey";class as{constructor(n,r,s,l,d,g,_){this.targetId=n,this.canonicalId=r,this.readTime=s,this.resumeToken=l,this.lastListenSequenceNumber=d,this.lastLimboFreeSnapshotVersion=g,this.query=_}}as.store="targets",as.keyPath="targetId",as.queryTargetsIndexName="queryTargetsIndex",as.queryTargetsKeyPath=["canonicalId","targetId"];class ti{constructor(n,r,s){this.targetId=n,this.path=r,this.sequenceNumber=s}}ti.store="targetDocuments",ti.keyPath=["targetId","path"],ti.documentTargetsIndex="documentTargetsIndex",ti.documentTargetsKeyPath=["path","targetId"];class Ts{constructor(n,r,s,l){this.highestTargetId=n,this.highestListenSequenceNumber=r,this.lastRemoteSnapshotVersion=s,this.targetCount=l}}Ts.key="targetGlobalKey",Ts.store="targetGlobal";class al{constructor(n,r){this.collectionId=n,this.parent=r}}al.store="collectionParents",al.keyPath=["collectionId","parent"];class su{constructor(n,r,s,l){this.clientId=n,this.updateTimeMs=r,this.networkEnabled=s,this.inForeground=l}}su.store="clientMetadata",su.keyPath="clientId";class oc{constructor(n,r,s){this.bundleId=n,this.createTime=r,this.version=s}}oc.store="bundles",oc.keyPath="bundleId";class ac{constructor(n,r,s){this.name=n,this.readTime=r,this.bundledQuery=s}}ac.store="namedQueries",ac.keyPath="name";const wN=[ol.store,pn.store,ei.store,sr.store,as.store,Ss.store,Ts.store,ti.store,su.store,Xs.store,al.store,oc.store,ac.store],iM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xt{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(n=>n())}}class Be{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(n){return this.next(void 0,n)}next(n,r){return this.callbackAttached&&at(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(n,this.result):new Be((s,l)=>{this.nextCallback=d=>{this.wrapSuccess(n,d).next(s,l)},this.catchCallback=d=>{this.wrapFailure(r,d).next(s,l)}})}toPromise(){return new Promise((n,r)=>{this.next(n,r)})}wrapUserFunction(n){try{const r=n();return r instanceof Be?r:Be.resolve(r)}catch(r){return Be.reject(r)}}wrapSuccess(n,r){return n?this.wrapUserFunction(()=>n(r)):Be.resolve(r)}wrapFailure(n,r){return n?this.wrapUserFunction(()=>n(r)):Be.reject(r)}static resolve(n){return new Be((r,s)=>{r(n)})}static reject(n){return new Be((r,s)=>{s(n)})}static waitFor(n){return new Be((r,s)=>{let l=0,d=0,g=!1;n.forEach(_=>{++l,_.next(()=>{++d,g&&d===l&&r()},C=>s(C))}),g=!0,d===l&&r()})}static or(n){let r=Be.resolve(!1);for(const s of n)r=r.next(l=>l?Be.resolve(l):s());return r}static forEach(n,r){const s=[];return n.forEach((l,d)=>{s.push(r.call(this,l,d))}),this.waitFor(s)}}class lc{constructor(n,r){this.action=n,this.transaction=r,this.aborted=!1,this.Tt=new rr,this.transaction.oncomplete=()=>{this.Tt.resolve()},this.transaction.onabort=()=>{r.error?this.Tt.reject(new Qg(n,r.error)):this.Tt.resolve()},this.transaction.onerror=s=>{const l=yE(s.target.error);this.Tt.reject(new Qg(n,l))}}static open(n,r,s,l){try{return new lc(r,n.transaction(l,s))}catch(d){throw new Qg(r,d)}}get It(){return this.Tt.promise}abort(n){n&&this.Tt.reject(n),this.aborted||(qe("SimpleDb","Aborting transaction:",n?n.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(n){const r=this.transaction.objectStore(n);return new EN(r)}}class da{constructor(n,r,s){this.name=n,this.version=r,this.At=s,12.2===da.Rt((0,jt.z$)())&&nr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(n){return qe("SimpleDb","Removing database:",n),Md(window.indexedDB.deleteDatabase(n)).toPromise()}static bt(){if(!(0,jt.hl)())return!1;if(da.Pt())return!0;const n=(0,jt.z$)(),r=da.Rt(n),s=0<r&&r<10,l=da.vt(n),d=0<l&&l<4.5;return!(n.indexOf("MSIE ")>0||n.indexOf("Trident/")>0||n.indexOf("Edge/")>0||s||d)}static Pt(){var n;return"undefined"!=typeof process&&"YES"===(null===(n=process.env)||void 0===n?void 0:n.Vt)}static St(n,r){return n.store(r)}static Rt(n){const r=n.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static vt(n){const r=n.match(/Android ([\d.]+)/i),s=r?r[1].split(".").slice(0,2).join("."):"-1";return Number(s)}Dt(n){var r=this;return(0,Te.Z)(function*(){return r.db||(qe("SimpleDb","Opening database:",r.name),r.db=yield new Promise((s,l)=>{const d=indexedDB.open(r.name,r.version);d.onsuccess=g=>{s(g.target.result)},d.onblocked=()=>{l(new Qg(n,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},d.onerror=g=>{const _=g.target.error;l("VersionError"===_.name?new Ue(Ce.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===_.name?new Ue(Ce.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+_):new Qg(n,_))},d.onupgradeneeded=g=>{qe("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',g.oldVersion),r.At.Ct(g.target.result,d.transaction,g.oldVersion,r.version).next(()=>{qe("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.Nt&&(r.db.onversionchange=s=>r.Nt(s)),r.db})()}xt(n){this.Nt=n,this.db&&(this.db.onversionchange=r=>n(r))}runTransaction(n,r,s,l){var d=this;return(0,Te.Z)(function*(){const g="readonly"===r;let _=0;for(;;){++_;try{d.db=yield d.Dt(n);const C=lc.open(d.db,n,g?"readonly":"readwrite",s),T=l(C).catch(N=>(C.abort(N),Be.reject(N))).toPromise();return T.catch(()=>{}),yield C.It,T}catch(C){const T="FirebaseError"!==C.name&&_<3;if(qe("SimpleDb","Transaction failed with error:",C.message,"Retrying:",T),d.close(),!T)return Promise.reject(C)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class sM{constructor(n){this.kt=n,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(n){this.kt=n}done(){this.$t=!0}Mt(n){this.Ot=n}delete(){return Md(this.kt.delete())}}class Qg extends Ue{constructor(n,r){super(Ce.UNAVAILABLE,`IndexedDB transaction '${n}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function qf(i){return"IndexedDbTransactionError"===i.name}class EN{constructor(n){this.store=n}put(n,r){let s;return void 0!==r?(qe("SimpleDb","PUT",this.store.name,n,r),s=this.store.put(r,n)):(qe("SimpleDb","PUT",this.store.name,"<auto-key>",n),s=this.store.put(n)),Md(s)}add(n){return qe("SimpleDb","ADD",this.store.name,n,n),Md(this.store.add(n))}get(n){return Md(this.store.get(n)).next(r=>(void 0===r&&(r=null),qe("SimpleDb","GET",this.store.name,n,r),r))}delete(n){return qe("SimpleDb","DELETE",this.store.name,n),Md(this.store.delete(n))}count(){return qe("SimpleDb","COUNT",this.store.name),Md(this.store.count())}Lt(n,r){const s=this.cursor(this.options(n,r)),l=[];return this.Bt(s,(d,g)=>{l.push(g)}).next(()=>l)}Ut(n,r){qe("SimpleDb","DELETE ALL",this.store.name);const s=this.options(n,r);s.qt=!1;const l=this.cursor(s);return this.Bt(l,(d,g,_)=>_.delete())}Kt(n,r){let s;r?s=n:(s={},r=n);const l=this.cursor(s);return this.Bt(l,r)}jt(n){const r=this.cursor({});return new Be((s,l)=>{r.onerror=d=>{const g=yE(d.target.error);l(g)},r.onsuccess=d=>{const g=d.target.result;g?n(g.primaryKey,g.value).next(_=>{_?g.continue():s()}):s()}})}Bt(n,r){const s=[];return new Be((l,d)=>{n.onerror=g=>{d(g.target.error)},n.onsuccess=g=>{const _=g.target.result;if(!_)return void l();const C=new sM(_),T=r(_.primaryKey,_.value,C);if(T instanceof Be){const N=T.catch(k=>(C.done(),Be.reject(k)));s.push(N)}C.isDone?l():null===C.Ft?_.continue():_.continue(C.Ft)}}).next(()=>Be.waitFor(s))}options(n,r){let s;return void 0!==n&&("string"==typeof n?s=n:r=n),{index:s,range:r}}cursor(n){let r="next";if(n.reverse&&(r="prev"),n.index){const s=this.store.index(n.index);return n.qt?s.openKeyCursor(n.range,r):s.openCursor(n.range,r)}return this.store.openCursor(n.range,r)}}function Md(i){return new Be((n,r)=>{i.onsuccess=s=>{n(s.target.result)},i.onerror=s=>{const l=yE(s.target.error);r(l)}})}let Ei=!1;function yE(i){const n=da.Rt((0,jt.z$)());if(n>=12.2&&n<13){const r="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(r)>=0){const s=new Ue("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ei||(Ei=!0,setTimeout(()=>{throw s},0)),s}}return i}class NA extends xt{constructor(n,r){super(),this.Qt=n,this.currentSequenceNumber=r}}function Ui(i,n){const r=We(i);return da.St(r.Qt,n)}class _E{constructor(n,r,s,l){this.batchId=n,this.localWriteTime=r,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(n,r){const s=r.mutationResults;for(let l=0;l<this.mutations.length;l++){const d=this.mutations[l];d.key.isEqual(n.key)&&GT(d,n,s[l])}}applyToLocalView(n){for(const r of this.baseMutations)r.key.isEqual(n.key)&&oE(r,n,this.localWriteTime);for(const r of this.mutations)r.key.isEqual(n.key)&&oE(r,n,this.localWriteTime)}applyToLocalDocumentSet(n){this.mutations.forEach(r=>{const s=n.get(r.key),l=s;this.applyToLocalView(l),s.isValidDocument()||l.convertToNoDocument(kt.min())})}keys(){return this.mutations.reduce((n,r)=>n.add(r.key),Xt())}isEqual(n){return this.batchId===n.batchId&&Rf(this.mutations,n.mutations,(r,s)=>aE(r,s))&&Rf(this.baseMutations,n.baseMutations,(r,s)=>aE(r,s))}}class vE{constructor(n,r,s,l){this.batch=n,this.commitVersion=r,this.mutationResults=s,this.docVersions=l}static from(n,r,s){Dt(n.mutations.length===s.length);let l=KT();const d=n.mutations;for(let g=0;g<d.length;g++)l=l.insert(d[g].key,s[g].version);return new vE(n,r,s,l)}}class uc{constructor(n,r,s,l,d=kt.min(),g=kt.min(),_=vi.EMPTY_BYTE_STRING){this.target=n,this.targetId=r,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=g,this.resumeToken=_}withSequenceNumber(n){return new uc(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(n,r){return new uc(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,n)}withLastLimboFreeSnapshotVersion(n){return new uc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken)}}class kA{constructor(n){this.Wt=n}}function bE(i,n){if(n.document)return iu(i.Wt,n.document,!!n.hasCommittedMutations);if(n.noDocument){const r=lt.fromSegments(n.noDocument.path),s=Rd(n.noDocument.readTime),l=jn.newNoDocument(r,s);return n.hasCommittedMutations?l.setHasCommittedMutations():l}if(n.unknownDocument){const r=lt.fromSegments(n.unknownDocument.path),s=Rd(n.unknownDocument.version);return jn.newUnknownDocument(r,s)}return at()}function FA(i,n,r){const s=Jg(r),l=n.key.path.popLast().toArray();if(n.isFoundDocument()){const d={name:Kg(_=i.Wt,(C=n).key),fields:C.data.value.mapValue.fields,updateTime:Td(_,C.version.toTimestamp())};return new sr(null,null,d,n.hasCommittedMutations,s,l)}var _,C;if(n.isNoDocument()){const d=n.key.path.toArray(),g=Kf(n.version),_=n.hasCommittedMutations;return new sr(null,new OA(d,g),null,_,s,l)}if(n.isUnknownDocument()){const d=n.key.path.toArray(),g=Kf(n.version);return new sr(new zf(d,g),null,null,!0,s,l)}return at()}function Jg(i){const n=i.toTimestamp();return[n.seconds,n.nanoseconds]}function PA(i){const n=new Qr(i[0],i[1]);return kt.fromTimestamp(n)}function Kf(i){const n=i.toTimestamp();return new rM(n.seconds,n.nanoseconds)}function Rd(i){const n=new Qr(i.seconds,i.nanoseconds);return kt.fromTimestamp(n)}function cc(i,n){const r=(n.baseMutations||[]).map(d=>Mt(i.Wt,d));for(let d=0;d<n.mutations.length-1;++d){const g=n.mutations[d];d+1<n.mutations.length&&void 0!==n.mutations[d+1].transform&&(g.updateTransforms=n.mutations[d+1].transform.fieldTransforms,n.mutations.splice(d+1,1),++d)}const s=n.mutations.map(d=>Mt(i.Wt,d)),l=Qr.fromMillis(n.localWriteTimeMs);return new _E(n.batchId,l,r,s)}function Xg(i){const n=Rd(i.readTime),r=void 0!==i.lastLimboFreeSnapshotVersion?Rd(i.lastLimboFreeSnapshotVersion):kt.min();let s;var l;return void 0!==i.query.documents?(Dt(1===(l=i.query).documents.length),s=Js(Vf(Yg(l.documents[0])))):s=Js(XT(i.query)),new uc(s,i.targetId,0,i.lastListenSequenceNumber,n,r,vi.fromBase64String(i.resumeToken))}function oM(i,n){const r=Kf(n.snapshotVersion),s=Kf(n.lastLimboFreeSnapshotVersion);let l;l=Q_(n.target)?pv(i.Wt,n.target):sc(i.Wt,n.target);const d=n.resumeToken.toBase64();return new as(n.targetId,jg(n.target),r,d,n.sequenceNumber,s,l)}function wE(i){const n=XT({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?tE(n,n.limit,"L"):n}class aM{getBundleMetadata(n,r){return LA(n).get(r).next(s=>{if(s)return{id:(l=s).bundleId,createTime:Rd(l.createTime),version:l.version};var l})}saveBundleMetadata(n,r){return LA(n).put({bundleId:(s=r).id,createTime:Kf(Xr(s.createTime)),version:s.version});var s}getNamedQuery(n,r){return VA(n).get(r).next(s=>{if(s)return{name:(l=s).name,query:wE(l.bundledQuery),readTime:Rd(l.readTime)};var l})}saveNamedQuery(n,r){return VA(n).put({name:(s=r).name,readTime:Kf(Xr(s.readTime)),bundledQuery:s.bundledQuery});var s}}function LA(i){return Ui(i,oc.store)}function VA(i){return Ui(i,ac.store)}class lM{constructor(){this.Gt=new EE}addToCollectionParentIndex(n,r){return this.Gt.add(r),Be.resolve()}getCollectionParents(n,r){return Be.resolve(this.Gt.getEntries(r))}}class EE{constructor(){this.index={}}add(n){const r=n.lastSegment(),s=n.popLast(),l=this.index[r]||new ir(sn.comparator),d=!l.has(s);return this.index[r]=l.add(s),d}has(n){const r=n.lastSegment(),s=n.popLast(),l=this.index[r];return l&&l.has(s)}getEntries(n){return(this.index[n]||new ir(sn.comparator)).toArray()}}class em{constructor(){this.zt=new EE}addToCollectionParentIndex(n,r){if(!this.zt.has(r)){const s=r.lastSegment(),l=r.popLast();n.addOnCommittedListener(()=>{this.zt.add(r)});const d={collectionId:s,parent:Bi(l)};return BA(n).put(d)}return Be.resolve()}getCollectionParents(n,r){const s=[],l=IDBKeyRange.bound([r,""],[eA(r),""],!1,!0);return BA(n).Lt(l).next(d=>{for(const g of d){if(g.collectionId!==r)break;s.push(os(g.parent))}return s})}}function BA(i){return Ui(i,al.store)}const UA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ls{constructor(n,r,s){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}static withCacheSize(n){return new ls(n,ls.DEFAULT_COLLECTION_PERCENTILE,ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Yf(i,n,r){const s=i.store(pn.store),l=i.store(ei.store),d=[],g=IDBKeyRange.only(r.batchId);let _=0;const C=s.Kt({range:g},(N,k,z)=>(_++,z.delete()));d.push(C.next(()=>{Dt(1===_)}));const T=[];for(const N of r.mutations){const k=ei.key(n,N.key.path,r.batchId);d.push(l.delete(k)),T.push(N.key)}return Be.waitFor(d).next(()=>T)}function CE(i){if(!i)return 0;let n;if(i.document)n=i.document;else if(i.unknownDocument)n=i.unknownDocument;else{if(!i.noDocument)throw at();n=i.noDocument}return JSON.stringify(n).length}ls.DEFAULT_COLLECTION_PERCENTILE=10,ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ls.DEFAULT=new ls(41943040,ls.DEFAULT_COLLECTION_PERCENTILE,ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ls.DISABLED=new ls(-1,0,0);class mv{constructor(n,r,s,l){this.userId=n,this.N=r,this.Ht=s,this.referenceDelegate=l,this.Jt={}}static Yt(n,r,s,l){Dt(""!==n.uid);const d=n.isAuthenticated()?n.uid:"";return new mv(d,r,s,l)}checkEmpty(n){let r=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return dc(n).Kt({index:pn.userMutationsIndex,range:s},(l,d,g)=>{r=!1,g.done()}).next(()=>r)}addMutationBatch(n,r,s,l){const d=Zf(n),g=dc(n);return g.add({}).next(_=>{Dt("number"==typeof _);const C=new _E(_,r,s,l),T=function(z,$,re){const Ie=re.baseMutations.map(He=>gE(z.Wt,He)),Le=re.mutations.map(He=>gE(z.Wt,He));return new pn($,re.batchId,re.localWriteTime.toMillis(),Ie,Le)}(this.N,this.userId,C),N=[];let k=new ir((z,$)=>Ut(z.canonicalString(),$.canonicalString()));for(const z of l){const $=ei.key(this.userId,z.key.path,_);k=k.add(z.key.path.popLast()),N.push(g.put(T)),N.push(d.put($,ei.PLACEHOLDER))}return k.forEach(z=>{N.push(this.Ht.addToCollectionParentIndex(n,z))}),n.addOnCommittedListener(()=>{this.Jt[_]=C.keys()}),Be.waitFor(N).next(()=>C)})}lookupMutationBatch(n,r){return dc(n).get(r).next(s=>s?(Dt(s.userId===this.userId),cc(this.N,s)):null)}Xt(n,r){return this.Jt[r]?Be.resolve(this.Jt[r]):this.lookupMutationBatch(n,r).next(s=>{if(s){const l=s.keys();return this.Jt[r]=l,l}return null})}getNextMutationBatchAfterBatchId(n,r){const s=r+1,l=IDBKeyRange.lowerBound([this.userId,s]);let d=null;return dc(n).Kt({index:pn.userMutationsIndex,range:l},(g,_,C)=>{_.userId===this.userId&&(Dt(_.batchId>=s),d=cc(this.N,_)),C.done()}).next(()=>d)}getHighestUnacknowledgedBatchId(n){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return dc(n).Kt({index:pn.userMutationsIndex,range:r,reverse:!0},(l,d,g)=>{s=d.batchId,g.done()}).next(()=>s)}getAllMutationBatches(n){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return dc(n).Lt(pn.userMutationsIndex,r).next(s=>s.map(l=>cc(this.N,l)))}getAllMutationBatchesAffectingDocumentKey(n,r){const s=ei.prefixForPath(this.userId,r.path),l=IDBKeyRange.lowerBound(s),d=[];return Zf(n).Kt({range:l},(g,_,C)=>{const[T,N,k]=g,z=os(N);if(T===this.userId&&r.path.isEqual(z))return dc(n).get(k).next($=>{if(!$)throw at();Dt($.userId===this.userId),d.push(cc(this.N,$))});C.done()}).next(()=>d)}getAllMutationBatchesAffectingDocumentKeys(n,r){let s=new ir(Ut);const l=[];return r.forEach(d=>{const g=ei.prefixForPath(this.userId,d.path),_=IDBKeyRange.lowerBound(g),C=Zf(n).Kt({range:_},(T,N,k)=>{const[z,$,re]=T,Ie=os($);z===this.userId&&d.path.isEqual(Ie)?s=s.add(re):k.done()});l.push(C)}),Be.waitFor(l).next(()=>this.Zt(n,s))}getAllMutationBatchesAffectingQuery(n,r){const s=r.path,l=s.length+1,d=ei.prefixForPath(this.userId,s),g=IDBKeyRange.lowerBound(d);let _=new ir(Ut);return Zf(n).Kt({range:g},(C,T,N)=>{const[k,z,$]=C,re=os(z);k===this.userId&&s.isPrefixOf(re)?re.length===l&&(_=_.add($)):N.done()}).next(()=>this.Zt(n,_))}Zt(n,r){const s=[],l=[];return r.forEach(d=>{l.push(dc(n).get(d).next(g=>{if(null===g)throw at();Dt(g.userId===this.userId),s.push(cc(this.N,g))}))}),Be.waitFor(l).next(()=>s)}removeMutationBatch(n,r){return Yf(n.Qt,this.userId,r).next(s=>(n.addOnCommittedListener(()=>{this.te(r.batchId)}),Be.forEach(s,l=>this.referenceDelegate.markPotentiallyOrphaned(n,l))))}te(n){delete this.Jt[n]}performConsistencyCheck(n){return this.checkEmpty(n).next(r=>{if(!r)return Be.resolve();const s=IDBKeyRange.lowerBound(ei.prefixForUser(this.userId)),l=[];return Zf(n).Kt({range:s},(d,g,_)=>{if(d[0]===this.userId){const C=os(d[1]);l.push(C)}else _.done()}).next(()=>{Dt(0===l.length)})})}containsKey(n,r){return jA(n,this.userId,r)}ee(n){return GA(n).get(this.userId).next(r=>r||new ol(this.userId,-1,""))}}function jA(i,n,r){const s=ei.prefixForPath(n,r.path),l=s[1],d=IDBKeyRange.lowerBound(s);let g=!1;return Zf(i).Kt({range:d,qt:!0},(_,C,T)=>{const[N,k,z]=_;N===n&&k===l&&(g=!0),T.done()}).next(()=>g)}function dc(i){return Ui(i,pn.store)}function Zf(i){return Ui(i,ei.store)}function GA(i){return Ui(i,ol.store)}class Od{constructor(n){this.ne=n}next(){return this.ne+=2,this.ne}static se(){return new Od(0)}static ie(){return new Od(-1)}}class HA{constructor(n,r){this.referenceDelegate=n,this.N=r}allocateTargetId(n){return this.re(n).next(r=>{const s=new Od(r.highestTargetId);return r.highestTargetId=s.next(),this.oe(n,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(n){return this.re(n).next(r=>kt.fromTimestamp(new Qr(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(n){return this.re(n).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(n,r,s){return this.re(n).next(l=>(l.highestListenSequenceNumber=r,s&&(l.lastRemoteSnapshotVersion=s.toTimestamp()),r>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=r),this.oe(n,l)))}addTargetData(n,r){return this.ae(n,r).next(()=>this.re(n).next(s=>(s.targetCount+=1,this.ce(r,s),this.oe(n,s))))}updateTargetData(n,r){return this.ae(n,r)}removeTargetData(n,r){return this.removeMatchingKeysForTargetId(n,r.targetId).next(()=>Wf(n).delete(r.targetId)).next(()=>this.re(n)).next(s=>(Dt(s.targetCount>0),s.targetCount-=1,this.oe(n,s)))}removeTargets(n,r,s){let l=0;const d=[];return Wf(n).Kt((g,_)=>{const C=Xg(_);C.sequenceNumber<=r&&null===s.get(C.targetId)&&(l++,d.push(this.removeTargetData(n,C)))}).next(()=>Be.waitFor(d)).next(()=>l)}forEachTarget(n,r){return Wf(n).Kt((s,l)=>{const d=Xg(l);r(d)})}re(n){return $A(n).get(Ts.key).next(r=>(Dt(null!==r),r))}oe(n,r){return $A(n).put(Ts.key,r)}ae(n,r){return Wf(n).put(oM(this.N,r))}ce(n,r){let s=!1;return n.targetId>r.highestTargetId&&(r.highestTargetId=n.targetId,s=!0),n.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=n.sequenceNumber,s=!0),s}getTargetCount(n){return this.re(n).next(r=>r.targetCount)}getTargetData(n,r){const s=jg(r),l=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let d=null;return Wf(n).Kt({range:l,index:as.queryTargetsIndexName},(g,_,C)=>{const T=Xg(_);W_(r,T.target)&&(d=T,C.done())}).next(()=>d)}addMatchingKeys(n,r,s){const l=[],d=Nd(n);return r.forEach(g=>{const _=Bi(g.path);l.push(d.put(new ti(s,_))),l.push(this.referenceDelegate.addReference(n,s,g))}),Be.waitFor(l)}removeMatchingKeys(n,r,s){const l=Nd(n);return Be.forEach(r,d=>{const g=Bi(d.path);return Be.waitFor([l.delete([s,g]),this.referenceDelegate.removeReference(n,s,d)])})}removeMatchingKeysForTargetId(n,r){const s=Nd(n),l=IDBKeyRange.bound([r],[r+1],!1,!0);return s.delete(l)}getMatchingKeysForTargetId(n,r){const s=IDBKeyRange.bound([r],[r+1],!1,!0),l=Nd(n);let d=Xt();return l.Kt({range:s,qt:!0},(g,_,C)=>{const T=os(g[1]),N=new lt(T);d=d.add(N)}).next(()=>d)}containsKey(n,r){const s=Bi(r.path),l=IDBKeyRange.bound([s],[eA(s)],!1,!0);let d=0;return Nd(n).Kt({index:ti.documentTargetsIndex,qt:!0,range:l},([g,_],C,T)=>{0!==g&&(d++,T.done())}).next(()=>d>0)}Et(n,r){return Wf(n).get(r).next(s=>s?Xg(s):null)}}function Wf(i){return Ui(i,as.store)}function $A(i){return Ui(i,Ts.store)}function Nd(i){return Ui(i,ti.store)}function Qf(i){return zA.apply(this,arguments)}function zA(){return(zA=(0,Te.Z)(function*(i){if(i.code!==Ce.FAILED_PRECONDITION||i.message!==iM)throw i;qe("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function yv([i,n],[r,s]){const l=Ut(i,r);return 0===l?Ut(n,s):l}class uM{constructor(n){this.ue=n,this.buffer=new ir(yv),this.he=0}le(){return++this.he}fe(n){const r=[n,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(r);else{const s=this.buffer.last();yv(r,s)<0&&(this.buffer=this.buffer.delete(s).add(r))}}get maxValue(){return this.buffer.last()[0]}}class cM{constructor(n,r){this.garbageCollector=n,this.asyncQueue=r,this.de=!1,this.we=null}start(n){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(n)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(n){var r=this;const s=this.de?3e5:6e4;qe("LruGarbageCollector",`Garbage collection scheduled in ${s}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",s,(0,Te.Z)(function*(){r.we=null,r.de=!0;try{yield n.collectGarbage(r.garbageCollector)}catch(l){qf(l)?qe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",l):yield Qf(l)}yield r._e(n)}))}}class dM{constructor(n,r){this.me=n,this.params=r}calculateTargetCount(n,r){return this.me.ge(n).next(s=>Math.floor(r/100*s))}nthSequenceNumber(n,r){if(0===r)return Be.resolve(xs.T);const s=new uM(r);return this.me.forEachTarget(n,l=>s.fe(l.sequenceNumber)).next(()=>this.me.ye(n,l=>s.fe(l))).next(()=>s.maxValue)}removeTargets(n,r,s){return this.me.removeTargets(n,r,s)}removeOrphanedDocuments(n,r){return this.me.removeOrphanedDocuments(n,r)}collect(n,r){return-1===this.params.cacheSizeCollectionThreshold?(qe("LruGarbageCollector","Garbage collection skipped; disabled"),Be.resolve(UA)):this.getCacheSize(n).next(s=>s<this.params.cacheSizeCollectionThreshold?(qe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),UA):this.pe(n,r))}getCacheSize(n){return this.me.getCacheSize(n)}pe(n,r){let s,l,d,g,_,C,T;const N=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next(k=>(k>this.params.maximumSequenceNumbersToCollect?(qe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${k}`),l=this.params.maximumSequenceNumbersToCollect):l=k,g=Date.now(),this.nthSequenceNumber(n,l))).next(k=>(s=k,_=Date.now(),this.removeTargets(n,s,r))).next(k=>(d=k,C=Date.now(),this.removeOrphanedDocuments(n,s))).next(k=>(T=Date.now(),Un()<=hd.in.DEBUG&&qe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${g-N}ms\n\tDetermined least recently used ${l} in `+(_-g)+`ms\n\tRemoved ${d} targets in `+(C-_)+`ms\n\tRemoved ${k} documents in `+(T-C)+`ms\nTotal Duration: ${T-N}ms`),Be.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:d,documentsRemoved:k})))}}class hM{constructor(n,r){this.db=n,this.garbageCollector=new dM(this,r)}ge(n){const r=this.Ee(n);return this.db.getTargetCache().getTargetCount(n).next(s=>r.next(l=>s+l))}Ee(n){let r=0;return this.ye(n,s=>{r++}).next(()=>r)}forEachTarget(n,r){return this.db.getTargetCache().forEachTarget(n,r)}ye(n,r){return this.Te(n,(s,l)=>r(l))}addReference(n,r,s){return _v(n,s)}removeReference(n,r,s){return _v(n,s)}removeTargets(n,r,s){return this.db.getTargetCache().removeTargets(n,r,s)}markPotentiallyOrphaned(n,r){return _v(n,r)}Ie(n,r){return function(s,l){let d=!1;return GA(s).jt(g=>jA(s,g,l).next(_=>(_&&(d=!0),Be.resolve(!_)))).next(()=>d)}(n,r)}removeOrphanedDocuments(n,r){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let d=0;return this.Te(n,(g,_)=>{if(_<=r){const C=this.Ie(n,g).next(T=>{if(!T)return d++,s.getEntry(n,g).next(()=>(s.removeEntry(g),Nd(n).delete([0,Bi(g.path)])))});l.push(C)}}).next(()=>Be.waitFor(l)).next(()=>s.apply(n)).next(()=>d)}removeTarget(n,r){const s=r.withSequenceNumber(n.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(n,s)}updateLimboDocument(n,r){return _v(n,r)}Te(n,r){const s=Nd(n);let l,d=xs.T;return s.Kt({index:ti.documentTargetsIndex},([g,_],{path:C,sequenceNumber:T})=>{0===g?(d!==xs.T&&r(new lt(os(l)),d),d=T,l=C):d=xs.T}).next(()=>{d!==xs.T&&r(new lt(os(l)),d)})}getCacheSize(n){return this.db.getRemoteDocumentCache().getSize(n)}}function _v(i,n){return Nd(i).put((s=i.currentSequenceNumber,new ti(0,Bi(n.path),s)));var s}class Jf{constructor(n,r){this.mapKeyFn=n,this.equalsFn=r,this.inner={}}get(n){const r=this.mapKeyFn(n),s=this.inner[r];if(void 0!==s)for(const[l,d]of s)if(this.equalsFn(l,n))return d}has(n){return void 0!==this.get(n)}set(n,r){const s=this.mapKeyFn(n),l=this.inner[s];if(void 0!==l){for(let d=0;d<l.length;d++)if(this.equalsFn(l[d][0],n))return void(l[d]=[n,r]);l.push([n,r])}else this.inner[s]=[[n,r]]}delete(n){const r=this.mapKeyFn(n),s=this.inner[r];if(void 0===s)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],n))return 1===s.length?delete this.inner[r]:s.splice(l,1),!0;return!1}forEach(n){ec(this.inner,(r,s)=>{for(const[l,d]of s)n(l,d)})}isEmpty(){return tA(this.inner)}}class DE{constructor(){this.changes=new Jf(n=>n.toString(),(n,r)=>n.isEqual(r)),this.changesApplied=!1}getReadTime(n){const r=this.changes.get(n);return r?r.readTime:kt.min()}addEntry(n,r){this.assertNotApplied(),this.changes.set(n.key,{document:n,readTime:r})}removeEntry(n,r=null){this.assertNotApplied(),this.changes.set(n,{document:jn.newInvalidDocument(n),readTime:r})}getEntry(n,r){this.assertNotApplied();const s=this.changes.get(r);return void 0!==s?Be.resolve(s.document):this.getFromCache(n,r)}getEntries(n,r){return this.getAllFromCache(n,r)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}class AE{constructor(n,r){this.N=n,this.Ht=r}addEntry(n,r,s){return Wn(n).put(tm(r),s)}removeEntry(n,r){const s=Wn(n),l=tm(r);return s.delete(l)}updateMetadata(n,r){return this.getMetadata(n).next(s=>(s.byteSize+=r,this.Ae(n,s)))}getEntry(n,r){return Wn(n).get(tm(r)).next(s=>this.Re(r,s))}be(n,r){return Wn(n).get(tm(r)).next(s=>({document:this.Re(r,s),size:CE(s)}))}getEntries(n,r){let s=Io();return this.Pe(n,r,(l,d)=>{const g=this.Re(l,d);s=s.insert(l,g)}).next(()=>s)}ve(n,r){let s=Io(),l=new Jr(lt.comparator);return this.Pe(n,r,(d,g)=>{const _=this.Re(d,g);s=s.insert(d,_),l=l.insert(d,CE(g))}).next(()=>({documents:s,Ve:l}))}Pe(n,r,s){if(r.isEmpty())return Be.resolve();const l=IDBKeyRange.bound(r.first().path.toArray(),r.last().path.toArray()),d=r.getIterator();let g=d.getNext();return Wn(n).Kt({range:l},(_,C,T)=>{const N=lt.fromSegments(_);for(;g&&lt.comparator(g,N)<0;)s(g,null),g=d.getNext();g&&g.isEqual(N)&&(s(g,C),g=d.hasNext()?d.getNext():null),g?T.Mt(g.path.toArray()):T.done()}).next(()=>{for(;g;)s(g,null),g=d.hasNext()?d.getNext():null})}getDocumentsMatchingQuery(n,r,s){let l=Io();const d=r.path.length+1,g={};if(s.isEqual(kt.min())){const _=r.path.toArray();g.range=IDBKeyRange.lowerBound(_)}else{const _=r.path.toArray(),C=Jg(s);g.range=IDBKeyRange.lowerBound([_,C],!0),g.index=sr.collectionReadTimeIndex}return Wn(n).Kt(g,(_,C,T)=>{if(_.length!==d)return;const N=bE(this.N,C);r.path.isPrefixOf(N.key.path)?sv(r,N)&&(l=l.insert(N.key,N)):T.done()}).next(()=>l)}newChangeBuffer(n){return new fM(this,!!n&&n.trackRemovals)}getSize(n){return this.getMetadata(n).next(r=>r.byteSize)}getMetadata(n){return kd(n).get(Xs.key).next(r=>(Dt(!!r),r))}Ae(n,r){return kd(n).put(Xs.key,r)}Re(n,r){if(r){const s=bE(this.N,r);if(!s.isNoDocument()||!s.version.isEqual(kt.min()))return s}return jn.newInvalidDocument(n)}}class fM extends DE{constructor(n,r){super(),this.Se=n,this.trackRemovals=r,this.De=new Jf(s=>s.toString(),(s,l)=>s.isEqual(l))}applyChanges(n){const r=[];let s=0,l=new ir((d,g)=>Ut(d.canonicalString(),g.canonicalString()));return this.changes.forEach((d,g)=>{const _=this.De.get(d);if(g.document.isValidDocument()){const C=FA(this.Se.N,g.document,this.getReadTime(d));l=l.add(d.path.popLast()),s+=CE(C)-_,r.push(this.Se.addEntry(n,d,C))}else if(s-=_,this.trackRemovals){const C=FA(this.Se.N,jn.newNoDocument(d,kt.min()),this.getReadTime(d));r.push(this.Se.addEntry(n,d,C))}else r.push(this.Se.removeEntry(n,d))}),l.forEach(d=>{r.push(this.Se.Ht.addToCollectionParentIndex(n,d))}),r.push(this.Se.updateMetadata(n,s)),Be.waitFor(r)}getFromCache(n,r){return this.Se.be(n,r).next(s=>(this.De.set(r,s.size),s.document))}getAllFromCache(n,r){return this.Se.ve(n,r).next(({documents:s,Ve:l})=>(l.forEach((d,g)=>{this.De.set(d,g)}),s))}}function kd(i){return Ui(i,Xs.store)}function Wn(i){return Ui(i,sr.store)}function tm(i){return i.path.toArray()}class ha{constructor(n){this.N=n}Ct(n,r,s,l){Dt(s<l&&s>=0&&l<=11);const d=new lc("createOrUpgrade",r);var _;s<1&&l>=1&&(n.createObjectStore(Ss.store),(_=n).createObjectStore(ol.store,{keyPath:ol.keyPath}),_.createObjectStore(pn.store,{keyPath:pn.keyPath,autoIncrement:!0}).createIndex(pn.userMutationsIndex,pn.userMutationsKeyPath,{unique:!0}),_.createObjectStore(ei.store),vv(n),function(_){_.createObjectStore(sr.store)}(n));let g=Be.resolve();return s<3&&l>=3&&(0!==s&&(function(_){_.deleteObjectStore(ti.store),_.deleteObjectStore(as.store),_.deleteObjectStore(Ts.store)}(n),vv(n)),g=g.next(()=>function(_){const C=_.store(Ts.store),T=new Ts(0,0,kt.min().toTimestamp(),0);return C.put(Ts.key,T)}(d))),s<4&&l>=4&&(0!==s&&(g=g.next(()=>function(_,C){return C.store(pn.store).Lt().next(T=>{_.deleteObjectStore(pn.store),_.createObjectStore(pn.store,{keyPath:pn.keyPath,autoIncrement:!0}).createIndex(pn.userMutationsIndex,pn.userMutationsKeyPath,{unique:!0});const N=C.store(pn.store),k=T.map(z=>N.put(z));return Be.waitFor(k)})}(n,d))),g=g.next(()=>{!function(_){_.createObjectStore(su.store,{keyPath:su.keyPath})}(n)})),s<5&&l>=5&&(g=g.next(()=>this.Ce(d))),s<6&&l>=6&&(g=g.next(()=>(function(_){_.createObjectStore(Xs.store)}(n),this.Ne(d)))),s<7&&l>=7&&(g=g.next(()=>this.xe(d))),s<8&&l>=8&&(g=g.next(()=>this.ke(n,d))),s<9&&l>=9&&(g=g.next(()=>{(function(_){_.objectStoreNames.contains("remoteDocumentChanges")&&_.deleteObjectStore("remoteDocumentChanges")})(n),function(_){const C=_.objectStore(sr.store);C.createIndex(sr.readTimeIndex,sr.readTimeIndexPath,{unique:!1}),C.createIndex(sr.collectionReadTimeIndex,sr.collectionReadTimeIndexPath,{unique:!1})}(r)})),s<10&&l>=10&&(g=g.next(()=>this.$e(d))),s<11&&l>=11&&(g=g.next(()=>{(function(_){_.createObjectStore(oc.store,{keyPath:oc.keyPath})})(n),function(_){_.createObjectStore(ac.store,{keyPath:ac.keyPath})}(n)})),g}Ne(n){let r=0;return n.store(sr.store).Kt((s,l)=>{r+=CE(l)}).next(()=>{const s=new Xs(r);return n.store(Xs.store).put(Xs.key,s)})}Ce(n){const r=n.store(ol.store),s=n.store(pn.store);return r.Lt().next(l=>Be.forEach(l,d=>{const g=IDBKeyRange.bound([d.userId,-1],[d.userId,d.lastAcknowledgedBatchId]);return s.Lt(pn.userMutationsIndex,g).next(_=>Be.forEach(_,C=>{Dt(C.userId===d.userId);const T=cc(this.N,C);return Yf(n,d.userId,T).next(()=>{})}))}))}xe(n){const r=n.store(ti.store),s=n.store(sr.store);return n.store(Ts.store).get(Ts.key).next(l=>{const d=[];return s.Kt((g,_)=>{const C=new sn(g),T=[0,Bi(C)];d.push(r.get(T).next(N=>N?Be.resolve():r.put(new ti(0,Bi(C),l.highestListenSequenceNumber))))}).next(()=>Be.waitFor(d))})}ke(n,r){n.createObjectStore(al.store,{keyPath:al.keyPath});const s=r.store(al.store),l=new EE,d=g=>{if(l.add(g)){const _=g.lastSegment(),C=g.popLast();return s.put({collectionId:_,parent:Bi(C)})}};return r.store(sr.store).Kt({qt:!0},(g,_)=>{const C=new sn(g);return d(C.popLast())}).next(()=>r.store(ei.store).Kt({qt:!0},([g,_,C],T)=>{const N=os(_);return d(N.popLast())}))}$e(n){const r=n.store(as.store);return r.Kt((s,l)=>{const d=Xg(l),g=oM(this.N,d);return r.put(g)})}}function vv(i){i.createObjectStore(ti.store,{keyPath:ti.keyPath}).createIndex(ti.documentTargetsIndex,ti.documentTargetsKeyPath,{unique:!0}),i.createObjectStore(as.store,{keyPath:as.keyPath}).createIndex(as.queryTargetsIndexName,as.queryTargetsKeyPath,{unique:!0}),i.createObjectStore(Ts.store)}const IE="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class bv{constructor(n,r,s,l,d,g,_,C,T,N){if(this.allowTabSynchronization=n,this.persistenceKey=r,this.clientId=s,this.Oe=d,this.window=g,this.document=_,this.Fe=T,this.Me=N,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=k=>Promise.resolve(),!bv.bt())throw new Ue(Ce.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new hM(this,l),this.We=r+"main",this.N=new kA(C),this.Ge=new da(this.We,11,new ha(this.N)),this.ze=new HA(this.referenceDelegate,this.N),this.Ht=new em,this.He=new AE(this.N,this.Ht),this.Je=new aM,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===N&&nr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ue(Ce.FAILED_PRECONDITION,IE);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",n=>this.ze.getHighestSequenceNumber(n))}).then(n=>{this.Le=new xs(n,this.Fe)}).then(()=>{this.Be=!0}).catch(n=>(this.Ge&&this.Ge.close(),Promise.reject(n)))}nn(n){var r=this;return this.Qe=function(){var s=(0,Te.Z)(function*(l){if(r.started)return n(l)});return function(l){return s.apply(this,arguments)}}(),n(this.isPrimary)}setDatabaseDeletedListener(n){this.Ge.xt(function(){var r=(0,Te.Z)(function*(s){null===s.newVersion&&(yield n())});return function(s){return r.apply(this,arguments)}}())}setNetworkEnabled(n){var r=this;this.networkEnabled!==n&&(this.networkEnabled=n,this.Oe.enqueueAndForget((0,Te.Z)(function*(){r.started&&(yield r.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",n=>nm(n).put(new su(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(n).next(r=>{r||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(n)).next(r=>this.isPrimary&&!r?this.on(n).next(()=>!1):!!r&&this.an(n).next(()=>!0))).catch(n=>{if(qf(n))return qe("IndexedDbPersistence","Failed to extend owner lease: ",n),this.isPrimary;if(!this.allowTabSynchronization)throw n;return qe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(n=>{this.isPrimary!==n&&this.Oe.enqueueRetryable(()=>this.Qe(n)),this.isPrimary=n})}sn(n){return Xf(n).get(Ss.key).next(r=>Be.resolve(this.cn(r)))}un(n){return nm(n).delete(this.clientId)}hn(){var n=this;return(0,Te.Z)(function*(){if(n.isPrimary&&!n.ln(n.je,18e5)){n.je=Date.now();const r=yield n.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const l=Ui(s,su.store);return l.Lt().next(d=>{const g=n.fn(d,18e5),_=d.filter(C=>-1===g.indexOf(C));return Be.forEach(_,C=>l.delete(C.clientId)).next(()=>_)})}).catch(()=>[]);if(n.Ye)for(const s of r)n.Ye.removeItem(n.dn(s.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(n){return!!n&&n.ownerId===this.clientId}rn(n){return this.Me?Be.resolve(!0):Xf(n).get(Ss.key).next(r=>{if(null!==r&&this.ln(r.leaseTimestampMs,5e3)&&!this.wn(r.ownerId)){if(this.cn(r)&&this.networkEnabled)return!0;if(!this.cn(r)){if(!r.allowTabSynchronization)throw new Ue(Ce.FAILED_PRECONDITION,IE);return!1}}return!(!this.networkEnabled||!this.inForeground)||nm(n).Lt().next(s=>void 0===this.fn(s,5e3).find(l=>{if(this.clientId!==l.clientId){const g=!this.inForeground&&l.inForeground,_=this.networkEnabled===l.networkEnabled;if(!this.networkEnabled&&l.networkEnabled||g&&_)return!0}return!1}))}).next(r=>(this.isPrimary!==r&&qe("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var n=this;return(0,Te.Z)(function*(){n.Be=!1,n._n(),n.Ke&&(n.Ke.cancel(),n.Ke=null),n.mn(),n.gn(),yield n.Ge.runTransaction("shutdown","readwrite",[Ss.store,su.store],r=>{const s=new NA(r,xs.T);return n.on(s).next(()=>n.un(s))}),n.Ge.close(),n.yn()})()}fn(n,r){return n.filter(s=>this.ln(s.updateTimeMs,r)&&!this.wn(s.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",n=>nm(n).Lt().next(r=>this.fn(r,18e5).map(s=>s.clientId)))}get started(){return this.Be}getMutationQueue(n){return mv.Yt(n,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(n,r,s){let d;return qe("IndexedDbPersistence","Starting transaction:",n),this.Ge.runTransaction(n,"readonly"===r?"readonly":"readwrite",wN,g=>(d=new NA(g,this.Le?this.Le.next():xs.T),"readwrite-primary"===r?this.sn(d).next(_=>!!_||this.rn(d)).next(_=>{if(!_)throw nr(`Failed to obtain primary lease for action '${n}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new Ue(Ce.FAILED_PRECONDITION,iM);return s(d)}).next(_=>this.an(d).next(()=>_)):this.En(d).next(()=>s(d)))).then(g=>(d.raiseOnCommittedEvent(),g))}En(n){return Xf(n).get(Ss.key).next(r=>{if(null!==r&&this.ln(r.leaseTimestampMs,5e3)&&!this.wn(r.ownerId)&&!this.cn(r)&&!(this.Me||this.allowTabSynchronization&&r.allowTabSynchronization))throw new Ue(Ce.FAILED_PRECONDITION,IE)})}an(n){const r=new Ss(this.clientId,this.allowTabSynchronization,Date.now());return Xf(n).put(Ss.key,r)}static bt(){return da.bt()}on(n){const r=Xf(n);return r.get(Ss.key).next(s=>this.cn(s)?(qe("IndexedDbPersistence","Releasing primary lease."),r.delete(Ss.key)):Be.resolve())}ln(n,r){const s=Date.now();return!(n<s-r||n>s&&(nr(`Detected an update time that is in the future: ${n} > ${s}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var n;"function"==typeof(null===(n=this.window)||void 0===n?void 0:n.addEventListener)&&(this.Ue=()=>{this._n(),(0,jt.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(n){var r;try{const s=null!==(null===(r=this.Ye)||void 0===r?void 0:r.getItem(this.dn(n)));return qe("IndexedDbPersistence",`Client '${n}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return nr("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(n){nr("Failed to set zombie client id.",n)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(n){}}dn(n){return`firestore_zombie_${this.persistenceKey}_${n}`}}function Xf(i){return Ui(i,Ss.store)}function nm(i){return Ui(i,su.store)}function xE(i,n){let r=i.projectId;return i.isDefaultDatabase||(r+="."+i.database),"firestore/"+n+"/"+r+"/"}class pM{constructor(n,r){this.progress=n,this.Tn=r}}class qA{constructor(n,r,s){this.He=n,this.In=r,this.Ht=s}An(n,r){return this.In.getAllMutationBatchesAffectingDocumentKey(n,r).next(s=>this.Rn(n,r,s))}Rn(n,r,s){return this.He.getEntry(n,r).next(l=>{for(const d of s)d.applyToLocalView(l);return l})}bn(n,r){n.forEach((s,l)=>{for(const d of r)d.applyToLocalView(l)})}Pn(n,r){return this.He.getEntries(n,r).next(s=>this.vn(n,s).next(()=>s))}vn(n,r){return this.In.getAllMutationBatchesAffectingDocumentKeys(n,r).next(s=>this.bn(r,s))}getDocumentsMatchingQuery(n,r,s){return lt.isDocumentKey((l=r).path)&&null===l.collectionGroup&&0===l.filters.length?this.Vn(n,r.path):eE(r)?this.Sn(n,r,s):this.Dn(n,r,s);var l}Vn(n,r){return this.An(n,new lt(r)).next(s=>{let l=cE();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}Sn(n,r,s){const l=r.collectionGroup;let d=cE();return this.Ht.getCollectionParents(n,l).next(g=>Be.forEach(g,_=>{const C=(T=r,N=_.child(l),new nl(N,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt));var T,N;return this.Dn(n,C,s).next(T=>{T.forEach((N,k)=>{d=d.insert(N,k)})})}).next(()=>d))}Dn(n,r,s){let l,d;return this.He.getDocumentsMatchingQuery(n,r,s).next(g=>(l=g,this.In.getAllMutationBatchesAffectingQuery(n,r))).next(g=>(d=g,this.Cn(n,d,l).next(_=>{l=_;for(const C of d)for(const T of C.mutations){const N=T.key;let k=l.get(N);null==k&&(k=jn.newInvalidDocument(N),l=l.insert(N,k)),oE(T,k,C.localWriteTime),k.isFoundDocument()||(l=l.remove(N))}}))).next(()=>(l.forEach((g,_)=>{sv(r,_)||(l=l.remove(g))}),l))}Cn(n,r,s){let l=Xt();for(const g of r)for(const _ of g.mutations)_ instanceof rc&&null===s.get(_.key)&&(l=l.add(_.key));let d=s;return this.He.getEntries(n,l).next(g=>(g.forEach((_,C)=>{C.isFoundDocument()&&(d=d.insert(_,C))}),d))}}class wv{constructor(n,r,s,l){this.targetId=n,this.fromCache=r,this.Nn=s,this.xn=l}static kn(n,r){let s=Xt(),l=Xt();for(const d of r.docChanges)switch(d.type){case 0:s=s.add(d.doc.key);break;case 1:l=l.add(d.doc.key)}return new wv(n,r.fromCache,s,l)}}class KA{$n(n){this.On=n}getDocumentsMatchingQuery(n,r,s,l){return 0===(d=r).filters.length&&null===d.limit&&null==d.startAt&&null==d.endAt&&(0===d.explicitOrderBy.length||1===d.explicitOrderBy.length&&d.explicitOrderBy[0].field.isKeyField())||s.isEqual(kt.min())?this.Fn(n,r):this.On.Pn(n,l).next(d=>{const g=this.Mn(r,d);return(nv(r)||Bf(r))&&this.Ln(r.limitType,g,l,s)?this.Fn(n,r):(Un()<=hd.in.DEBUG&&qe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),nc(r)),this.On.getDocumentsMatchingQuery(n,r,s).next(_=>(g.forEach(C=>{_=_.insert(C.key,C)}),_)))});var d}Mn(n,r){let s=new ir(ov(n));return r.forEach((l,d)=>{sv(n,d)&&(s=s.add(d))}),s}Ln(n,r,s,l){if(s.size!==r.size)return!0;const d="F"===n?r.last():r.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(l)>0)}Fn(n,r){return Un()<=hd.in.DEBUG&&qe("QueryEngine","Using full collection scan to execute query:",nc(r)),this.On.getDocumentsMatchingQuery(n,r,kt.min())}}class CN{constructor(n,r,s,l){this.persistence=n,this.Bn=r,this.N=l,this.Un=new Jr(Ut),this.qn=new Jf(d=>jg(d),W_),this.Kn=kt.min(),this.In=n.getMutationQueue(s),this.jn=n.getRemoteDocumentCache(),this.ze=n.getTargetCache(),this.Qn=new qA(this.jn,this.In,this.persistence.getIndexManager()),this.Je=n.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>n.collect(r,this.Un))}}function YA(i,n,r,s){return new CN(i,n,r,s)}function ZA(i,n){return hc.apply(this,arguments)}function hc(){return(hc=(0,Te.Z)(function*(i,n){const r=We(i);let s=r.In,l=r.Qn;const d=yield r.persistence.runTransaction("Handle user change","readonly",g=>{let _;return r.In.getAllMutationBatches(g).next(C=>(_=C,s=r.persistence.getMutationQueue(n),l=new qA(r.jn,s,r.persistence.getIndexManager()),s.getAllMutationBatches(g))).next(C=>{const T=[],N=[];let k=Xt();for(const z of _){T.push(z.batchId);for(const $ of z.mutations)k=k.add($.key)}for(const z of C){N.push(z.batchId);for(const $ of z.mutations)k=k.add($.key)}return l.Pn(g,k).next(z=>({Wn:z,removedBatchIds:T,addedBatchIds:N}))})});return r.In=s,r.Qn=l,r.Bn.$n(r.Qn),d})).apply(this,arguments)}function DN(i,n){const r=We(i);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=n.batch.keys(),d=r.jn.newChangeBuffer({trackRemovals:!0});return function(g,_,C,T){const N=C.batch,k=N.keys();let z=Be.resolve();return k.forEach($=>{z=z.next(()=>T.getEntry(_,$)).next(re=>{const Ie=C.docVersions.get($);Dt(null!==Ie),re.version.compareTo(Ie)<0&&(N.applyToRemoteDocument(re,C),re.isValidDocument()&&T.addEntry(re,C.commitVersion))})}),z.next(()=>g.In.removeMutationBatch(_,N))}(r,s,n,d).next(()=>d.apply(s)).next(()=>r.In.performConsistencyCheck(s)).next(()=>r.Qn.Pn(s,l))})}function SE(i){const n=We(i);return n.persistence.runTransaction("Get last remote snapshot version","readonly",r=>n.ze.getLastRemoteSnapshotVersion(r))}function gM(i,n){const r=We(i),s=n.snapshotVersion;let l=r.Un;return r.persistence.runTransaction("Apply remote event","readwrite-primary",d=>{const g=r.jn.newChangeBuffer({trackRemovals:!0});l=r.Un;const _=[];n.targetChanges.forEach((T,N)=>{const k=l.get(N);if(!k)return;_.push(r.ze.removeMatchingKeys(d,T.removedDocuments,N).next(()=>r.ze.addMatchingKeys(d,T.addedDocuments,N)));const z=T.resumeToken;if(z.approximateByteSize()>0){const $=k.withResumeToken(z,s).withSequenceNumber(d.currentSequenceNumber);l=l.insert(N,$),re=k,Le=T,Dt((Ie=$).resumeToken.approximateByteSize()>0),(0===re.resumeToken.approximateByteSize()||Ie.snapshotVersion.toMicroseconds()-re.snapshotVersion.toMicroseconds()>=3e8||Le.addedDocuments.size+Le.modifiedDocuments.size+Le.removedDocuments.size>0)&&_.push(r.ze.updateTargetData(d,$))}var re,Ie,Le});let C=Io();if(n.documentUpdates.forEach((T,N)=>{n.resolvedLimboDocuments.has(T)&&_.push(r.persistence.referenceDelegate.updateLimboDocument(d,T))}),_.push(mM(d,g,n.documentUpdates,s,void 0).next(T=>{C=T})),!s.isEqual(kt.min())){const T=r.ze.getLastRemoteSnapshotVersion(d).next(N=>r.ze.setTargetsMetadata(d,d.currentSequenceNumber,s));_.push(T)}return Be.waitFor(_).next(()=>g.apply(d)).next(()=>r.Qn.vn(d,C)).next(()=>C)}).then(d=>(r.Un=l,d))}function mM(i,n,r,s,l){let d=Xt();return r.forEach(g=>d=d.add(g)),n.getEntries(i,d).next(g=>{let _=Io();return r.forEach((C,T)=>{const N=g.get(C),k=(null==l?void 0:l.get(C))||s;T.isNoDocument()&&T.version.isEqual(kt.min())?(n.removeEntry(C,k),_=_.insert(C,T)):!N.isValidDocument()||T.version.compareTo(N.version)>0||0===T.version.compareTo(N.version)&&N.hasPendingWrites?(n.addEntry(T,k),_=_.insert(C,T)):qe("LocalStore","Ignoring outdated watch update for ",C,". Current version:",N.version," Watch version:",T.version)}),_})}function WA(i,n){const r=We(i);return r.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===n&&(n=-1),r.In.getNextMutationBatchAfterBatchId(s,n)))}function ep(i,n){const r=We(i);return r.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return r.ze.getTargetData(s,n).next(d=>d?(l=d,Be.resolve(l)):r.ze.allocateTargetId(s).next(g=>(l=new uc(n,g,0,s.currentSequenceNumber),r.ze.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=r.Un.get(s.targetId);return(null===l||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(r.Un=r.Un.insert(s.targetId,s),r.qn.set(n,s.targetId)),s})}function fc(i,n,r){return TE.apply(this,arguments)}function TE(){return(TE=(0,Te.Z)(function*(i,n,r){const s=We(i),l=s.Un.get(n),d=r?"readwrite":"readwrite-primary";try{r||(yield s.persistence.runTransaction("Release target",d,g=>s.persistence.referenceDelegate.removeTarget(g,l)))}catch(g){if(!qf(g))throw g;qe("LocalStore",`Failed to update sequence numbers for target ${n}: ${g}`)}s.Un=s.Un.remove(n),s.qn.delete(l.target)})).apply(this,arguments)}function Ev(i,n,r){const s=We(i);let l=kt.min(),d=Xt();return s.persistence.runTransaction("Execute query","readonly",g=>function(_,C,T){const N=We(_),k=N.qn.get(T);return void 0!==k?Be.resolve(N.Un.get(k)):N.ze.getTargetData(C,T)}(s,g,Js(n)).next(_=>{if(_)return l=_.lastLimboFreeSnapshotVersion,s.ze.getMatchingKeysForTargetId(g,_.targetId).next(C=>{d=C})}).next(()=>s.Bn.getDocumentsMatchingQuery(g,n,r?l:kt.min(),r?d:Xt())).next(_=>({documents:_,Gn:d})))}function QA(i,n){const r=We(i),s=We(r.ze),l=r.Un.get(n);return l?Promise.resolve(l.target):r.persistence.runTransaction("Get target data","readonly",d=>s.Et(d,n).next(g=>g?g.target:null))}function JA(i){const n=We(i);return n.persistence.runTransaction("Get new document changes","readonly",r=>function(s,l,d){const g=We(s);let _=Io(),C=Jg(d);const T=Wn(l),N=IDBKeyRange.lowerBound(C,!0);return T.Kt({index:sr.readTimeIndex,range:N},(k,z)=>{const $=bE(g.N,z);_=_.insert($.key,$),C=z.readTime}).next(()=>({Tn:_,readTime:PA(C)}))}(n.jn,r,n.Kn)).then(({Tn:r,readTime:s})=>(n.Kn=s,r))}function ME(){return(ME=(0,Te.Z)(function*(i){const n=We(i);return n.persistence.runTransaction("Synchronize last document change read time","readonly",r=>function(s){const l=Wn(s);let d=kt.min();return l.Kt({index:sr.readTimeIndex,reverse:!0},(g,_,C)=>{_.readTime&&(d=PA(_.readTime)),C.done()}).next(()=>d)}(r)).then(r=>{n.Kn=r})})).apply(this,arguments)}function RE(){return(RE=(0,Te.Z)(function*(i,n,r,s){const l=We(i);let d=Xt(),g=Io(),_=KT();for(const N of r){const k=n.zn(N.metadata.name);N.document&&(d=d.add(k)),g=g.insert(k,n.Hn(N)),_=_.insert(k,n.Jn(N.metadata.readTime))}const C=l.jn.newChangeBuffer({trackRemovals:!0}),T=yield ep(l,(N=s,Js(Vf(sn.fromString(`__bundle__/docs/${N}`)))));var N;return l.persistence.runTransaction("Apply bundle documents","readwrite",N=>mM(N,C,g,kt.min(),_).next(k=>(C.apply(N),k)).next(k=>l.ze.removeMatchingKeysForTargetId(N,T.targetId).next(()=>l.ze.addMatchingKeys(N,d,T.targetId)).next(()=>l.Qn.vn(N,k)).next(()=>k)))})).apply(this,arguments)}function vM(i,n){return OE.apply(this,arguments)}function OE(){return(OE=(0,Te.Z)(function*(i,n,r=Xt()){const s=yield ep(i,Js(wE(n.bundledQuery))),l=We(i);return l.persistence.runTransaction("Save named query","readwrite",d=>{const g=Xr(n.readTime);if(s.snapshotVersion.compareTo(g)>=0)return l.Je.saveNamedQuery(d,n);const _=s.withResumeToken(vi.EMPTY_BYTE_STRING,g);return l.Un=l.Un.insert(_.targetId,_),l.ze.updateTargetData(d,_).next(()=>l.ze.removeMatchingKeysForTargetId(d,s.targetId)).next(()=>l.ze.addMatchingKeys(d,r,s.targetId)).next(()=>l.Je.saveNamedQuery(d,n))})})).apply(this,arguments)}class rm{constructor(n){this.N=n,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(n,r){return Be.resolve(this.Yn.get(r))}saveBundleMetadata(n,r){var s;return this.Yn.set(r.id,{id:(s=r).id,version:s.version,createTime:Xr(s.createTime)}),Be.resolve()}getNamedQuery(n,r){return Be.resolve(this.Xn.get(r))}saveNamedQuery(n,r){return this.Xn.set(r.name,{name:(s=r).name,query:wE(s.bundledQuery),readTime:Xr(s.readTime)}),Be.resolve();var s}}class Cv{constructor(){this.Zn=new ir(Vr.ts),this.es=new ir(Vr.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(n,r){const s=new Vr(n,r);this.Zn=this.Zn.add(s),this.es=this.es.add(s)}ss(n,r){n.forEach(s=>this.addReference(s,r))}removeReference(n,r){this.rs(new Vr(n,r))}os(n,r){n.forEach(s=>this.removeReference(s,r))}cs(n){const r=new lt(new sn([])),s=new Vr(r,n),l=new Vr(r,n+1),d=[];return this.es.forEachInRange([s,l],g=>{this.rs(g),d.push(g.key)}),d}us(){this.Zn.forEach(n=>this.rs(n))}rs(n){this.Zn=this.Zn.delete(n),this.es=this.es.delete(n)}hs(n){const r=new lt(new sn([])),s=new Vr(r,n),l=new Vr(r,n+1);let d=Xt();return this.es.forEachInRange([s,l],g=>{d=d.add(g.key)}),d}containsKey(n){const r=new Vr(n,0),s=this.Zn.firstAfterOrEqual(r);return null!==s&&n.isEqual(s.key)}}class Vr{constructor(n,r){this.key=n,this.ls=r}static ts(n,r){return lt.comparator(n.key,r.key)||Ut(n.ls,r.ls)}static ns(n,r){return Ut(n.ls,r.ls)||lt.comparator(n.key,r.key)}}class XA{constructor(n,r){this.Ht=n,this.referenceDelegate=r,this.In=[],this.fs=1,this.ds=new ir(Vr.ts)}checkEmpty(n){return Be.resolve(0===this.In.length)}addMutationBatch(n,r,s,l){const d=this.fs;this.fs++;const g=new _E(d,r,s,l);this.In.push(g);for(const _ of l)this.ds=this.ds.add(new Vr(_.key,d)),this.Ht.addToCollectionParentIndex(n,_.key.path.popLast());return Be.resolve(g)}lookupMutationBatch(n,r){return Be.resolve(this.ws(r))}getNextMutationBatchAfterBatchId(n,r){const l=this._s(r+1),d=l<0?0:l;return Be.resolve(this.In.length>d?this.In[d]:null)}getHighestUnacknowledgedBatchId(){return Be.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(n){return Be.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(n,r){const s=new Vr(r,0),l=new Vr(r,Number.POSITIVE_INFINITY),d=[];return this.ds.forEachInRange([s,l],g=>{const _=this.ws(g.ls);d.push(_)}),Be.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(n,r){let s=new ir(Ut);return r.forEach(l=>{const d=new Vr(l,0),g=new Vr(l,Number.POSITIVE_INFINITY);this.ds.forEachInRange([d,g],_=>{s=s.add(_.ls)})}),Be.resolve(this.gs(s))}getAllMutationBatchesAffectingQuery(n,r){const s=r.path,l=s.length+1;let d=s;lt.isDocumentKey(d)||(d=d.child(""));const g=new Vr(new lt(d),0);let _=new ir(Ut);return this.ds.forEachWhile(C=>{const T=C.key.path;return!!s.isPrefixOf(T)&&(T.length===l&&(_=_.add(C.ls)),!0)},g),Be.resolve(this.gs(_))}gs(n){const r=[];return n.forEach(s=>{const l=this.ws(s);null!==l&&r.push(l)}),r}removeMutationBatch(n,r){Dt(0===this.ys(r.batchId,"removed")),this.In.shift();let s=this.ds;return Be.forEach(r.mutations,l=>{const d=new Vr(l.key,r.batchId);return s=s.delete(d),this.referenceDelegate.markPotentiallyOrphaned(n,l.key)}).next(()=>{this.ds=s})}te(n){}containsKey(n,r){const s=new Vr(r,0),l=this.ds.firstAfterOrEqual(s);return Be.resolve(r.isEqual(l&&l.key))}performConsistencyCheck(n){return Be.resolve()}ys(n,r){return this._s(n)}_s(n){return 0===this.In.length?0:n-this.In[0].batchId}ws(n){const r=this._s(n);return r<0||r>=this.In.length?null:this.In[r]}}class eI{constructor(n,r){this.Ht=n,this.ps=r,this.docs=new Jr(lt.comparator),this.size=0}addEntry(n,r,s){const l=r.key,d=this.docs.get(l),g=d?d.size:0,_=this.ps(r);return this.docs=this.docs.insert(l,{document:r.clone(),size:_,readTime:s}),this.size+=_-g,this.Ht.addToCollectionParentIndex(n,l.path.popLast())}removeEntry(n){const r=this.docs.get(n);r&&(this.docs=this.docs.remove(n),this.size-=r.size)}getEntry(n,r){const s=this.docs.get(r);return Be.resolve(s?s.document.clone():jn.newInvalidDocument(r))}getEntries(n,r){let s=Io();return r.forEach(l=>{const d=this.docs.get(l);s=s.insert(l,d?d.document.clone():jn.newInvalidDocument(l))}),Be.resolve(s)}getDocumentsMatchingQuery(n,r,s){let l=Io();const d=new lt(r.path.child("")),g=this.docs.getIteratorFrom(d);for(;g.hasNext();){const{key:_,value:{document:C,readTime:T}}=g.getNext();if(!r.path.isPrefixOf(_.path))break;T.compareTo(s)<=0||sv(r,C)&&(l=l.insert(C.key,C.clone()))}return Be.resolve(l)}Es(n,r){return Be.forEach(this.docs,s=>r(s))}newChangeBuffer(n){return new tI(this)}getSize(n){return Be.resolve(this.size)}}class tI extends DE{constructor(n){super(),this.Se=n}applyChanges(n){const r=[];return this.changes.forEach((s,l)=>{l.document.isValidDocument()?r.push(this.Se.addEntry(n,l.document,this.getReadTime(s))):this.Se.removeEntry(s)}),Be.waitFor(r)}getFromCache(n,r){return this.Se.getEntry(n,r)}getAllFromCache(n,r){return this.Se.getEntries(n,r)}}class bM{constructor(n){this.persistence=n,this.Ts=new Jf(r=>jg(r),W_),this.lastRemoteSnapshotVersion=kt.min(),this.highestTargetId=0,this.Is=0,this.As=new Cv,this.targetCount=0,this.Rs=Od.se()}forEachTarget(n,r){return this.Ts.forEach((s,l)=>r(l)),Be.resolve()}getLastRemoteSnapshotVersion(n){return Be.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return Be.resolve(this.Is)}allocateTargetId(n){return this.highestTargetId=this.Rs.next(),Be.resolve(this.highestTargetId)}setTargetsMetadata(n,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this.Is&&(this.Is=r),Be.resolve()}ae(n){this.Ts.set(n.target,n);const r=n.targetId;r>this.highestTargetId&&(this.Rs=new Od(r),this.highestTargetId=r),n.sequenceNumber>this.Is&&(this.Is=n.sequenceNumber)}addTargetData(n,r){return this.ae(r),this.targetCount+=1,Be.resolve()}updateTargetData(n,r){return this.ae(r),Be.resolve()}removeTargetData(n,r){return this.Ts.delete(r.target),this.As.cs(r.targetId),this.targetCount-=1,Be.resolve()}removeTargets(n,r,s){let l=0;const d=[];return this.Ts.forEach((g,_)=>{_.sequenceNumber<=r&&null===s.get(_.targetId)&&(this.Ts.delete(g),d.push(this.removeMatchingKeysForTargetId(n,_.targetId)),l++)}),Be.waitFor(d).next(()=>l)}getTargetCount(n){return Be.resolve(this.targetCount)}getTargetData(n,r){const s=this.Ts.get(r)||null;return Be.resolve(s)}addMatchingKeys(n,r,s){return this.As.ss(r,s),Be.resolve()}removeMatchingKeys(n,r,s){this.As.os(r,s);const l=this.persistence.referenceDelegate,d=[];return l&&r.forEach(g=>{d.push(l.markPotentiallyOrphaned(n,g))}),Be.waitFor(d)}removeMatchingKeysForTargetId(n,r){return this.As.cs(r),Be.resolve()}getMatchingKeysForTargetId(n,r){const s=this.As.hs(r);return Be.resolve(s)}containsKey(n,r){return Be.resolve(this.As.containsKey(r))}}class wM{constructor(n,r){this.bs={},this.Le=new xs(0),this.Be=!1,this.Be=!0,this.referenceDelegate=n(this),this.ze=new bM(this),this.Ht=new lM,this.He=new eI(this.Ht,s=>this.referenceDelegate.Ps(s)),this.N=new kA(r),this.Je=new rm(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(n){let r=this.bs[n.toKey()];return r||(r=new XA(this.Ht,this.referenceDelegate),this.bs[n.toKey()]=r),r}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(n,r,s){qe("MemoryPersistence","Starting transaction:",n);const l=new EM(this.Le.next());return this.referenceDelegate.vs(),s(l).next(d=>this.referenceDelegate.Vs(l).next(()=>d)).toPromise().then(d=>(l.raiseOnCommittedEvent(),d))}Ss(n,r){return Be.or(Object.values(this.bs).map(s=>()=>s.containsKey(n,r)))}}class EM extends xt{constructor(n){super(),this.currentSequenceNumber=n}}class NE{constructor(n){this.persistence=n,this.Ds=new Cv,this.Cs=null}static Ns(n){return new NE(n)}get xs(){if(this.Cs)return this.Cs;throw at()}addReference(n,r,s){return this.Ds.addReference(s,r),this.xs.delete(s.toString()),Be.resolve()}removeReference(n,r,s){return this.Ds.removeReference(s,r),this.xs.add(s.toString()),Be.resolve()}markPotentiallyOrphaned(n,r){return this.xs.add(r.toString()),Be.resolve()}removeTarget(n,r){this.Ds.cs(r.targetId).forEach(l=>this.xs.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(n,r.targetId).next(l=>{l.forEach(d=>this.xs.add(d.toString()))}).next(()=>s.removeTargetData(n,r))}vs(){this.Cs=new Set}Vs(n){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Be.forEach(this.xs,s=>{const l=lt.fromPath(s);return this.ks(n,l).next(d=>{d||r.removeEntry(l)})}).next(()=>(this.Cs=null,r.apply(n)))}updateLimboDocument(n,r){return this.ks(n,r).next(s=>{s?this.xs.delete(r.toString()):this.xs.add(r.toString())})}Ps(n){return 0}ks(n,r){return Be.or([()=>Be.resolve(this.Ds.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(n,r),()=>this.persistence.Ss(n,r)])}}function nI(i,n){return`firestore_clients_${i}_${n}`}function rI(i,n,r){let s=`firestore_mutations_${i}_${r}`;return n.isAuthenticated()&&(s+=`_${n.uid}`),s}function kE(i,n){return`firestore_targets_${i}_${n}`}class pc{constructor(n,r,s,l){this.user=n,this.batchId=r,this.state=s,this.error=l}static $s(n,r,s){const l=JSON.parse(s);let d,g="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return g&&l.error&&(g="string"==typeof l.error.message&&"string"==typeof l.error.code,g&&(d=new Ue(l.error.code,l.error.message))),g?new pc(n,r,l.state,d):(nr("SharedClientState",`Failed to parse mutation state for ID '${r}': ${s}`),null)}Os(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class ou{constructor(n,r,s){this.targetId=n,this.state=r,this.error=s}static $s(n,r){const s=JSON.parse(r);let l,d="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return d&&s.error&&(d="string"==typeof s.error.message&&"string"==typeof s.error.code,d&&(l=new Ue(s.error.code,s.error.message))),d?new ou(n,s.state,l):(nr("SharedClientState",`Failed to parse target state for ID '${n}': ${r}`),null)}Os(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class Dv{constructor(n,r){this.clientId=n,this.activeTargetIds=r}static $s(n,r){const s=JSON.parse(r);let l="object"==typeof s&&s.activeTargetIds instanceof Array,d=hv();for(let g=0;l&&g<s.activeTargetIds.length;++g)l=rA(s.activeTargetIds[g]),d=d.add(s.activeTargetIds[g]);return l?new Dv(n,d):(nr("SharedClientState",`Failed to parse client data for instance '${n}': ${r}`),null)}}class im{constructor(n,r){this.clientId=n,this.onlineState=r}static $s(n){const r=JSON.parse(n);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new im(r.clientId,r.onlineState):(nr("SharedClientState",`Failed to parse online state: ${n}`),null)}}class To{constructor(){this.activeTargetIds=hv()}Fs(n){this.activeTargetIds=this.activeTargetIds.add(n)}Ms(n){this.activeTargetIds=this.activeTargetIds.delete(n)}Os(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class FE{constructor(n,r,s,l,d){this.window=n,this.Oe=r,this.persistenceKey=s,this.Ls=l,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new Jr(Ut),this.started=!1,this.Ks=[];const g=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=d,this.js=nI(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new To),this.Ws=new RegExp(`^firestore_clients_${g}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${g}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${g}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(_){return`firestore_bundle_loaded_${_}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(n){return!(!n||!n.localStorage)}start(){var n=this;return(0,Te.Z)(function*(){const r=yield n.syncEngine.pn();for(const l of r){if(l===n.Ls)continue;const d=n.getItem(nI(n.persistenceKey,l));if(d){const g=Dv.$s(l,d);g&&(n.qs=n.qs.insert(g.clientId,g))}}n.Ys();const s=n.storage.getItem(n.Hs);if(s){const l=n.Xs(s);l&&n.Zs(l)}for(const l of n.Ks)n.Us(l);n.Ks=[],n.window.addEventListener("pagehide",()=>n.shutdown()),n.started=!0})()}writeSequenceNumber(n){this.setItem(this.Qs,JSON.stringify(n))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(n){let r=!1;return this.qs.forEach((s,l)=>{l.activeTargetIds.has(n)&&(r=!0)}),r}addPendingMutation(n){this.ei(n,"pending")}updateMutationState(n,r,s){this.ei(n,r,s),this.ni(n)}addLocalQueryTarget(n){let r="not-current";if(this.isActiveQueryTarget(n)){const s=this.storage.getItem(kE(this.persistenceKey,n));if(s){const l=ou.$s(n,s);l&&(r=l.state)}}return this.si.Fs(n),this.Ys(),r}removeLocalQueryTarget(n){this.si.Ms(n),this.Ys()}isLocalQueryTarget(n){return this.si.activeTargetIds.has(n)}clearQueryState(n){this.removeItem(kE(this.persistenceKey,n))}updateQueryState(n,r,s){this.ii(n,r,s)}handleUserChange(n,r,s){r.forEach(l=>{this.ni(l)}),this.currentUser=n,s.forEach(l=>{this.addPendingMutation(l)})}setOnlineState(n){this.ri(n)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(n){const r=this.storage.getItem(n);return qe("SharedClientState","READ",n,r),r}setItem(n,r){qe("SharedClientState","SET",n,r),this.storage.setItem(n,r)}removeItem(n){qe("SharedClientState","REMOVE",n),this.storage.removeItem(n)}Us(n){var r=this;const s=n;if(s.storageArea===this.storage){if(qe("SharedClientState","EVENT",s.key,s.newValue),s.key===this.js)return void nr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,Te.Z)(function*(){if(r.started){if(null!==s.key)if(r.Ws.test(s.key)){if(null==s.newValue){const l=r.ai(s.key);return r.ci(l,null)}{const l=r.ui(s.key,s.newValue);if(l)return r.ci(l.clientId,l)}}else if(r.Gs.test(s.key)){if(null!==s.newValue){const l=r.hi(s.key,s.newValue);if(l)return r.li(l)}}else if(r.zs.test(s.key)){if(null!==s.newValue){const l=r.fi(s.key,s.newValue);if(l)return r.di(l)}}else if(s.key===r.Hs){if(null!==s.newValue){const l=r.Xs(s.newValue);if(l)return r.Zs(l)}}else if(s.key===r.Qs){const l=function(d){let g=xs.T;if(null!=d)try{const _=JSON.parse(d);Dt("number"==typeof _),g=_}catch(_){nr("SharedClientState","Failed to read sequence number from WebStorage",_)}return g}(s.newValue);l!==xs.T&&r.sequenceNumberHandler(l)}else if(s.key===r.Js)return r.syncEngine.wi()}else r.Ks.push(s)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(n,r,s){const l=new pc(this.currentUser,n,r,s),d=rI(this.persistenceKey,this.currentUser,n);this.setItem(d,l.Os())}ni(n){const r=rI(this.persistenceKey,this.currentUser,n);this.removeItem(r)}ri(n){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:n}))}ii(n,r,s){const l=kE(this.persistenceKey,n),d=new ou(n,r,s);this.setItem(l,d.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(n){const r=this.Ws.exec(n);return r?r[1]:null}ui(n,r){const s=this.ai(n);return Dv.$s(s,r)}hi(n,r){const s=this.Gs.exec(n),l=Number(s[1]);return pc.$s(new _i(void 0!==s[2]?s[2]:null),l,r)}fi(n,r){const s=this.zs.exec(n),l=Number(s[1]);return ou.$s(l,r)}Xs(n){return im.$s(n)}li(n){var r=this;return(0,Te.Z)(function*(){if(n.user.uid===r.currentUser.uid)return r.syncEngine._i(n.batchId,n.state,n.error);qe("SharedClientState",`Ignoring mutation for non-active user ${n.user.uid}`)})()}di(n){return this.syncEngine.mi(n.targetId,n.state,n.error)}ci(n,r){const s=r?this.qs.insert(n,r):this.qs.remove(n),l=this.ti(this.qs),d=this.ti(s),g=[],_=[];return d.forEach(C=>{l.has(C)||g.push(C)}),l.forEach(C=>{d.has(C)||_.push(C)}),this.syncEngine.gi(g,_).then(()=>{this.qs=s})}Zs(n){this.qs.get(n.clientId)&&this.onlineStateHandler(n.onlineState)}ti(n){let r=hv();return n.forEach((s,l)=>{r=r.unionWith(l.activeTargetIds)}),r}}class sm{constructor(){this.yi=new To,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,r,s){}addLocalQueryTarget(n){return this.yi.Fs(n),this.pi[n]||"not-current"}updateQueryState(n,r,s){this.pi[n]=r}removeLocalQueryTarget(n){this.yi.Ms(n)}isLocalQueryTarget(n){return this.yi.activeTargetIds.has(n)}clearQueryState(n){delete this.pi[n]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(n){return this.yi.activeTargetIds.has(n)}start(){return this.yi=new To,Promise.resolve()}handleUserChange(n,r,s){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(){}}class CM{Ei(n){}shutdown(){}}class iI{constructor(){this.Ti=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ei(n){this.bi.push(n)}shutdown(){window.removeEventListener("online",this.Ti),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ti),window.addEventListener("offline",this.Ai)}Ii(){qe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const n of this.bi)n(0)}Ri(){qe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const n of this.bi)n(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const AN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class PE{constructor(n){this.vi=n.vi,this.Vi=n.Vi}Si(n){this.Di=n}Ci(n){this.Ni=n}onMessage(n){this.xi=n}close(){this.Vi()}send(n){this.vi(n)}ki(){this.Di()}$i(n){this.Ni(n)}Oi(n){this.xi(n)}}class LE extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId,this.Fi=(n.ssl?"https":"http")+"://"+n.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(n,r,s,l){const d=this.Bi(n,r);qe("RestConnection","Sending: ",d,s);const g={};return this.Ui(g,l),this.qi(n,d,g,s).then(_=>(qe("RestConnection","Received: ",_),_),_=>{throw Pg("RestConnection",`${n} failed with error: `,_,"url: ",d,"request:",s),_})}Ki(n,r,s,l){return this.Li(n,r,s,l)}Ui(n,r){if(n["X-Goog-Api-Client"]="gl-js/ fire/"+ru,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r)for(const s in r.authHeaders)r.authHeaders.hasOwnProperty(s)&&(n[s]=r.authHeaders[s])}Bi(n,r){return`${this.Fi}/v1/${r}:${AN[n]}`}}{constructor(n){super(n),this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams}qi(n,r,s,l){return new Promise((d,g)=>{const _=new U_;_.listenOnce(_N.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case V_.NO_ERROR:const T=_.getResponseJson();qe("Connection","XHR received:",JSON.stringify(T)),d(T);break;case V_.TIMEOUT:qe("Connection",'RPC "'+n+'" timed out'),g(new Ue(Ce.DEADLINE_EXCEEDED,"Request time out"));break;case V_.HTTP_ERROR:const N=_.getStatus();if(qe("Connection",'RPC "'+n+'" failed with status:',N,"response text:",_.getResponseText()),N>0){const k=_.getResponseJson().error;if(k&&k.status&&k.message){const z=function($){const re=$.toLowerCase().replace(/_/g,"-");return Object.values(Ce).indexOf(re)>=0?re:Ce.UNKNOWN}(k.status);g(new Ue(z,k.message))}else g(new Ue(Ce.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new Ue(Ce.UNAVAILABLE,"Connection failed."));break;default:at()}}finally{qe("Connection",'RPC "'+n+'" completed.')}});const C=JSON.stringify(l);_.send(r,"POST",C,s,15)})}ji(n,r){const s=[this.Fi,"/","google.firestore.v1.Firestore","/",n,"/channel"],l=yN(),d=YD(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(g.xmlHttpFactory=new xT({})),this.Ui(g.initMessageHeaders,r),(0,jt.uI)()||(0,jt.b$)()||(0,jt.d)()||(0,jt.w1)()||(0,jt.Mn)()||(0,jt.ru)()||(g.httpHeadersOverwriteParam="$httpHeaders");const _=s.join("");qe("Connection","Creating WebChannel: "+_,g);const C=l.createWebChannel(_,g);let T=!1,N=!1;const k=new PE({vi:$=>{N?qe("Connection","Not sending because WebChannel is closed:",$):(T||(qe("Connection","Opening WebChannel transport."),C.open(),T=!0),qe("Connection","WebChannel sending:",$),C.send($))},Vi:()=>C.close()}),z=($,re,Ie)=>{$.listen(re,Le=>{try{Ie(Le)}catch(He){setTimeout(()=>{throw He},0)}})};return z(C,B_.EventType.OPEN,()=>{N||qe("Connection","WebChannel transport opened.")}),z(C,B_.EventType.CLOSE,()=>{N||(N=!0,qe("Connection","WebChannel transport closed"),k.$i())}),z(C,B_.EventType.ERROR,$=>{N||(N=!0,Pg("Connection","WebChannel transport errored:",$),k.$i(new Ue(Ce.UNAVAILABLE,"The operation could not be completed")))}),z(C,B_.EventType.MESSAGE,$=>{var re;if(!N){const Ie=$.data[0];Dt(!!Ie);const Le=Ie,He=Le.error||(null===(re=Le[0])||void 0===re?void 0:re.error);if(He){qe("Connection","WebChannel received error:",He);const st=He.status;let Nt=function(In){const br=Zn[In];if(void 0!==br)return bA(br)}(st),gt=He.message;void 0===Nt&&(Nt=Ce.INTERNAL,gt="Unknown error status: "+st+" with message "+He.message),N=!0,k.$i(new Ue(Nt,gt)),C.close()}else qe("Connection","WebChannel received:",Ie),k.Oi(Ie)}}),z(d,vt.STAT_EVENT,$=>{$.stat===ZD.PROXY?qe("Connection","Detected buffering proxy"):$.stat===ZD.NOPROXY&&qe("Connection","Detected no buffering proxy")}),setTimeout(()=>{k.ki()},0),k}}function VE(){return"undefined"!=typeof window?window:null}function tp(){return"undefined"!=typeof document?document:null}function Fd(i){return new AA(i,!0)}class BE{constructor(n,r,s=1e3,l=1.5,d=6e4){this.Oe=n,this.timerId=r,this.Qi=s,this.Wi=l,this.Gi=d,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(n){this.cancel();const r=Math.floor(this.zi+this.Zi()),s=Math.max(0,Date.now()-this.Ji),l=Math.max(0,r-s);l>0&&qe("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.zi} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,l,()=>(this.Ji=Date.now(),n())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class sI{constructor(n,r,s,l,d,g){this.Oe=n,this.er=s,this.nr=l,this.credentialsProvider=d,this.listener=g,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new BE(n,r)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var n=this;return(0,Te.Z)(function*(){n.ar()&&(yield n.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(n){this._r(),this.stream.send(n)}dr(){var n=this;return(0,Te.Z)(function*(){if(n.cr())return n.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(n,r){var s=this;return(0,Te.Z)(function*(){s._r(),s.rr.cancel(),s.sr++,3!==n?s.rr.reset():r&&r.code===Ce.RESOURCE_EXHAUSTED?(nr(r.toString()),nr("Using maximum backoff delay to prevent overloading the backend."),s.rr.Yi()):r&&r.code===Ce.UNAUTHENTICATED&&s.credentialsProvider.invalidateToken(),null!==s.stream&&(s.mr(),s.stream.close(),s.stream=null),s.state=n,yield s.listener.Ci(r)})()}mr(){}auth(){this.state=1;const n=this.gr(this.sr),r=this.sr;this.credentialsProvider.getToken().then(s=>{this.sr===r&&this.yr(s)},s=>{n(()=>{const l=new Ue(Ce.UNKNOWN,"Fetching auth token failed: "+s.message);return this.pr(l)})})}yr(n){const r=this.gr(this.sr);this.stream=this.Er(n),this.stream.Si(()=>{r(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(s=>{r(()=>this.pr(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}ur(){var n=this;this.state=4,this.rr.Xi((0,Te.Z)(function*(){n.state=0,n.start()}))}pr(n){return qe("PersistentStream",`close with error: ${n}`),this.stream=null,this.close(3,n)}gr(n){return r=>{this.Oe.enqueueAndForget(()=>this.sr===n?r():(qe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class DM extends sI{constructor(n,r,s,l,d){super(n,"listen_stream_connection_backoff","listen_stream_idle",r,s,d),this.N=l}Er(n){return this.nr.ji("Listen",n)}onMessage(n){this.rr.reset();const r=function(i,n){let r;if("targetChange"in n){const s="NO_CHANGE"===(C=n.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===C?1:"REMOVE"===C?2:"CURRENT"===C?3:"RESET"===C?4:at(),l=n.targetChange.targetIds||[],d=function(C,T){return C.D?(Dt(void 0===T||"string"==typeof T),vi.fromBase64String(T||"")):(Dt(void 0===T||T instanceof Uint8Array),vi.fromUint8Array(T||new Uint8Array))}(i,n.targetChange.resumeToken),g=n.targetChange.cause,_=g&&function(C){const T=void 0===C.code?Ce.UNKNOWN:bA(C.code);return new Ue(T,C.message||"")}(g);r=new EA(s,l,d,_||null)}else if("documentChange"in n){const s=n.documentChange,l=ca(i,s.document.name),d=Xr(s.document.updateTime),g=new bi({mapValue:{fields:s.document.fields}}),_=jn.newFoundDocument(l,d,g);r=new sl(s.targetIds||[],s.removedTargetIds||[],_.key,_)}else if("documentDelete"in n){const s=n.documentDelete,l=ca(i,s.document),d=s.readTime?Xr(s.readTime):kt.min(),g=jn.newNoDocument(l,d);r=new sl([],s.removedTargetIds||[],g.key,g)}else if("documentRemove"in n){const s=n.documentRemove,l=ca(i,s.document);r=new sl([],s.removedTargetIds||[],l,null)}else{if(!("filter"in n))return at();{const s=n.filter,d=new cv(s.count||0);r=new dE(s.targetId,d)}}var C;return r}(this.N,n),s=function(l){if(!("targetChange"in l))return kt.min();const d=l.targetChange;return d.targetIds&&d.targetIds.length?kt.min():d.readTime?Xr(d.readTime):kt.min()}(n);return this.listener.Tr(r,s)}Ir(n){const r={};r.database=fv(this.N),r.addTarget=function(l,d){let g;const _=d.target;return g=Q_(_)?{documents:pv(l,_)}:{query:sc(l,_)},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0?g.resumeToken=hE(l,d.resumeToken):d.snapshotVersion.compareTo(kt.min())>0&&(g.readTime=Td(l,d.snapshotVersion.toTimestamp())),g}(this.N,n);const s=function(i,n){const r=function(s,l){switch(l){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return at()}}(0,n.purpose);return null==r?null:{"goog-listen-tags":r}}(0,n);s&&(r.labels=s),this.wr(r)}Ar(n){const r={};r.database=fv(this.N),r.removeTarget=n,this.wr(r)}}class AM extends sI{constructor(n,r,s,l,d){super(n,"write_stream_connection_backoff","write_stream_idle",r,s,d),this.N=l,this.Rr=!1}get br(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.Pr([])}Er(n){return this.nr.ji("Write",n)}onMessage(n){if(Dt(!!n.streamToken),this.lastStreamToken=n.streamToken,this.Rr){this.rr.reset();const r=function(i,n){return i&&i.length>0?(Dt(void 0!==n),i.map(r=>function(s,l){let d=Xr(s.updateTime?s.updateTime:l);return d.isEqual(kt.min())&&(d=Xr(l)),new iE(d,s.transformResults||[])}(r,n))):[]}(n.writeResults,n.commitTime),s=Xr(n.commitTime);return this.listener.vr(s,r)}return Dt(!n.writeResults||0===n.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const n={};n.database=fv(this.N),this.wr(n)}Pr(n){const r={streamToken:this.lastStreamToken,writes:n.map(s=>gE(this.N,s))};this.wr(r)}}class oI extends class{}{constructor(n,r,s){super(),this.credentials=n,this.nr=r,this.N=s,this.Dr=!1}Cr(){if(this.Dr)throw new Ue(Ce.FAILED_PRECONDITION,"The client has already been terminated.")}Li(n,r,s){return this.Cr(),this.credentials.getToken().then(l=>this.nr.Li(n,r,s,l)).catch(l=>{throw"FirebaseError"===l.name?(l.code===Ce.UNAUTHENTICATED&&this.credentials.invalidateToken(),l):new Ue(Ce.UNKNOWN,l.toString())})}Ki(n,r,s){return this.Cr(),this.credentials.getToken().then(l=>this.nr.Ki(n,r,s,l)).catch(l=>{throw"FirebaseError"===l.name?(l.code===Ce.UNAUTHENTICATED&&this.credentials.invalidateToken(),l):new Ue(Ce.UNKNOWN,l.toString())})}terminate(){this.Dr=!0}}class UE{constructor(n,r){this.asyncQueue=n,this.onlineStateHandler=r,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(n){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.Fr("Offline")))}set(n){this.Br(),this.Nr=0,"Online"===n&&(this.$r=!1),this.Fr(n)}Fr(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}Mr(n){const r=`Could not reach Cloud Firestore backend. ${n}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(nr(r),this.$r=!1):qe("OnlineStateTracker",r)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class aI{constructor(n,r,s,l,d){var g=this;this.localStore=n,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=d,this.Qr.Ei(_=>{s.enqueueAndForget((0,Te.Z)(function*(){var C;or(g)&&(qe("RemoteStore","Restarting streams for network reachability change."),yield(C=(0,Te.Z)(function*(T){const N=We(T);N.Kr.add(4),yield Pd(N),N.Wr.set("Unknown"),N.Kr.delete(4),yield np(N)}),function(T){return C.apply(this,arguments)})(g))}))}),this.Wr=new UE(s,l)}}function np(i){return Av.apply(this,arguments)}function Av(){return(Av=(0,Te.Z)(function*(i){if(or(i))for(const n of i.jr)yield n(!0)})).apply(this,arguments)}function Pd(i){return jE.apply(this,arguments)}function jE(){return(jE=(0,Te.Z)(function*(i){for(const n of i.jr)yield n(!1)})).apply(this,arguments)}function om(i,n){const r=We(i);r.qr.has(n.targetId)||(r.qr.set(n.targetId,n),lI(r)?$E(r):sp(r).cr()&&GE(r,n))}function rp(i,n){const r=We(i),s=sp(r);r.qr.delete(n),s.cr()&&HE(r,n),0===r.qr.size&&(s.cr()?s.lr():or(r)&&r.Wr.set("Unknown"))}function GE(i,n){i.Gr.Y(n.targetId),sp(i).Ir(n)}function HE(i,n){i.Gr.Y(n),sp(i).Ar(n)}function $E(i){i.Gr=new QT({getRemoteKeysForTarget:n=>i.remoteSyncer.getRemoteKeysForTarget(n),Et:n=>i.qr.get(n)||null}),sp(i).start(),i.Wr.Or()}function lI(i){return or(i)&&!sp(i).ar()&&i.qr.size>0}function or(i){return 0===We(i).Kr.size}function Ld(i){i.Gr=void 0}function IM(i){return zE.apply(this,arguments)}function zE(){return(zE=(0,Te.Z)(function*(i){i.qr.forEach((n,r)=>{GE(i,n)})})).apply(this,arguments)}function IN(i,n){return Vd.apply(this,arguments)}function Vd(){return(Vd=(0,Te.Z)(function*(i,n){Ld(i),lI(i)?(i.Wr.Lr(n),$E(i)):i.Wr.set("Unknown")})).apply(this,arguments)}function xM(i,n,r){return am.apply(this,arguments)}function am(){return(am=(0,Te.Z)(function*(i,n,r){if(i.Wr.set("Online"),n instanceof EA&&2===n.state&&n.cause)try{yield(s=(0,Te.Z)(function*(l,d){const g=d.cause;for(const _ of d.targetIds)l.qr.has(_)&&(yield l.remoteSyncer.rejectListen(_,g),l.qr.delete(_),l.Gr.removeTarget(_))}),function(l,d){return s.apply(this,arguments)})(i,n)}catch(s){qe("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),s),yield Iv(i,s)}else if(n instanceof sl?i.Gr.rt(n):n instanceof dE?i.Gr.ft(n):i.Gr.ct(n),!r.isEqual(kt.min()))try{const s=yield SE(i.localStore);r.compareTo(s)>=0&&(yield function(l,d){const g=l.Gr._t(d);return g.targetChanges.forEach((_,C)=>{if(_.resumeToken.approximateByteSize()>0){const T=l.qr.get(C);T&&l.qr.set(C,T.withResumeToken(_.resumeToken,d))}}),g.targetMismatches.forEach(_=>{const C=l.qr.get(_);if(!C)return;l.qr.set(_,C.withResumeToken(vi.EMPTY_BYTE_STRING,C.snapshotVersion)),HE(l,_);const T=new uc(C.target,_,1,C.sequenceNumber);GE(l,T)}),l.remoteSyncer.applyRemoteEvent(g)}(i,r))}catch(s){qe("RemoteStore","Failed to raise snapshot:",s),yield Iv(i,s)}var s})).apply(this,arguments)}function Iv(i,n,r){return xv.apply(this,arguments)}function xv(){return(xv=(0,Te.Z)(function*(i,n,r){if(!qf(n))throw n;i.Kr.add(1),yield Pd(i),i.Wr.set("Offline"),r||(r=()=>SE(i.localStore)),i.asyncQueue.enqueueRetryable((0,Te.Z)(function*(){qe("RemoteStore","Retrying IndexedDB access"),yield r(),i.Kr.delete(1),yield np(i)}))})).apply(this,arguments)}function uI(i,n){return n().catch(r=>Iv(i,r,n))}function ip(i){return lm.apply(this,arguments)}function lm(){return(lm=(0,Te.Z)(function*(i){const n=We(i),r=au(n);let s=n.Ur.length>0?n.Ur[n.Ur.length-1].batchId:-1;for(;cI(n);)try{const l=yield WA(n.localStore,s);if(null===l){0===n.Ur.length&&r.lr();break}s=l.batchId,dI(n,l)}catch(l){yield Iv(n,l)}um(n)&&Sv(n)})).apply(this,arguments)}function cI(i){return or(i)&&i.Ur.length<10}function dI(i,n){i.Ur.push(n);const r=au(i);r.cr()&&r.br&&r.Pr(n.mutations)}function um(i){return or(i)&&!au(i).ar()&&i.Ur.length>0}function Sv(i){au(i).start()}function xN(i){return Tv.apply(this,arguments)}function Tv(){return(Tv=(0,Te.Z)(function*(i){au(i).Sr()})).apply(this,arguments)}function SM(i){return Mv.apply(this,arguments)}function Mv(){return(Mv=(0,Te.Z)(function*(i){const n=au(i);for(const r of i.Ur)n.Pr(r.mutations)})).apply(this,arguments)}function Rv(i,n,r){return Ov.apply(this,arguments)}function Ov(){return(Ov=(0,Te.Z)(function*(i,n,r){const s=i.Ur.shift(),l=vE.from(s,n,r);yield uI(i,()=>i.remoteSyncer.applySuccessfulWrite(l)),yield ip(i)})).apply(this,arguments)}function TM(i,n){return cm.apply(this,arguments)}function cm(){return(cm=(0,Te.Z)(function*(i,n){var r;n&&au(i).br&&(yield(r=(0,Te.Z)(function*(s,l){if(vA(d=l.code)&&d!==Ce.ABORTED){const g=s.Ur.shift();au(s).hr(),yield uI(s,()=>s.remoteSyncer.rejectFailedWrite(g.batchId,l)),yield ip(s)}var d}),function(s,l){return r.apply(this,arguments)})(i,n)),um(i)&&Sv(i)})).apply(this,arguments)}function dm(i,n){return qE.apply(this,arguments)}function qE(){return(qE=(0,Te.Z)(function*(i,n){const r=We(i);n?(r.Kr.delete(2),yield np(r)):n||(r.Kr.add(2),yield Pd(r),r.Wr.set("Unknown"))})).apply(this,arguments)}function sp(i){return i.zr||(i.zr=function(n,r,s){const l=We(n);return l.Cr(),new DM(r,l.nr,l.credentials,l.N,s)}(i.datastore,i.asyncQueue,{Si:IM.bind(null,i),Ci:IN.bind(null,i),Tr:xM.bind(null,i)}),i.jr.push(function(){var n=(0,Te.Z)(function*(r){r?(i.zr.hr(),lI(i)?$E(i):i.Wr.set("Unknown")):(yield i.zr.stop(),Ld(i))});return function(r){return n.apply(this,arguments)}}())),i.zr}function au(i){return i.Hr||(i.Hr=function(n,r,s){const l=We(n);return l.Cr(),new AM(r,l.nr,l.credentials,l.N,s)}(i.datastore,i.asyncQueue,{Si:xN.bind(null,i),Ci:TM.bind(null,i),Vr:SM.bind(null,i),vr:Rv.bind(null,i)}),i.jr.push(function(){var n=(0,Te.Z)(function*(r){r?(i.Hr.hr(),yield ip(i)):(yield i.Hr.stop(),i.Ur.length>0&&(qe("RemoteStore",`Stopping write stream with ${i.Ur.length} pending writes`),i.Ur=[]))});return function(r){return n.apply(this,arguments)}}())),i.Hr}class Nv{constructor(n,r,s,l,d){this.asyncQueue=n,this.timerId=r,this.targetTimeMs=s,this.op=l,this.removalCallback=d,this.deferred=new rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(g=>{})}static createAndSchedule(n,r,s,l,d){const g=Date.now()+s,_=new Nv(n,r,g,l,d);return _.start(s),_}start(n){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ue(Ce.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(n=>this.deferred.resolve(n))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bd(i,n){if(nr("AsyncQueue",`${n}: ${i}`),qf(i))return new Ue(Ce.UNAVAILABLE,`${n}: ${i}`);throw i}class op{constructor(n){this.comparator=n?(r,s)=>n(r,s)||lt.comparator(r.key,s.key):(r,s)=>lt.comparator(r.key,s.key),this.keyedMap=cE(),this.sortedSet=new Jr(this.comparator)}static emptySet(n){return new op(n.comparator)}has(n){return null!=this.keyedMap.get(n)}get(n){return this.keyedMap.get(n)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(n){const r=this.keyedMap.get(n);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal((r,s)=>(n(r),!1))}add(n){const r=this.delete(n.key);return r.copy(r.keyedMap.insert(n.key,n),r.sortedSet.insert(n,null))}delete(n){const r=this.get(n);return r?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(r)):this}isEqual(n){if(!(n instanceof op)||this.size!==n.size)return!1;const r=this.sortedSet.getIterator(),s=n.sortedSet.getIterator();for(;r.hasNext();){const l=r.getNext().key,d=s.getNext().key;if(!l.isEqual(d))return!1}return!0}toString(){const n=[];return this.forEach(r=>{n.push(r.toString())}),0===n.length?"DocumentSet ()":"DocumentSet (\n  "+n.join("  \n")+"\n)"}copy(n,r){const s=new op;return s.comparator=this.comparator,s.keyedMap=n,s.sortedSet=r,s}}class KE{constructor(){this.Jr=new Jr(lt.comparator)}track(n){const r=n.doc.key,s=this.Jr.get(r);s?0!==n.type&&3===s.type?this.Jr=this.Jr.insert(r,n):3===n.type&&1!==s.type?this.Jr=this.Jr.insert(r,{type:s.type,doc:n.doc}):2===n.type&&2===s.type?this.Jr=this.Jr.insert(r,{type:2,doc:n.doc}):2===n.type&&0===s.type?this.Jr=this.Jr.insert(r,{type:0,doc:n.doc}):1===n.type&&0===s.type?this.Jr=this.Jr.remove(r):1===n.type&&2===s.type?this.Jr=this.Jr.insert(r,{type:1,doc:s.doc}):0===n.type&&1===s.type?this.Jr=this.Jr.insert(r,{type:2,doc:n.doc}):at():this.Jr=this.Jr.insert(r,n)}Yr(){const n=[];return this.Jr.inorderTraversal((r,s)=>{n.push(s)}),n}}class Ud{constructor(n,r,s,l,d,g,_,C){this.query=n,this.docs=r,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=d,this.fromCache=g,this.syncStateChanged=_,this.excludesMetadataChanges=C}static fromInitialDocuments(n,r,s,l){const d=[];return r.forEach(g=>{d.push({type:0,doc:g})}),new Ud(n,r,op.emptySet(r),d,s,l,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(n){if(!(this.fromCache===n.fromCache&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&iv(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;const r=this.docChanges,s=n.docChanges;if(r.length!==s.length)return!1;for(let l=0;l<r.length;l++)if(r[l].type!==s[l].type||!r[l].doc.isEqual(s[l].doc))return!1;return!0}}class MM{constructor(){this.Xr=void 0,this.listeners=[]}}class RM{constructor(){this.queries=new Jf(n=>dA(n),iv),this.onlineState="Unknown",this.Zr=new Set}}function kv(i,n){return YE.apply(this,arguments)}function YE(){return(YE=(0,Te.Z)(function*(i,n){const r=We(i),s=n.query;let l=!1,d=r.queries.get(s);if(d||(l=!0,d=new MM),l)try{d.Xr=yield r.onListen(s)}catch(g){const _=Bd(g,`Initialization of query '${nc(n.query)}' failed`);return void n.onError(_)}r.queries.set(s,d),d.listeners.push(n),n.eo(r.onlineState),d.Xr&&n.no(d.Xr)&&ZE(r)})).apply(this,arguments)}function Fv(i,n){return Pv.apply(this,arguments)}function Pv(){return(Pv=(0,Te.Z)(function*(i,n){const r=We(i),s=n.query;let l=!1;const d=r.queries.get(s);if(d){const g=d.listeners.indexOf(n);g>=0&&(d.listeners.splice(g,1),l=0===d.listeners.length)}if(l)return r.queries.delete(s),r.onUnlisten(s)})).apply(this,arguments)}function hI(i,n){const r=We(i);let s=!1;for(const l of n){const g=r.queries.get(l.query);if(g){for(const _ of g.listeners)_.no(l)&&(s=!0);g.Xr=l}}s&&ZE(r)}function fI(i,n,r){const s=We(i),l=s.queries.get(n);if(l)for(const d of l.listeners)d.onError(r);s.queries.delete(n)}function ZE(i){i.Zr.forEach(n=>{n.next()})}class WE{constructor(n,r,s){this.query=n,this.so=r,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=s||{}}no(n){if(!this.options.includeMetadataChanges){const s=[];for(const l of n.docChanges)3!==l.type&&s.push(l);n=new Ud(n.query,n.docs,n.oldDocs,s,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0)}let r=!1;return this.io?this.oo(n)&&(this.so.next(n),r=!0):this.ao(n,this.onlineState)&&(this.co(n),r=!0),this.ro=n,r}onError(n){this.so.error(n)}eo(n){this.onlineState=n;let r=!1;return this.ro&&!this.io&&this.ao(this.ro,n)&&(this.co(this.ro),r=!0),r}ao(n,r){return!n.fromCache||!(this.options.uo&&"Offline"!==r||n.docs.isEmpty()&&"Offline"!==r)}oo(n){return n.docChanges.length>0||!!(n.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==n.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(n){n=Ud.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache),this.io=!0,this.so.next(n)}}class OM{constructor(n,r){this.payload=n,this.byteLength=r}ho(){return"metadata"in this.payload}}class QE{constructor(n){this.N=n}zn(n){return ca(this.N,n)}Hn(n){return n.metadata.exists?iu(this.N,n.document,!1):jn.newNoDocument(this.zn(n.metadata.name),this.Jn(n.metadata.readTime))}Jn(n){return Xr(n)}}class SN{constructor(n,r,s){this.lo=n,this.localStore=r,this.N=s,this.queries=[],this.documents=[],this.progress=NM(n)}fo(n){this.progress.bytesLoaded+=n.byteLength;let r=this.progress.documentsLoaded;return n.payload.namedQuery?this.queries.push(n.payload.namedQuery):n.payload.documentMetadata?(this.documents.push({metadata:n.payload.documentMetadata}),n.payload.documentMetadata.exists||++r):n.payload.document&&(this.documents[this.documents.length-1].document=n.payload.document,++r),r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}wo(n){const r=new Map,s=new QE(this.N);for(const l of n)if(l.metadata.queries){const d=s.zn(l.metadata.name);for(const g of l.metadata.queries){const _=(r.get(g)||Xt()).add(d);r.set(g,_)}}return r}complete(){var n=this;return(0,Te.Z)(function*(){const r=yield function(i,n,r,s){return RE.apply(this,arguments)}(n.localStore,new QE(n.N),n.documents,n.lo.id),s=n.wo(n.documents);for(const l of n.queries)yield vM(n.localStore,l,s.get(l.name));return n.progress.taskState="Success",new pM(Object.assign({},n.progress),r)})()}}function NM(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class kM{constructor(n){this.key=n}}class FM{constructor(n){this.key=n}}class PM{constructor(n,r){this.query=n,this._o=r,this.mo=null,this.current=!1,this.yo=Xt(),this.mutatedKeys=Xt(),this.po=ov(n),this.Eo=new op(this.po)}get To(){return this._o}Io(n,r){const s=r?r.Ao:new KE,l=r?r.Eo:this.Eo;let d=r?r.mutatedKeys:this.mutatedKeys,g=l,_=!1;const C=nv(this.query)&&l.size===this.query.limit?l.last():null,T=Bf(this.query)&&l.size===this.query.limit?l.first():null;if(n.inorderTraversal((N,k)=>{const z=l.get(N),$=sv(this.query,k)?k:null,re=!!z&&this.mutatedKeys.has(z.key),Ie=!!$&&($.hasLocalMutations||this.mutatedKeys.has($.key)&&$.hasCommittedMutations);let Le=!1;z&&$?z.data.isEqual($.data)?re!==Ie&&(s.track({type:3,doc:$}),Le=!0):this.Ro(z,$)||(s.track({type:2,doc:$}),Le=!0,(C&&this.po($,C)>0||T&&this.po($,T)<0)&&(_=!0)):!z&&$?(s.track({type:0,doc:$}),Le=!0):z&&!$&&(s.track({type:1,doc:z}),Le=!0,(C||T)&&(_=!0)),Le&&($?(g=g.add($),d=Ie?d.add(N):d.delete(N)):(g=g.delete(N),d=d.delete(N)))}),nv(this.query)||Bf(this.query))for(;g.size>this.query.limit;){const N=nv(this.query)?g.last():g.first();g=g.delete(N.key),d=d.delete(N.key),s.track({type:1,doc:N})}return{Eo:g,Ao:s,Ln:_,mutatedKeys:d}}Ro(n,r){return n.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(n,r,s){const l=this.Eo;this.Eo=n.Eo,this.mutatedKeys=n.mutatedKeys;const d=n.Ao.Yr();d.sort((T,N)=>function(k,z){const $=re=>{switch(re){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return at()}};return $(k)-$(z)}(T.type,N.type)||this.po(T.doc,N.doc)),this.bo(s);const g=r?this.Po():[],_=0===this.yo.size&&this.current?1:0,C=_!==this.mo;return this.mo=_,0!==d.length||C?{snapshot:new Ud(this.query,n.Eo,l,d,n.mutatedKeys,0===_,C,!1),vo:g}:{vo:g}}eo(n){return this.current&&"Offline"===n?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new KE,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(n){return!this._o.has(n)&&!!this.Eo.has(n)&&!this.Eo.get(n).hasLocalMutations}bo(n){n&&(n.addedDocuments.forEach(r=>this._o=this._o.add(r)),n.modifiedDocuments.forEach(r=>{}),n.removedDocuments.forEach(r=>this._o=this._o.delete(r)),this.current=n.current)}Po(){if(!this.current)return[];const n=this.yo;this.yo=Xt(),this.Eo.forEach(s=>{this.Vo(s.key)&&(this.yo=this.yo.add(s.key))});const r=[];return n.forEach(s=>{this.yo.has(s)||r.push(new FM(s))}),this.yo.forEach(s=>{n.has(s)||r.push(new kM(s))}),r}So(n){this._o=n.Gn,this.yo=Xt();const r=this.Io(n.documents);return this.applyChanges(r,!0)}Do(){return Ud.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)}}class TN{constructor(n,r,s){this.query=n,this.targetId=r,this.view=s}}class MN{constructor(n){this.key=n,this.Co=!1}}class RN{constructor(n,r,s,l,d,g){this.localStore=n,this.remoteStore=r,this.eventManager=s,this.sharedClientState=l,this.currentUser=d,this.maxConcurrentLimboResolutions=g,this.No={},this.xo=new Jf(_=>dA(_),iv),this.ko=new Map,this.$o=new Set,this.Oo=new Jr(lt.comparator),this.Fo=new Map,this.Mo=new Cv,this.Lo={},this.Bo=new Map,this.Uo=Od.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function ON(i,n){return pI.apply(this,arguments)}function pI(){return(pI=(0,Te.Z)(function*(i,n){const r=pm(i);let s,l;const d=r.xo.get(n);if(d)s=d.targetId,r.sharedClientState.addLocalQueryTarget(s),l=d.view.Do();else{const g=yield ep(r.localStore,Js(n)),_=r.sharedClientState.addLocalQueryTarget(g.targetId);s=g.targetId,l=yield gI(r,n,s,"current"===_),r.isPrimaryClient&&om(r.remoteStore,g)}return l})).apply(this,arguments)}function gI(i,n,r,s){return mI.apply(this,arguments)}function mI(){return(mI=(0,Te.Z)(function*(i,n,r,s){i.Ko=(N,k,z)=>{return($=(0,Te.Z)(function*(re,Ie,Le,He){let st=Ie.view.Io(Le);st.Ln&&(st=yield Ev(re.localStore,Ie.query,!1).then(({documents:In})=>Ie.view.Io(In,st)));const Nt=He&&He.targetChanges.get(Ie.targetId),gt=Ie.view.applyChanges(st,re.isPrimaryClient,Nt);return II(re,Ie.targetId,gt.vo),gt.snapshot}),function(re,Ie,Le,He){return $.apply(this,arguments)})(i,N,k,z);var $};const l=yield Ev(i.localStore,n,!0),d=new PM(n,l.Gn),g=d.Io(l.documents),_=ic.createSynthesizedTargetChangeForCurrentChange(r,s&&"Offline"!==i.onlineState),C=d.applyChanges(g,i.isPrimaryClient,_);II(i,r,C.vo);const T=new TN(n,r,d);return i.xo.set(n,T),i.ko.has(r)?i.ko.get(r).push(n):i.ko.set(r,[n]),C.snapshot})).apply(this,arguments)}function NN(i,n){return yI.apply(this,arguments)}function yI(){return(yI=(0,Te.Z)(function*(i,n){const r=We(i),s=r.xo.get(n),l=r.ko.get(s.targetId);if(l.length>1)return r.ko.set(s.targetId,l.filter(d=>!iv(d,n))),void r.xo.delete(n);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||(yield fc(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),rp(r.remoteStore,s.targetId),hm(r,s.targetId)}).catch(Qf))):(hm(r,s.targetId),yield fc(r.localStore,s.targetId,!0))})).apply(this,arguments)}function _I(){return(_I=(0,Te.Z)(function*(i,n,r){const s=rC(i);try{const l=yield function(d,g){const _=We(d),C=Qr.now(),T=g.reduce((k,z)=>k.add(z.key),Xt());let N;return _.persistence.runTransaction("Locally write mutations","readwrite",k=>_.Qn.Pn(k,T).next(z=>{N=z;const $=[];for(const re of g){const Ie=HT(re,N.get(re.key));null!=Ie&&$.push(new rc(re.key,Ie,oA(Ie.value.mapValue),yr.exists(!0)))}return _.In.addMutationBatch(k,C,$,g)})).then(k=>(k.applyToLocalDocumentSet(N),{batchId:k.batchId,changes:N}))}(s.localStore,n);s.sharedClientState.addPendingMutation(l.batchId),function(d,g,_){let C=d.Lo[d.currentUser.toKey()];C||(C=new Jr(Ut)),C=C.insert(g,_),d.Lo[d.currentUser.toKey()]=C}(s,l.batchId,r),yield Ms(s,l.changes),yield ip(s.remoteStore)}catch(l){const d=Bd(l,"Failed to persist write");r.reject(d)}})).apply(this,arguments)}function LM(i,n){return JE.apply(this,arguments)}function JE(){return(JE=(0,Te.Z)(function*(i,n){const r=We(i);try{const s=yield gM(r.localStore,n);n.targetChanges.forEach((l,d)=>{const g=r.Fo.get(d);g&&(Dt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?g.Co=!0:l.modifiedDocuments.size>0?Dt(g.Co):l.removedDocuments.size>0&&(Dt(g.Co),g.Co=!1))}),yield Ms(r,s,n)}catch(s){yield Qf(s)}})).apply(this,arguments)}function vI(i,n,r){const s=We(i);if(s.isPrimaryClient&&0===r||!s.isPrimaryClient&&1===r){const l=[];s.xo.forEach((d,g)=>{const _=g.view.eo(n);_.snapshot&&l.push(_.snapshot)}),function(d,g){const _=We(d);_.onlineState=g;let C=!1;_.queries.forEach((T,N)=>{for(const k of N.listeners)k.eo(g)&&(C=!0)}),C&&ZE(_)}(s.eventManager,n),l.length&&s.No.Tr(l),s.onlineState=n,s.isPrimaryClient&&s.sharedClientState.setOnlineState(n)}}function VM(i,n,r){return bI.apply(this,arguments)}function bI(){return(bI=(0,Te.Z)(function*(i,n,r){const s=We(i);s.sharedClientState.updateQueryState(n,"rejected",r);const l=s.Fo.get(n),d=l&&l.key;if(d){let g=new Jr(lt.comparator);g=g.insert(d,jn.newNoDocument(d,kt.min()));const _=Xt().add(d),C=new zg(kt.min(),new Map,new ir(Ut),g,_);yield LM(s,C),s.Oo=s.Oo.remove(d),s.Fo.delete(n),fm(s)}else yield fc(s.localStore,n,!1).then(()=>hm(s,n,r)).catch(Qf)})).apply(this,arguments)}function FN(i,n){return wI.apply(this,arguments)}function wI(){return(wI=(0,Te.Z)(function*(i,n){const r=We(i),s=n.batch.batchId;try{const l=yield DN(r.localStore,n);DI(r,s,null),CI(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),yield Ms(r,l)}catch(l){yield Qf(l)}})).apply(this,arguments)}function BM(i,n,r){return XE.apply(this,arguments)}function XE(){return(XE=(0,Te.Z)(function*(i,n,r){const s=We(i);try{const l=yield function(d,g){const _=We(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",C=>{let T;return _.In.lookupMutationBatch(C,g).next(N=>(Dt(null!==N),T=N.keys(),_.In.removeMutationBatch(C,N))).next(()=>_.In.performConsistencyCheck(C)).next(()=>_.Qn.Pn(C,T))})}(s.localStore,n);DI(s,n,r),CI(s,n),s.sharedClientState.updateMutationState(n,"rejected",r),yield Ms(s,l)}catch(l){yield Qf(l)}})).apply(this,arguments)}function EI(){return(EI=(0,Te.Z)(function*(i,n){const r=We(i);or(r.remoteStore)||qe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(d){const g=We(d);return g.persistence.runTransaction("Get highest unacknowledged batch id","readonly",_=>g.In.getHighestUnacknowledgedBatchId(_))}(r.localStore);if(-1===s)return void n.resolve();const l=r.Bo.get(s)||[];l.push(n),r.Bo.set(s,l)}catch(s){const l=Bd(s,"Initialization of waitForPendingWrites() operation failed");n.reject(l)}})).apply(this,arguments)}function CI(i,n){(i.Bo.get(n)||[]).forEach(r=>{r.resolve()}),i.Bo.delete(n)}function DI(i,n,r){const s=We(i);let l=s.Lo[s.currentUser.toKey()];if(l){const d=l.get(n);d&&(r?d.reject(r):d.resolve(),l=l.remove(n)),s.Lo[s.currentUser.toKey()]=l}}function hm(i,n,r=null){i.sharedClientState.removeLocalQueryTarget(n);for(const s of i.ko.get(n))i.xo.delete(s),r&&i.No.jo(s,r);i.ko.delete(n),i.isPrimaryClient&&i.Mo.cs(n).forEach(s=>{i.Mo.containsKey(s)||AI(i,s)})}function AI(i,n){i.$o.delete(n.path.canonicalString());const r=i.Oo.get(n);null!==r&&(rp(i.remoteStore,r),i.Oo=i.Oo.remove(n),i.Fo.delete(r),fm(i))}function II(i,n,r){for(const s of r)s instanceof kM?(i.Mo.addReference(s.key,n),jM(i,s)):s instanceof FM?(qe("SyncEngine","Document no longer in limbo: "+s.key),i.Mo.removeReference(s.key,n),i.Mo.containsKey(s.key)||AI(i,s.key)):at()}function jM(i,n){const r=n.key,s=r.path.canonicalString();i.Oo.get(r)||i.$o.has(s)||(qe("SyncEngine","New document in limbo: "+r),i.$o.add(s),fm(i))}function fm(i){for(;i.$o.size>0&&i.Oo.size<i.maxConcurrentLimboResolutions;){const n=i.$o.values().next().value;i.$o.delete(n);const r=new lt(sn.fromString(n)),s=i.Uo.next();i.Fo.set(s,new MN(r)),i.Oo=i.Oo.insert(r,s),om(i.remoteStore,new uc(Js(Vf(r.path)),s,2,xs.T))}}function Ms(i,n,r){return Lv.apply(this,arguments)}function Lv(){return(Lv=(0,Te.Z)(function*(i,n,r){const s=We(i),l=[],d=[],g=[];var _;s.xo.isEmpty()||(s.xo.forEach((_,C)=>{g.push(s.Ko(C,n,r).then(T=>{if(T){s.isPrimaryClient&&s.sharedClientState.updateQueryState(C.targetId,T.fromCache?"not-current":"current"),l.push(T);const N=wv.kn(C.targetId,T);d.push(N)}}))}),yield Promise.all(g),s.No.Tr(l),yield(_=(0,Te.Z)(function*(C,T){const N=We(C);try{yield N.persistence.runTransaction("notifyLocalViewChanges","readwrite",k=>Be.forEach(T,z=>Be.forEach(z.Nn,$=>N.persistence.referenceDelegate.addReference(k,z.targetId,$)).next(()=>Be.forEach(z.xn,$=>N.persistence.referenceDelegate.removeReference(k,z.targetId,$)))))}catch(k){if(!qf(k))throw k;qe("LocalStore","Failed to update sequence numbers: "+k)}for(const k of T){const z=k.targetId;if(!k.fromCache){const $=N.Un.get(z),Ie=$.withLastLimboFreeSnapshotVersion($.snapshotVersion);N.Un=N.Un.insert(z,Ie)}}}),function(C,T){return _.apply(this,arguments)})(s.localStore,d))})).apply(this,arguments)}function GM(i,n){return eC.apply(this,arguments)}function eC(){return(eC=(0,Te.Z)(function*(i,n){const r=We(i);if(!r.currentUser.isEqual(n)){qe("SyncEngine","User change. New user:",n.toKey());const s=yield ZA(r.localStore,n);r.currentUser=n,(l=r).Bo.forEach(g=>{g.forEach(_=>{_.reject(new Ue(Ce.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.Bo.clear(),r.sharedClientState.handleUserChange(n,s.removedBatchIds,s.addedBatchIds),yield Ms(r,s.Wn)}var l})).apply(this,arguments)}function tC(i,n){const r=We(i),s=r.Fo.get(n);if(s&&s.Co)return Xt().add(s.key);{let l=Xt();const d=r.ko.get(n);if(!d)return l;for(const g of d){const _=r.xo.get(g);l=l.unionWith(_.view.To)}return l}}function xI(i,n){return Vv.apply(this,arguments)}function Vv(){return(Vv=(0,Te.Z)(function*(i,n){const r=We(i),s=yield Ev(r.localStore,n.query,!0),l=n.view.So(s);return r.isPrimaryClient&&II(r,n.targetId,l.vo),l})).apply(this,arguments)}function SI(i){return TI.apply(this,arguments)}function TI(){return(TI=(0,Te.Z)(function*(i){const n=We(i);return JA(n.localStore).then(r=>Ms(n,r))})).apply(this,arguments)}function MI(i,n,r,s){return ap.apply(this,arguments)}function ap(){return(ap=(0,Te.Z)(function*(i,n,r,s){const l=We(i),d=yield function(g,_){const C=We(g),T=We(C.In);return C.persistence.runTransaction("Lookup mutation documents","readonly",N=>T.Xt(N,_).next(k=>k?C.Qn.Pn(N,k):Be.resolve(null)))}(l.localStore,n);var _;null!==d?("pending"===r?yield ip(l.remoteStore):"acknowledged"===r||"rejected"===r?(DI(l,n,s||null),CI(l,n),_=n,We(We(l.localStore).In).te(_)):at(),yield Ms(l,d)):qe("SyncEngine","Cannot apply mutation batch with id: "+n)})).apply(this,arguments)}function OI(){return(OI=(0,Te.Z)(function*(i,n){const r=We(i);if(pm(r),rC(r),!0===n&&!0!==r.qo){const s=r.sharedClientState.getAllActiveQueryTargets(),l=yield HM(r,s.toArray());r.qo=!0,yield dm(r.remoteStore,!0);for(const d of l)om(r.remoteStore,d)}else if(!1===n&&!1!==r.qo){const s=[];let l=Promise.resolve();r.ko.forEach((d,g)=>{r.sharedClientState.isLocalQueryTarget(g)?s.push(g):l=l.then(()=>(hm(r,g),fc(r.localStore,g,!0))),rp(r.remoteStore,g)}),yield l,yield HM(r,s),function(d){const g=We(d);g.Fo.forEach((_,C)=>{rp(g.remoteStore,C)}),g.Mo.us(),g.Fo=new Map,g.Oo=new Jr(lt.comparator)}(r),r.qo=!1,yield dm(r.remoteStore,!1)}})).apply(this,arguments)}function HM(i,n,r){return NI.apply(this,arguments)}function NI(){return(NI=(0,Te.Z)(function*(i,n,r){const s=We(i),l=[],d=[];for(const g of n){let _;const C=s.ko.get(g);if(C&&0!==C.length){_=yield ep(s.localStore,Js(C[0]));for(const T of C){const N=s.xo.get(T),k=yield xI(s,N);k.snapshot&&d.push(k.snapshot)}}else{const T=yield QA(s.localStore,g);_=yield ep(s.localStore,T),yield gI(s,kI(T),g,!1)}l.push(_)}return s.No.Tr(d),l})).apply(this,arguments)}function kI(i){return tv(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function PN(i){const n=We(i);return We(We(n.localStore).persistence).pn()}function Bv(i,n,r,s){return nC.apply(this,arguments)}function nC(){return(nC=(0,Te.Z)(function*(i,n,r,s){const l=We(i);if(l.qo)qe("SyncEngine","Ignoring unexpected query state notification.");else if(l.ko.has(n))switch(r){case"current":case"not-current":{const d=yield JA(l.localStore),g=zg.createSynthesizedRemoteEventForCurrentChange(n,"current"===r);yield Ms(l,d,g);break}case"rejected":yield fc(l.localStore,n,!0),hm(l,n,s);break;default:at()}})).apply(this,arguments)}function LN(i,n,r){return FI.apply(this,arguments)}function FI(){return(FI=(0,Te.Z)(function*(i,n,r){const s=pm(i);if(s.qo){for(const l of n){if(s.ko.has(l)){qe("SyncEngine","Adding an already active target "+l);continue}const d=yield QA(s.localStore,l),g=yield ep(s.localStore,d);yield gI(s,kI(d),g.targetId,!1),om(s.remoteStore,g)}for(const l of r)s.ko.has(l)&&(yield fc(s.localStore,l,!1).then(()=>{rp(s.remoteStore,l),hm(s,l)}).catch(Qf))}})).apply(this,arguments)}function pm(i){const n=We(i);return n.remoteStore.remoteSyncer.applyRemoteEvent=LM.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=tC.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=VM.bind(null,n),n.No.Tr=hI.bind(null,n.eventManager),n.No.jo=fI.bind(null,n.eventManager),n}function rC(i){const n=We(i);return n.remoteStore.remoteSyncer.applySuccessfulWrite=FN.bind(null,n),n.remoteStore.remoteSyncer.rejectFailedWrite=BM.bind(null,n),n}class $M{constructor(){this.synchronizeTabs=!1}initialize(n){var r=this;return(0,Te.Z)(function*(){r.N=Fd(n.databaseInfo.databaseId),r.sharedClientState=r.Wo(n),r.persistence=r.Go(n),yield r.persistence.start(),r.gcScheduler=r.zo(n),r.localStore=r.Ho(n)})()}zo(n){return null}Ho(n){return YA(this.persistence,new KA,n.initialUser,this.N)}Go(n){return new wM(NE.Ns,this.N)}Wo(n){return new sm}terminate(){var n=this;return(0,Te.Z)(function*(){n.gcScheduler&&n.gcScheduler.stop(),yield n.sharedClientState.shutdown(),yield n.persistence.shutdown()})()}}class PI extends $M{constructor(n,r,s){super(),this.Jo=n,this.cacheSizeBytes=r,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(n){var r=()=>super.initialize,s=this;return(0,Te.Z)(function*(){yield r().call(s,n),yield function(i){return ME.apply(this,arguments)}(s.localStore),yield s.Jo.initialize(s,n),yield rC(s.Jo.syncEngine),yield ip(s.Jo.remoteStore),yield s.persistence.nn(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(s.localStore),Promise.resolve()))})()}Ho(n){return YA(this.persistence,new KA,n.initialUser,this.N)}zo(n){return new cM(this.persistence.referenceDelegate.garbageCollector,n.asyncQueue)}Go(n){const r=xE(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?ls.withCacheSize(this.cacheSizeBytes):ls.DEFAULT;return new bv(this.synchronizeTabs,r,n.clientId,s,n.asyncQueue,VE(),tp(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(n){return new sm}}class BN extends PI{constructor(n,r){super(n,r,!1),this.Jo=n,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(n){var r=()=>super.initialize,s=this;return(0,Te.Z)(function*(){yield r().call(s,n);const l=s.Jo.syncEngine;s.sharedClientState instanceof FE&&(s.sharedClientState.syncEngine={_i:MI.bind(null,l),mi:Bv.bind(null,l),gi:LN.bind(null,l),pn:PN.bind(null,l),wi:SI.bind(null,l)},yield s.sharedClientState.start()),yield s.persistence.nn(function(){var d=(0,Te.Z)(function*(g){yield function(i,n){return OI.apply(this,arguments)}(s.Jo.syncEngine,g),s.gcScheduler&&(g&&!s.gcScheduler.started?s.gcScheduler.start(s.localStore):g||s.gcScheduler.stop())});return function(g){return d.apply(this,arguments)}}())})()}Wo(n){const r=VE();if(!FE.bt(r))throw new Ue(Ce.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=xE(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new FE(r,n.asyncQueue,s,n.clientId,n.initialUser)}}class Uv{initialize(n,r){var s=this;return(0,Te.Z)(function*(){s.localStore||(s.localStore=n.localStore,s.sharedClientState=n.sharedClientState,s.datastore=s.createDatastore(r),s.remoteStore=s.createRemoteStore(r),s.eventManager=s.createEventManager(r),s.syncEngine=s.createSyncEngine(r,!n.synchronizeTabs),s.sharedClientState.onlineStateHandler=l=>vI(s.syncEngine,l,1),s.remoteStore.remoteSyncer.handleCredentialChange=GM.bind(null,s.syncEngine),yield dm(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(n){return new RM}createDatastore(n){const r=Fd(n.databaseInfo.databaseId),s=new LE(n.databaseInfo);return new oI(n.credentials,s,r)}createRemoteStore(n){return r=this.localStore,s=this.datastore,l=n.asyncQueue,d=_=>vI(this.syncEngine,_,0),g=iI.bt()?new iI:new CM,new aI(r,s,l,d,g);var r,s,l,d,g}createSyncEngine(n,r){return function(s,l,d,g,_,C,T){const N=new RN(s,l,d,g,_,C);return T&&(N.qo=!0),N}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return(n=(0,Te.Z)(function*(r){const s=We(r);qe("RemoteStore","RemoteStore shutting down."),s.Kr.add(5),yield Pd(s),s.Qr.shutdown(),s.Wr.set("Unknown")}),function(r){return n.apply(this,arguments)})(this.remoteStore);var n}}function LI(i,n=10240){let r=0;return{read:()=>(0,Te.Z)(function*(){if(r<i.byteLength){const s={value:i.slice(r,r+n),done:!1};return r+=n,s}return{done:!0}})(),cancel:()=>(0,Te.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class iC{constructor(n){this.observer=n,this.muted=!1}next(n){this.observer.next&&this.Yo(this.observer.next,n)}error(n){this.observer.error?this.Yo(this.observer.error,n):console.error("Uncaught Error in snapshot listener:",n)}Xo(){this.muted=!0}Yo(n,r){this.muted||setTimeout(()=>{this.muted||n(r)},0)}}class UN{constructor(n,r){this.Zo=n,this.N=r,this.metadata=new rr,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(s=>{s&&s.ho()?this.metadata.resolve(s.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.payload)}`))},s=>this.metadata.reject(s))}close(){return this.Zo.cancel()}getMetadata(){var n=this;return(0,Te.Z)(function*(){return n.metadata.promise})()}Qo(){var n=this;return(0,Te.Z)(function*(){return yield n.getMetadata(),n.ea()})()}ea(){var n=this;return(0,Te.Z)(function*(){const r=yield n.na();if(null===r)return null;const s=n.ta.decode(r),l=Number(s);isNaN(l)&&n.sa(`length string (${s}) is not valid number`);const d=yield n.ia(l);return new OM(JSON.parse(d),r.length+l)})()}ra(){return this.buffer.findIndex(n=>n==="{".charCodeAt(0))}na(){var n=this;return(0,Te.Z)(function*(){for(;n.ra()<0&&!(yield n.oa()););if(0===n.buffer.length)return null;const r=n.ra();r<0&&n.sa("Reached the end of bundle when a length string is expected.");const s=n.buffer.slice(0,r);return n.buffer=n.buffer.slice(r),s})()}ia(n){var r=this;return(0,Te.Z)(function*(){for(;r.buffer.length<n;)(yield r.oa())&&r.sa("Reached the end of bundle when more is expected.");const s=r.ta.decode(r.buffer.slice(0,n));return r.buffer=r.buffer.slice(n),s})()}sa(n){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${n}`)}oa(){var n=this;return(0,Te.Z)(function*(){const r=yield n.Zo.read();if(!r.done){const s=new Uint8Array(n.buffer.length+r.value.length);s.set(n.buffer),s.set(r.value,n.buffer.length),n.buffer=s}return r.done})()}}class zM{constructor(n){this.datastore=n,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(n){var r=this;return(0,Te.Z)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw new Ue(Ce.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(l=(0,Te.Z)(function*(d,g){const _=We(d),C=fv(_.N)+"/documents",T={documents:g.map($=>Kg(_.N,$))},N=yield _.Ki("BatchGetDocuments",C,T),k=new Map;N.forEach($=>{const re=function(i,n){return"found"in n?function(r,s){Dt(!!s.found);const l=ca(r,s.found.name),d=Xr(s.found.updateTime),g=new bi({mapValue:{fields:s.found.fields}});return jn.newFoundDocument(l,d,g)}(i,n):"missing"in n?function(r,s){Dt(!!s.missing),Dt(!!s.readTime);const l=ca(r,s.missing),d=Xr(s.readTime);return jn.newNoDocument(l,d)}(i,n):at()}(_.N,$);k.set(re.key.toString(),re)});const z=[];return g.forEach($=>{const re=k.get($.toString());Dt(!!re),z.push(re)}),z}),function(d,g){return l.apply(this,arguments)})(r.datastore,n);var l;return s.forEach(l=>r.recordVersion(l)),s})()}set(n,r){this.write(r.toMutation(n,this.precondition(n))),this.writtenDocs.add(n.toString())}update(n,r){try{this.write(r.toMutation(n,this.preconditionForUpdate(n)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(n.toString())}delete(n){this.write(new $g(n,this.precondition(n))),this.writtenDocs.add(n.toString())}commit(){var n=this;return(0,Te.Z)(function*(){if(n.ensureCommitNotCalled(),n.lastWriteError)throw n.lastWriteError;const r=n.readVersions;var s;n.mutations.forEach(s=>{r.delete(s.key.toString())}),r.forEach((s,l)=>{const d=lt.fromPath(l);n.mutations.push(new uv(d,n.precondition(d)))}),yield(s=(0,Te.Z)(function*(l,d){const g=We(l),_=fv(g.N)+"/documents",C={writes:d.map(T=>gE(g.N,T))};yield g.Li("Commit",_,C)}),function(l,d){return s.apply(this,arguments)})(n.datastore,n.mutations),n.committed=!0})()}recordVersion(n){let r;if(n.isFoundDocument())r=n.version;else{if(!n.isNoDocument())throw at();r=kt.min()}const s=this.readVersions.get(n.key.toString());if(s){if(!r.isEqual(s))throw new Ue(Ce.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(n.key.toString(),r)}precondition(n){const r=this.readVersions.get(n.toString());return!this.writtenDocs.has(n.toString())&&r?yr.updateTime(r):yr.none()}preconditionForUpdate(n){const r=this.readVersions.get(n.toString());if(!this.writtenDocs.has(n.toString())&&r){if(r.isEqual(kt.min()))throw new Ue(Ce.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return yr.updateTime(r)}return yr.exists(!0)}write(n){this.ensureCommitNotCalled(),this.mutations.push(n)}ensureCommitNotCalled(){}}class gm{constructor(n,r,s,l){this.asyncQueue=n,this.datastore=r,this.updateFunction=s,this.deferred=l,this.aa=5,this.rr=new BE(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var n=this;this.rr.Xi((0,Te.Z)(function*(){const r=new zM(n.datastore),s=n.ua(r);s&&s.then(l=>{n.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{n.deferred.resolve(l)}).catch(d=>{n.ha(d)}))}).catch(l=>{n.ha(l)})}))}ua(n){try{const r=this.updateFunction(n);return!Dd(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}ha(n){this.aa>0&&this.la(n)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(n)}la(n){if("FirebaseError"===n.name){const r=n.code;return"aborted"===r||"failed-precondition"===r||!vA(r)}return!1}}class qM{constructor(n,r,s){var l=this;this.credentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=_i.UNAUTHENTICATED,this.clientId=Mf.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(r,function(){var d=(0,Te.Z)(function*(g){qe("FirestoreClient","Received user=",g.uid),yield l.credentialListener(g),l.user=g});return function(g){return d.apply(this,arguments)}}())}getConfiguration(){var n=this;return(0,Te.Z)(function*(){return{asyncQueue:n.asyncQueue,databaseInfo:n.databaseInfo,clientId:n.clientId,credentials:n.credentials,initialUser:n.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(n){this.credentialListener=n}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ue(Ce.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var n=this;this.asyncQueue.enterRestrictedMode();const r=new rr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Te.Z)(function*(){try{n.onlineComponents&&(yield n.onlineComponents.terminate()),n.offlineComponents&&(yield n.offlineComponents.terminate()),n.credentials.shutdown(),r.resolve()}catch(s){const l=Bd(s,"Failed to shutdown persistence");r.reject(l)}})),r.promise}}function VI(i,n){return sC.apply(this,arguments)}function sC(){return(sC=(0,Te.Z)(function*(i,n){i.asyncQueue.verifyOperationInProgress(),qe("FirestoreClient","Initializing OfflineComponentProvider");const r=yield i.getConfiguration();yield n.initialize(r);let s=r.initialUser;i.setCredentialChangeListener(function(){var l=(0,Te.Z)(function*(d){s.isEqual(d)||(yield ZA(n.localStore,d),s=d)});return function(d){return l.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=n})).apply(this,arguments)}function jv(i,n){return oC.apply(this,arguments)}function oC(){return(oC=(0,Te.Z)(function*(i,n){i.asyncQueue.verifyOperationInProgress();const r=yield us(i);qe("FirestoreClient","Initializing OnlineComponentProvider");const s=yield i.getConfiguration();yield n.initialize(r,s),i.setCredentialChangeListener(l=>{return(d=(0,Te.Z)(function*(g,_){const C=We(g);C.asyncQueue.verifyOperationInProgress(),qe("RemoteStore","RemoteStore received new credentials");const T=or(C);C.Kr.add(3),yield Pd(C),T&&C.Wr.set("Unknown"),yield C.remoteSyncer.handleCredentialChange(_),C.Kr.delete(3),yield np(C)}),function(g,_){return d.apply(this,arguments)})(n.remoteStore,l);var d}),i.onlineComponents=n})).apply(this,arguments)}function us(i){return aC.apply(this,arguments)}function aC(){return(aC=(0,Te.Z)(function*(i){return i.offlineComponents||(qe("FirestoreClient","Using default OfflineComponentProvider"),yield VI(i,new $M)),i.offlineComponents})).apply(this,arguments)}function lp(i){return lC.apply(this,arguments)}function lC(){return(lC=(0,Te.Z)(function*(i){return i.onlineComponents||(qe("FirestoreClient","Using default OnlineComponentProvider"),yield jv(i,new Uv)),i.onlineComponents})).apply(this,arguments)}function BI(i){return us(i).then(n=>n.persistence)}function mm(i){return us(i).then(n=>n.localStore)}function uC(i){return lp(i).then(n=>n.remoteStore)}function Gv(i){return lp(i).then(n=>n.syncEngine)}function up(i){return Hv.apply(this,arguments)}function Hv(){return(Hv=(0,Te.Z)(function*(i){const n=yield lp(i),r=n.eventManager;return r.onListen=ON.bind(null,n.syncEngine),r.onUnlisten=NN.bind(null,n.syncEngine),r})).apply(this,arguments)}function $v(i,n,r={}){const s=new rr;return i.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function(l,d,g,_,C){const T=new iC({next:k=>{d.enqueueAndForget(()=>Fv(l,N));const z=k.docs.has(g);!z&&k.fromCache?C.reject(new Ue(Ce.UNAVAILABLE,"Failed to get document because the client is offline.")):z&&k.fromCache&&_&&"server"===_.source?C.reject(new Ue(Ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):C.resolve(k)},error:k=>C.reject(k)}),N=new WE(Vf(g.path),T,{includeMetadataChanges:!0,uo:!0});return kv(l,N)}(yield up(i),i.asyncQueue,n,r,s)})),s.promise}function cC(i,n,r={}){const s=new rr;return i.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function(l,d,g,_,C){const T=new iC({next:k=>{d.enqueueAndForget(()=>Fv(l,N)),k.fromCache&&"server"===_.source?C.reject(new Ue(Ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):C.resolve(k)},error:k=>C.reject(k)}),N=new WE(g,T,{includeMetadataChanges:!0,uo:!0});return kv(l,N)}(yield up(i),i.asyncQueue,n,r,s)})),s.promise}class jN{constructor(n,r,s,l,d,g,_,C){this.databaseId=n,this.appId=r,this.persistenceKey=s,this.host=l,this.ssl=d,this.forceLongPolling=g,this.autoDetectLongPolling=_,this.useFetchStreams=C}}class cp{constructor(n,r){this.projectId=n,this.database=r||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(n){return n instanceof cp&&n.projectId===this.projectId&&n.database===this.database}}const QM=new Map;function hC(i,n,r){if(!r)throw new Ue(Ce.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${n}.`)}function GI(i,n,r,s){if(!0===n&&!0===s)throw new Ue(Ce.INVALID_ARGUMENT,`${i} and ${r} cannot be used together.`)}function HI(i){if(!lt.isDocumentKey(i))throw new Ue(Ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function JM(i){if(lt.isDocumentKey(i))throw new Ue(Ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function zv(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const n=(r=i).constructor?r.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var r;return"function"==typeof i?"a function":at()}function Yt(i,n){if("_delegate"in i&&(i=i._delegate),!(i instanceof n)){if(n.name===i.constructor.name)throw new Ue(Ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=zv(i);throw new Ue(Ce.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${r}`)}}return i}function $I(i,n){if(n<=0)throw new Ue(Ce.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${n}.`)}class zI{constructor(n){var r;if(void 0===n.host){if(void 0!==n.ssl)throw new Ue(Ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=n.host,this.ssl=null===(r=n.ssl)||void 0===r||r;if(this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,void 0===n.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==n.cacheSizeBytes&&n.cacheSizeBytes<1048576)throw new Ue(Ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!n.experimentalAutoDetectLongPolling,this.useFetchStreams=!!n.useFetchStreams,GI("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling)}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class dp{constructor(n,r){this._credentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zI({}),this._settingsFrozen=!1,n instanceof cp?this._databaseId=n:(this._app=n,this._databaseId=function(s){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new Ue(Ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cp(s.options.projectId)}(n))}get app(){if(!this._app)throw new Ue(Ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(n){if(this._settingsFrozen)throw new Ue(Ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zI(n),void 0!==n.credentials&&(this._credentials=function(r){if(!r)return new ST;switch(r.type){case"gapi":const s=r.client;return Dt(!("object"!=typeof s||null===s||!s.auth||!s.auth.getAuthHeaderValueForFirstParty)),new XD(s,r.sessionIndex||"0",r.iamToken||null);case"provider":return r.client;default:throw new Ue(Ce.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(n.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=QM.get(n);r&&(qe("ComponentProvider","Removing Datastore"),QM.delete(n),r.terminate())}(this),Promise.resolve()}}class Gn{constructor(n,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pa(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new Gn(this.firestore,n,this._key)}}class Ci{constructor(n,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=n}withConverter(n){return new Ci(this.firestore,n,this._query)}}class pa extends Ci{constructor(n,r,s){super(n,r,Vf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new Gn(this.firestore,null,new lt(n))}withConverter(n){return new pa(this.firestore,n,this._path)}}function qI(i,n,...r){if(i=(0,jt.m9)(i),hC("collection","path",n),i instanceof dp){const s=sn.fromString(n,...r);return JM(s),new pa(i,null,s)}{if(!(i instanceof Gn||i instanceof pa))throw new Ue(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(sn.fromString(n,...r));return JM(s),new pa(i.firestore,null,s)}}function ym(i,n,...r){if(i=(0,jt.m9)(i),1===arguments.length&&(n=Mf.I()),hC("doc","path",n),i instanceof dp){const s=sn.fromString(n,...r);return HI(s),new Gn(i,null,new lt(s))}{if(!(i instanceof Gn||i instanceof pa))throw new Ue(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(sn.fromString(n,...r));return HI(s),new Gn(i.firestore,i instanceof pa?i.converter:null,new lt(s))}}function hp(i,n){return i=(0,jt.m9)(i),n=(0,jt.m9)(n),(i instanceof Gn||i instanceof pa)&&(n instanceof Gn||n instanceof pa)&&i.firestore===n.firestore&&i.path===n.path&&i.converter===n.converter}function qv(i,n){return i=(0,jt.m9)(i),n=(0,jt.m9)(n),i instanceof Ci&&n instanceof Ci&&i.firestore===n.firestore&&iv(i._query,n._query)&&i.converter===n.converter}class KI{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new BE(this,"async_queue_retry"),this.Ea=()=>{const r=tp();r&&qe("AsyncQueue","Visibility state changed to "+r.visibilityState),this.rr.tr()};const n=tp();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Ea)}get isShuttingDown(){return this.wa}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.Ta(),this.Ia(n)}enterRestrictedMode(n){if(!this.wa){this.wa=!0,this.ya=n||!1;const r=tp();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.Ea)}}enqueue(n){if(this.Ta(),this.wa)return new Promise(()=>{});const r=new rr;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(n().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(n){this.enqueueAndForget(()=>(this.da.push(n),this.Aa()))}Aa(){var n=this;return(0,Te.Z)(function*(){if(0!==n.da.length){try{yield n.da[0](),n.da.shift(),n.rr.reset()}catch(r){if(!qf(r))throw r;qe("AsyncQueue","Operation failed with retryable error: "+r)}n.da.length>0&&n.rr.Xi(()=>n.Aa())}})()}Ia(n){const r=this.fa.then(()=>(this.ga=!0,n().catch(s=>{throw this.ma=s,this.ga=!1,nr("INTERNAL UNHANDLED ERROR: ",function(l){let d=l.message||"";return l.stack&&(d=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),d}(s)),s}).then(s=>(this.ga=!1,s))));return this.fa=r,r}enqueueAfterDelay(n,r,s){this.Ta(),this.pa.indexOf(n)>-1&&(r=0);const l=Nv.createAndSchedule(this,n,r,s,d=>this.Ra(d));return this._a.push(l),l}Ta(){this.ma&&at()}verifyOperationInProgress(){}ba(){var n=this;return(0,Te.Z)(function*(){let r;do{r=n.fa,yield r}while(r!==n.fa)})()}Pa(n){for(const r of this._a)if(r.timerId===n)return!0;return!1}va(n){return this.ba().then(()=>{this._a.sort((r,s)=>r.targetTimeMs-s.targetTimeMs);for(const r of this._a)if(r.skipDelay(),"all"!==n&&r.timerId===n)break;return this.ba()})}Va(n){this.pa.push(n)}Ra(n){const r=this._a.indexOf(n);this._a.splice(r,1)}}function fC(i){return function(n,r){if("object"!=typeof n||null===n)return!1;const s=n;for(const l of["next","error","complete"])if(l in s&&"function"==typeof s[l])return!0;return!1}(i)}class tR{constructor(){this._progressObserver={},this._taskCompletionResolver=new rr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(n,r,s){this._progressObserver={next:n,error:r,complete:s}}catch(n){return this._taskCompletionResolver.promise.catch(n)}then(n,r){return this._taskCompletionResolver.promise.then(n,r)}_completeWith(n){this._updateProgress(n),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(n)}_failWith(n){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(n),this._taskCompletionResolver.reject(n)}_updateProgress(n){this._lastProgress=n,this._progressObserver.next&&this._progressObserver.next(n)}}class _r extends dp{constructor(n,r){super(n,r),this.type="firestore",this._queue=new KI,this._persistenceKey="name"in n?n.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||YI(this),this._firestoreClient.terminate()}}function Sr(i){return i._firestoreClient||YI(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function YI(i){var n;const r=i._freezeSettings(),s=(d=(null===(n=i._app)||void 0===n?void 0:n.options.appId)||"",new jN(i._databaseId,d,i._persistenceKey,(_=r).host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,_.useFetchStreams));var d,_;i._firestoreClient=new qM(i._credentials,i._queue,s)}function ZI(i,n,r){const s=new rr;return i.asyncQueue.enqueue((0,Te.Z)(function*(){try{yield VI(i,r),yield jv(i,n),s.resolve()}catch(l){if(!("FirebaseError"===(d=l).name?d.code===Ce.FAILED_PRECONDITION||d.code===Ce.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&d instanceof DOMException)||22===d.code||20===d.code||11===d.code))throw l;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+l),s.reject(l)}var d})).then(()=>s.promise)}function pC(i){if(i._initialized||i._terminated)throw new Ue(Ce.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ll{constructor(...n){for(let r=0;r<n.length;++r)if(0===n[r].length)throw new Ue(Ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Li(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}class eo{constructor(n){this._byteString=n}static fromBase64String(n){try{return new eo(vi.fromBase64String(n))}catch(r){throw new Ue(Ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(n){return new eo(vi.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}}class jd{constructor(n){this._methodName=n}}class Kv{constructor(n,r){if(!isFinite(n)||n<-90||n>90)throw new Ue(Ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(r)||r<-180||r>180)throw new Ue(Ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=n,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(n){return Ut(this._lat,n._lat)||Ut(this._long,n._long)}}const JI=/^__.*__$/;class Gd{constructor(n,r,s){this.data=n,this.fieldMask=r,this.fieldTransforms=s}toMutation(n,r){return null!==this.fieldMask?new rc(n,this.data,this.fieldMask,r,this.fieldTransforms):new jf(n,this.data,r,this.fieldTransforms)}}class gC{constructor(n,r,s){this.data=n,this.fieldMask=r,this.fieldTransforms=s}toMutation(n,r){return new rc(n,this.data,this.fieldMask,r,this.fieldTransforms)}}function Yv(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw at()}}class fp{constructor(n,r,s,l,d,g){this.settings=n,this.databaseId=r,this.N=s,this.ignoreUndefinedProperties=l,void 0===d&&this.Sa(),this.fieldTransforms=d||[],this.fieldMask=g||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(n){return new fp(Object.assign(Object.assign({},this.settings),n),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(n){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(n),l=this.Ca({path:s,xa:!1});return l.ka(n),l}$a(n){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(n),l=this.Ca({path:s,xa:!1});return l.Sa(),l}Oa(n){return this.Ca({path:void 0,xa:!0})}Fa(n){return Wv(n,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(n){return void 0!==this.fieldMask.find(r=>n.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>n.isPrefixOf(r.field))}Sa(){if(this.path)for(let n=0;n<this.path.length;n++)this.ka(this.path.get(n))}ka(n){if(0===n.length)throw this.Fa("Document fields must not be empty");if(Yv(this.Da)&&JI.test(n))throw this.Fa('Document fields cannot begin and end with "__"')}}class oR{constructor(n,r,s){this.databaseId=n,this.ignoreUndefinedProperties=r,this.N=s||Fd(n)}Ba(n,r,s,l=!1){return new fp({Da:n,methodName:r,La:s,path:Li.emptyPath(),xa:!1,Ma:l},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function ul(i){const n=i._freezeSettings(),r=Fd(i._databaseId);return new oR(i._databaseId,!!n.ignoreUndefinedProperties,r)}function Zv(i,n,r,s,l,d={}){const g=i.Ba(d.merge||d.mergeFields?2:0,n,r,l);yC("Data must be an object, but it was:",g,s);const _=uR(s,g);let C,T;if(d.merge)C=new Lg(g.fieldMask),T=g.fieldTransforms;else if(d.mergeFields){const N=[];for(const k of d.mergeFields){const z=_C(n,k,r);if(!g.contains(z))throw new Ue(Ce.INVALID_ARGUMENT,`Field '${z}' is specified in your field mask but missing from your input data.`);hR(N,z)||N.push(z)}C=new Lg(N),T=g.fieldTransforms.filter(k=>C.covers(k.field))}else C=null,T=g.fieldTransforms;return new Gd(new bi(_),C,T)}class Hd extends jd{_toFieldTransform(n){if(2!==n.Da)throw n.Fa(1===n.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return n.fieldMask.push(n.path),null}isEqual(n){return n instanceof Hd}}function mC(i,n,r){return new fp({Da:3,La:n.settings.La,methodName:i._methodName,xa:r},n.databaseId,n.N,n.ignoreUndefinedProperties)}class Tr extends jd{_toFieldTransform(n){return new Sd(n.path,new Gg)}isEqual(n){return n instanceof Tr}}class KN extends jd{constructor(n,r){super(n),this.Ua=r}_toFieldTransform(n){const r=mC(this,n,!0),s=this.Ua.map(d=>gp(d,r)),l=new il(s);return new Sd(n.path,l)}isEqual(n){return this===n}}class aR extends jd{constructor(n,r){super(n),this.Ua=r}_toFieldTransform(n){const r=mC(this,n,!0),s=this.Ua.map(d=>gp(d,r)),l=new xd(s);return new Sd(n.path,l)}isEqual(n){return this===n}}class lR extends jd{constructor(n,r){super(n),this.qa=r}_toFieldTransform(n){const r=new Uf(n.N,fA(n.N,this.qa));return new Sd(n.path,r)}isEqual(n){return this===n}}function XI(i,n,r,s){const l=i.Ba(1,n,r);yC("Data must be an object, but it was:",l,s);const d=[],g=bi.empty();ec(s,(C,T)=>{const N=vC(n,C,r);T=(0,jt.m9)(T);const k=l.$a(N);if(T instanceof Hd)d.push(N);else{const z=gp(T,k);null!=z&&(d.push(N),g.set(N,z))}});const _=new Lg(d);return new gC(g,_,l.fieldTransforms)}function pp(i,n,r,s,l,d){const g=i.Ba(1,n,r),_=[_C(n,s,r)],C=[l];if(d.length%2!=0)throw new Ue(Ce.INVALID_ARGUMENT,`Function ${n}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let z=0;z<d.length;z+=2)_.push(_C(n,d[z])),C.push(d[z+1]);const T=[],N=bi.empty();for(let z=_.length-1;z>=0;--z)if(!hR(T,_[z])){const $=_[z];let re=C[z];re=(0,jt.m9)(re);const Ie=g.$a($);if(re instanceof Hd)T.push($);else{const Le=gp(re,Ie);null!=Le&&(T.push($),N.set($,Le))}}const k=new Lg(T);return new gC(N,k,g.fieldTransforms)}function ex(i,n,r,s=!1){return gp(r,i.Ba(s?4:3,n))}function gp(i,n){if(cR(i=(0,jt.m9)(i)))return yC("Unsupported field value:",n,i),uR(i,n);if(i instanceof jd)return function(r,s){if(!Yv(s.Da))throw s.Fa(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Fa(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(s);l&&s.fieldTransforms.push(l)}(i,n),null;if(void 0===i&&n.ignoreUndefinedProperties)return null;if(n.path&&n.fieldMask.push(n.path),i instanceof Array){if(n.settings.xa&&4!==n.Da)throw n.Fa("Nested arrays are not supported");return function(r,s){const l=[];let d=0;for(const g of r){let _=gp(g,s.Oa(d));null==_&&(_={nullValue:"NULL_VALUE"}),l.push(_),d++}return{arrayValue:{values:l}}}(i,n)}return function(r,s){if(null===(r=(0,jt.m9)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return fA(s.N,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const l=Qr.fromDate(r);return{timestampValue:Td(s.N,l)}}if(r instanceof Qr){const l=new Qr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Td(s.N,l)}}if(r instanceof Kv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof eo)return{bytesValue:hE(s.N,r._byteString)};if(r instanceof Gn){const l=s.databaseId,d=r.firestore._databaseId;if(!d.isEqual(l))throw s.Fa(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:fE(r.firestore._databaseId||s.databaseId,r._key.path)}}throw s.Fa(`Unsupported field value: ${zv(r)}`)}(i,n)}function uR(i,n){const r={};return tA(i)?n.path&&n.path.length>0&&n.fieldMask.push(n.path):ec(i,(s,l)=>{const d=gp(l,n.Na(s));null!=d&&(r[s]=d)}),{mapValue:{fields:r}}}function cR(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Qr||i instanceof Kv||i instanceof eo||i instanceof Gn||i instanceof jd)}function yC(i,n,r){if(!cR(r)||"object"!=typeof(s=r)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=zv(r);throw n.Fa("an object"===s?i+" a custom object":i+" "+s)}var s}function _C(i,n,r){if((n=(0,jt.m9)(n))instanceof ll)return n._internalPath;if("string"==typeof n)return vC(i,n);throw Wv("Field path arguments must be of type string or FieldPath.",i,!1,void 0,r)}const dR=new RegExp("[~\\*/\\[\\]]");function vC(i,n,r){if(n.search(dR)>=0)throw Wv(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,r);try{return new ll(...n.split("."))._internalPath}catch(s){throw Wv(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,r)}}function Wv(i,n,r,s,l){const d=s&&!s.isEmpty(),g=void 0!==l;let _=`Function ${n}() called with invalid data`;r&&(_+=" (via `toFirestore()`)"),_+=". ";let C="";return(d||g)&&(C+=" (found",d&&(C+=` in field ${s}`),g&&(C+=` in document ${l}`),C+=")"),new Ue(Ce.INVALID_ARGUMENT,_+i+C)}function hR(i,n){return i.some(r=>r.isEqual(n))}class _m{constructor(n,r,s,l,d){this._firestore=n,this._userDataWriter=r,this._key=s,this._document=l,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new Gn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const n=new fR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const r=this._document.data.field(Qv("DocumentSnapshot.get",n));if(null!==r)return this._userDataWriter.convertValue(r)}}}class fR extends _m{data(){return super.data()}}function Qv(i,n){return"string"==typeof n?vC(i,n):n instanceof ll?n._internalPath:n._delegate._internalPath}class mp{constructor(n,r){this.hasPendingWrites=n,this.fromCache=r}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class gc extends _m{constructor(n,r,s,l,d,g){super(n,r,s,l,g),this._firestore=n,this._firestoreImpl=n,this.metadata=d}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const r=new vm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,r={}){if(this._document){const s=this._document.data.field(Qv("DocumentSnapshot.get",n));if(null!==s)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}}class vm extends gc{data(n={}){return super.data(n)}}class mc{constructor(n,r,s,l){this._firestore=n,this._userDataWriter=r,this._snapshot=l,this.metadata=new mp(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const n=[];return this.forEach(r=>n.push(r)),n}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(n,r){this._snapshot.docs.forEach(s=>{n.call(r,new vm(this._firestore,this._userDataWriter,s.key,s,new mp(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(n={}){const r=!!n.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Ue(Ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(s,l){if(s._snapshot.oldDocs.isEmpty()){let d=0;return s._snapshot.docChanges.map(g=>({type:"added",doc:new vm(s._firestore,s._userDataWriter,g.doc.key,g.doc,new mp(s._snapshot.mutatedKeys.has(g.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:d++}))}{let d=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(g=>l||3!==g.type).map(g=>{const _=new vm(s._firestore,s._userDataWriter,g.doc.key,g.doc,new mp(s._snapshot.mutatedKeys.has(g.doc.key),s._snapshot.fromCache),s.query.converter);let C=-1,T=-1;return 0!==g.type&&(C=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),1!==g.type&&(d=d.add(g.doc),T=d.indexOf(g.doc.key)),{type:pR(g.type),doc:_,oldIndex:C,newIndex:T}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function pR(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return at()}}function tx(i,n){return i instanceof gc&&n instanceof gc?i._firestore===n._firestore&&i._key.isEqual(n._key)&&(null===i._document?null===n._document:i._document.isEqual(n._document))&&i._converter===n._converter:i instanceof mc&&n instanceof mc&&i._firestore===n._firestore&&qv(i.query,n.query)&&i.metadata.isEqual(n.metadata)&&i._snapshot.isEqual(n._snapshot)}function nx(i){if(Bf(i)&&0===i.explicitOrderBy.length)throw new Ue(Ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cs{}function yc(i,...n){for(const r of n)i=r._apply(i);return i}class gR extends cs{constructor(n,r,s){super(),this.Ka=n,this.ja=r,this.Qa=s,this.type="where"}_apply(n){const r=ul(n.firestore),s=function(l,d,g,_,C,T,N){let k;if(C.isKeyField()){if("array-contains"===T||"array-contains-any"===T)throw new Ue(Ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on FieldPath.documentId().`);if("in"===T||"not-in"===T){ox(N,T);const $=[];for(const re of N)$.push(Jv(_,l,re));k={arrayValue:{values:$}}}else k=Jv(_,l,N)}else"in"!==T&&"not-in"!==T&&"array-contains-any"!==T||ox(N,T),k=ex(g,"where",N,"in"===T||"not-in"===T);const z=ss.create(C,T,k);return function($,re){if(re.v()){const Le=rv($);if(null!==Le&&!Le.isEqual(re.field))throw new Ue(Ce.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Le.toString()}' and '${re.field.toString()}'`);const He=Xw($);null!==He&&ax(0,re.field,He)}const Ie=function(Le,He){for(const st of Le.filters)if(He.indexOf(st.op)>=0)return st.op;return null}($,function(Le){switch(Le){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(re.op));if(null!==Ie)throw new Ue(Ce.INVALID_ARGUMENT,Ie===re.op?`Invalid query. You cannot use more than one '${re.op.toString()}' filter.`:`Invalid query. You cannot use '${re.op.toString()}' filters with '${Ie.toString()}' filters.`)}(l,z),z}(n._query,0,r,n.firestore._databaseId,this.Ka,this.ja,this.Qa);return new Ci(n.firestore,n.converter,function(l,d){const g=l.filters.concat([d]);return new nl(l.path,l.collectionGroup,l.explicitOrderBy.slice(),g,l.limit,l.limitType,l.startAt,l.endAt)}(n._query,s))}}class yR extends cs{constructor(n,r){super(),this.Ka=n,this.Wa=r,this.type="orderBy"}_apply(n){const r=function(s,l,d){if(null!==s.startAt)throw new Ue(Ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new Ue(Ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const g=new Lf(l,d);return function(_,C){if(null===Xw(_)){const T=rv(_);null!==T&&ax(0,T,C.field)}}(s,g),g}(n._query,this.Ka,this.Wa);return new Ci(n.firestore,n.converter,function(s,l){const d=s.explicitOrderBy.concat([l]);return new nl(s.path,s.collectionGroup,d,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(n._query,r))}}class rx extends cs{constructor(n,r,s){super(),this.type=n,this.Ga=r,this.za=s}_apply(n){return new Ci(n.firestore,n.converter,tE(n._query,this.Ga,this.za))}}class yp extends cs{constructor(n,r,s){super(),this.type=n,this.Ha=r,this.Ja=s}_apply(n){const r=bR(n,this.type,this.Ha,this.Ja);return new Ci(n.firestore,n.converter,(l=r,new nl((s=n._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,l,s.endAt)));var s,l}}class sx extends cs{constructor(n,r,s){super(),this.type=n,this.Ha=r,this.Ja=s}_apply(n){const r=bR(n,this.type,this.Ha,this.Ja);return new Ci(n.firestore,n.converter,(l=r,new nl((s=n._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,l)));var s,l}}function bR(i,n,r,s){if(r[0]=(0,jt.m9)(r[0]),r[0]instanceof _m)return function(l,d,g,_,C){if(!_)throw new Ue(Ce.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${g}().`);const T=[];for(const N of Ad(l))if(N.field.isKeyField())T.push(Ug(d,_.key));else{const k=_.data.field(N.field);if(H_(k))throw new Ue(Ce.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+N.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===k){const z=N.field.canonicalString();throw new Ue(Ce.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${z}' (used as the orderBy) does not exist.`)}T.push(k)}return new Pf(T,C)}(i._query,i.firestore._databaseId,n,r[0]._document,s);{const l=ul(i.firestore);return function(d,g,_,C,T,N){const k=d.explicitOrderBy;if(T.length>k.length)throw new Ue(Ce.INVALID_ARGUMENT,`Too many arguments provided to ${C}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const z=[];for(let $=0;$<T.length;$++){const re=T[$];if(k[$].field.isKeyField()){if("string"!=typeof re)throw new Ue(Ce.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${C}(), but got a ${typeof re}`);if(!eE(d)&&-1!==re.indexOf("/"))throw new Ue(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${C}() must be a plain document ID, but '${re}' contains a slash.`);const Ie=d.path.child(sn.fromString(re));if(!lt.isDocumentKey(Ie))throw new Ue(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${C}() must result in a valid document path, but '${Ie}' is not because it contains an odd number of segments.`);const Le=new lt(Ie);z.push(Ug(g,Le))}else{const Ie=ex(_,C,re);z.push(Ie)}}return new Pf(z,N)}(i._query,i.firestore._databaseId,l,n,r,s)}}function Jv(i,n,r){if("string"==typeof(r=(0,jt.m9)(r))){if(""===r)throw new Ue(Ce.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!eE(n)&&-1!==r.indexOf("/"))throw new Ue(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const s=n.path.child(sn.fromString(r));if(!lt.isDocumentKey(s))throw new Ue(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Ug(i,new lt(s))}if(r instanceof Gn)return Ug(i,r._key);throw new Ue(Ce.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${zv(r)}.`)}function ox(i,n){if(!Array.isArray(i)||0===i.length)throw new Ue(Ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${n.toString()}' filters.`);if(i.length>10)throw new Ue(Ce.INVALID_ARGUMENT,`Invalid Query. '${n.toString()}' filters support a maximum of 10 elements in the value array.`)}function ax(i,n,r){if(!r.isEqual(n))throw new Ue(Ce.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${n.toString()}' and so you must also use '${n.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${r.toString()}' instead.`)}class bC{convertValue(n,r="none"){switch(tc(n)){case 0:return null;case 1:return n.booleanValue;case 2:return xr(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,r);case 5:return n.stringValue;case 6:return this.convertBytes(Nf(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,r);case 10:return this.convertObject(n.mapValue,r);default:throw at()}}convertObject(n,r){const s={};return ec(n.fields,(l,d)=>{s[l]=this.convertValue(d,r)}),s}convertGeoPoint(n){return new Kv(xr(n.latitude),xr(n.longitude))}convertArray(n,r){return(n.values||[]).map(s=>this.convertValue(s,r))}convertServerTimestamp(n,r){switch(r){case"previous":const s=kf(n);return null==s?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(Vg(n));default:return null}}convertTimestamp(n){const r=la(n);return new Qr(r.seconds,r.nanos)}convertDocumentKey(n,r){const s=sn.fromString(n);Dt(gv(s));const l=new cp(s.get(1),s.get(3)),d=new lt(s.popFirst(5));return l.isEqual(r)||nr(`Document ${d} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),d}}function wC(i,n,r){let s;return s=i?r&&(r.merge||r.mergeFields)?i.toFirestore(n,r):i.toFirestore(n):n,s}class wR extends bC{constructor(n){super(),this.firestore=n}convertBytes(n){return new eo(n)}convertReference(n){const r=this.convertDocumentKey(n,this.firestore._databaseId);return new Gn(this.firestore,null,r)}}class lx{constructor(n,r){this._firestore=n,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=ul(n)}set(n,r,s){this._verifyNotCommitted();const l=_c(n,this._firestore),d=wC(l.converter,r,s),g=Zv(this._dataReader,"WriteBatch.set",l._key,d,null!==l.converter,s);return this._mutations.push(g.toMutation(l._key,yr.none())),this}update(n,r,s,...l){this._verifyNotCommitted();const d=_c(n,this._firestore);let g;return g="string"==typeof(r=(0,jt.m9)(r))||r instanceof ll?pp(this._dataReader,"WriteBatch.update",d._key,r,s,l):XI(this._dataReader,"WriteBatch.update",d._key,r),this._mutations.push(g.toMutation(d._key,yr.exists(!0))),this}delete(n){this._verifyNotCommitted();const r=_c(n,this._firestore);return this._mutations=this._mutations.concat(new $g(r._key,yr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ue(Ce.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function _c(i,n){if((i=(0,jt.m9)(i)).firestore!==n)throw new Ue(Ce.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class _p extends bC{constructor(n){super(),this.firestore=n}convertBytes(n){return new eo(n)}convertReference(n){const r=this.convertDocumentKey(n,this.firestore._databaseId);return new Gn(this.firestore,null,r)}}function Xv(i,n,r){i=Yt(i,Gn);const s=Yt(i.firestore,_r),l=wC(i.converter,n,r);return $d(s,[Zv(ul(s),"setDoc",i._key,l,null!==i.converter,r).toMutation(i._key,yr.none())])}function eb(i,n,r,...s){i=Yt(i,Gn);const l=Yt(i.firestore,_r),d=ul(l);let g;return g="string"==typeof(n=(0,jt.m9)(n))||n instanceof ll?pp(d,"updateDoc",i._key,n,r,s):XI(d,"updateDoc",i._key,n),$d(l,[g.toMutation(i._key,yr.exists(!0))])}function bm(i,...n){var r,s,l;i=(0,jt.m9)(i);let d={includeMetadataChanges:!1},g=0;"object"!=typeof n[g]||fC(n[g])||(d=n[g],g++);const _={includeMetadataChanges:d.includeMetadataChanges};if(fC(n[g])){const k=n[g];n[g]=null===(r=k.next)||void 0===r?void 0:r.bind(k),n[g+1]=null===(s=k.error)||void 0===s?void 0:s.bind(k),n[g+2]=null===(l=k.complete)||void 0===l?void 0:l.bind(k)}let C,T,N;if(i instanceof Gn)T=Yt(i.firestore,_r),N=Vf(i._key.path),C={next:k=>{n[g]&&n[g](CC(T,i,k))},error:n[g+1],complete:n[g+2]};else{const k=Yt(i,Ci);T=Yt(k.firestore,_r),N=k._query;const z=new _p(T);C={next:$=>{n[g]&&n[g](new mc(T,z,k,$))},error:n[g+1],complete:n[g+2]},nx(i._query)}return function(k,z,$,re){const Ie=new iC(re),Le=new WE(z,Ie,$);return k.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return kv(yield up(k),Le)})),()=>{Ie.Xo(),k.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return Fv(yield up(k),Le)}))}}(Sr(T),N,_,C)}function $d(i,n){return function(r,s){const l=new rr;return r.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function(i,n,r){return _I.apply(this,arguments)}(yield Gv(r),s,l)})),l.promise}(Sr(i),n)}function CC(i,n,r){const s=r.docs.get(n._key),l=new _p(i);return new gc(i,l,n._key,s,new mp(r.hasPendingWrites,r.fromCache),n.converter)}class CR extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=ul(n)}get(n){const r=_c(n,this._firestore),s=new wR(this._firestore);return this._transaction.lookup([r._key]).then(l=>{if(!l||1!==l.length)return at();const d=l[0];if(d.isFoundDocument())return new _m(this._firestore,s,d.key,d,r.converter);if(d.isNoDocument())return new _m(this._firestore,s,r._key,null,r.converter);throw at()})}set(n,r,s){const l=_c(n,this._firestore),d=wC(l.converter,r,s),g=Zv(this._dataReader,"Transaction.set",l._key,d,null!==l.converter,s);return this._transaction.set(l._key,g),this}update(n,r,s,...l){const d=_c(n,this._firestore);let g;return g="string"==typeof(r=(0,jt.m9)(r))||r instanceof ll?pp(this._dataReader,"Transaction.update",d._key,r,s,l):XI(this._dataReader,"Transaction.update",d._key,r),this._transaction.update(d._key,g),this}delete(n){const r=_c(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(n,r){super(n,r),this._firestore=n}get(n){const r=_c(n,this._firestore),s=new _p(this._firestore);return super.get(n).then(l=>new gc(this._firestore,s,r._key,l._document,new mp(!1,!1),r.converter))}}function vp(i,n){if(void 0===n)return{merge:!1};if(void 0!==n.mergeFields&&void 0!==n.merge)throw new Ue("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return n}function rb(){if("undefined"==typeof Uint8Array)throw new Ue("unimplemented","Uint8Arrays are not available in this environment.")}function AC(){if("undefined"==typeof atob)throw new Ue("unimplemented","Blobs are unavailable in Firestore in this environment.")}(function(i){ru=i})(af.SDK_VERSION),(0,af._registerComponent)(new gw.wA("firestore",(i,{options:n})=>{const r=i.getProvider("app").getImmediate(),s=new _r(r,new G_(i.getProvider("auth-internal")));return n=Object.assign({useFetchStreams:!0},n),s._setSettings(n),s},"PUBLIC")),(0,af.registerVersion)("@firebase/firestore","3.1.0",void 0);class vc{constructor(n){this._delegate=n}static fromBase64String(n){return AC(),new vc(eo.fromBase64String(n))}static fromUint8Array(n){return rb(),new vc(eo.fromUint8Array(n))}toBase64(){return AC(),this._delegate.toBase64()}toUint8Array(){return rb(),this._delegate.toUint8Array()}isEqual(n){return this._delegate.isEqual(n._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function IC(i){return function(i,n){if("object"!=typeof i||null===i)return!1;const r=i;for(const s of["next","error","complete"])if(s in r&&"function"==typeof r[s])return!0;return!1}(i)}class TR{enableIndexedDbPersistence(n,r){return function(i,n){pC(i=Yt(i,_r));const r=Sr(i),s=i._freezeSettings(),l=new Uv;return ZI(r,l,new PI(l,s.cacheSizeBytes,null==n?void 0:n.forceOwnership))}(n._delegate,{forceOwnership:r})}enableMultiTabIndexedDbPersistence(n){return function(i){pC(i=Yt(i,_r));const n=Sr(i),r=i._freezeSettings(),s=new Uv;return ZI(n,s,new BN(s,r.cacheSizeBytes))}(n._delegate)}clearIndexedDbPersistence(n){return function(i){if(i._initialized&&!i._terminated)throw new Ue(Ce.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const n=new rr;return i._queue.enqueueAndForgetEvenWhileRestricted((0,Te.Z)(function*(){try{yield(r=(0,Te.Z)(function*(s){if(!da.bt())return Promise.resolve();const l=s+"main";yield da.delete(l)}),function(s){return r.apply(this,arguments)})(xE(i._databaseId,i._persistenceKey)),n.resolve()}catch(r){n.reject(r)}var r})),n.promise}(n._delegate)}}class mx{constructor(n,r,s){this._delegate=r,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},n instanceof cp||(this._appCompat=n)}get _databaseId(){return this._delegate._databaseId}settings(n){const r=this._delegate._getSettings();!n.merge&&r.host!==n.host&&Pg("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),n.merge&&delete(n=Object.assign(Object.assign({},r),n)).merge,this._delegate._setSettings(n)}useEmulator(n,r,s={}){!function(i,n,r,s={}){var l;const d=(i=Yt(i,dp))._getSettings();if("firestore.googleapis.com"!==d.host&&d.host!==n&&Pg("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},d),{host:`${n}:${r}`,ssl:!1})),s.mockUserToken){let g,_;if("string"==typeof s.mockUserToken)g=s.mockUserToken,_=_i.MOCK_USER;else{g=(0,jt.Sg)(s.mockUserToken,null===(l=i._app)||void 0===l?void 0:l.options.projectId);const C=s.mockUserToken.sub||s.mockUserToken.user_id;if(!C)throw new Ue(Ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new _i(C)}i._credentials=new TT(new QD(g,_))}}(this._delegate,n,r,s)}enableNetwork(){return function(i){return function(i){return i.asyncQueue.enqueue((0,Te.Z)(function*(){const n=yield BI(i),r=yield uC(i);return n.setNetworkEnabled(!0),function(s){const l=We(s);return l.Kr.delete(0),np(l)}(r)}))}(Sr(i=Yt(i,_r)))}(this._delegate)}disableNetwork(){return function(i){return function(i){return i.asyncQueue.enqueue((0,Te.Z)(function*(){const n=yield BI(i),r=yield uC(i);return n.setNetworkEnabled(!1),(s=(0,Te.Z)(function*(l){const d=We(l);d.Kr.add(0),yield Pd(d),d.Wr.set("Offline")}),function(l){return s.apply(this,arguments)})(r);var s}))}(Sr(i=Yt(i,_r)))}(this._delegate)}enablePersistence(n){let r=!1,s=!1;return n&&(r=!!n.synchronizeTabs,s=!!n.experimentalForceOwningTab,GI("synchronizeTabs",r,"experimentalForceOwningTab",s)),r?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(i){return function(n){const r=new rr;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function(i,n){return EI.apply(this,arguments)}(yield Gv(n),r)})),r.promise}(Sr(i=Yt(i,_r)))}(this._delegate)}onSnapshotsInSync(n){return function(i,n){return function(i,n){const r=new iC(n);return i.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return s=yield up(i),l=r,We(s).Zr.add(l),void l.next();var s,l})),()=>{r.Xo(),i.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return s=yield up(i),l=r,void We(s).Zr.delete(l);var s,l}))}}(Sr(i=Yt(i,_r)),fC(n)?n:{next:n})}(this._delegate,n)}get app(){if(!this._appCompat)throw new Ue("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(n){try{return new bp(this,qI(this._delegate,n))}catch(r){throw Di(r,"collection()","Firestore.collection()")}}doc(n){try{return new ji(this,ym(this._delegate,n))}catch(r){throw Di(r,"doc()","Firestore.doc()")}}collectionGroup(n){try{return new ds(this,function(i,n){if(i=Yt(i,dp),hC("collectionGroup","collection id",n),n.indexOf("/")>=0)throw new Ue(Ce.INVALID_ARGUMENT,`Invalid collection ID '${n}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ci(i,null,(r=n,new nl(sn.emptyPath(),r)));var r}(this._delegate,n))}catch(r){throw Di(r,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(n){return function(i,n){return function(i,n){const r=new rr;return i.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){const s=yield(l=i,lp(l).then(d=>d.datastore));var l;new gm(i.asyncQueue,s,n,r).run()})),r.promise}(Sr(i),r=>n(new CR(i,r)))}(this._delegate,r=>n(new yx(this,r)))}batch(){return Sr(this._delegate),new _x(new lx(this._delegate,n=>$d(this._delegate,n)))}loadBundle(n){return function(i,n){const r=Sr(i=Yt(i,_r)),s=new tR;return function(i,n,r,s){const l=function(d,g){let _;return _="string"==typeof d?(new TextEncoder).encode(d):d,C=function(C,T){if(C instanceof Uint8Array)return LI(C,T);if(C instanceof ArrayBuffer)return LI(new Uint8Array(C),T);if(C instanceof ReadableStream)return C.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(_),new UN(C,g);var C}(r,Fd(n));i.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){!function(i,n,r){const s=We(i);var l;(l=(0,Te.Z)(function*(d,g,_){try{const C=yield g.getMetadata();if(yield function(z,$){const re=We(z),Ie=Xr($.createTime);return re.persistence.runTransaction("hasNewerBundle","readonly",Le=>re.Je.getBundleMetadata(Le,$.id)).then(Le=>!!Le&&Le.createTime.compareTo(Ie)>=0)}(d.localStore,C))return yield g.close(),void _._completeWith((z=C,{taskState:"Success",documentsLoaded:z.totalDocuments,bytesLoaded:z.totalBytes,totalDocuments:z.totalDocuments,totalBytes:z.totalBytes}));_._updateProgress(NM(C));const T=new SN(C,d.localStore,g.N);let N=yield g.Qo();for(;N;){const z=yield T.fo(N);z&&_._updateProgress(z),N=yield g.Qo()}const k=yield T.complete();yield Ms(d,k.Tn,void 0),yield function(z,$){const re=We(z);return re.persistence.runTransaction("Save bundle","readwrite",Ie=>re.Je.saveBundleMetadata(Ie,$))}(d.localStore,C),_._completeWith(k.progress)}catch(C){Pg("SyncEngine",`Loading bundle failed with ${C}`),_._failWith(C)}var z}),function(d,g,_){return l.apply(this,arguments)})(s,n,r).then(()=>{s.sharedClientState.notifyBundleLoaded()})}(yield Gv(i),l,s)}))}(r,i._databaseId,n,s),s}(this._delegate,n)}namedQuery(n){return function(i,n){return function(i,n){return i.asyncQueue.enqueue((0,Te.Z)(function*(){return function(r,s){const l=We(r);return l.persistence.runTransaction("Get named query","readonly",d=>l.Je.getNamedQuery(d,s))}(yield mm(i),n)}))}(Sr(i=Yt(i,_r)),n).then(r=>r?new Ci(i,null,r.query):null)}(this._delegate,n).then(r=>r?new ds(this,r):null)}}class Em extends bC{constructor(n){super(),this.firestore=n}convertBytes(n){return new vc(new eo(n))}convertReference(n){const r=this.convertDocumentKey(n,this.firestore._databaseId);return ji.forKey(r,this.firestore,null)}}class yx{constructor(n,r){this._firestore=n,this._delegate=r,this._userDataWriter=new Em(n)}get(n){const r=qd(n);return this._delegate.get(r).then(s=>new Cm(this._firestore,new gc(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,r.converter)))}set(n,r,s){const l=qd(n);return s?(vp("Transaction.set",s),this._delegate.set(l,r,s)):this._delegate.set(l,r),this}update(n,r,s,...l){const d=qd(n);return 2===arguments.length?this._delegate.update(d,r):this._delegate.update(d,r,s,...l),this}delete(n){const r=qd(n);return this._delegate.delete(r),this}}class _x{constructor(n){this._delegate=n}set(n,r,s){const l=qd(n);return s?(vp("WriteBatch.set",s),this._delegate.set(l,r,s)):this._delegate.set(l,r),this}update(n,r,s,...l){const d=qd(n);return 2===arguments.length?this._delegate.update(d,r):this._delegate.update(d,r,s,...l),this}delete(n){const r=qd(n);return this._delegate.delete(r),this}commit(){return this._delegate.commit()}}class Os{constructor(n,r,s){this._firestore=n,this._userDataWriter=r,this._delegate=s}fromFirestore(n,r){const s=new vm(this._firestore._delegate,this._userDataWriter,n._key,n._document,n.metadata,null);return this._delegate.fromFirestore(new zd(this._firestore,s),null!=r?r:{})}toFirestore(n,r){return r?this._delegate.toFirestore(n,r):this._delegate.toFirestore(n)}static getInstance(n,r){const s=Os.INSTANCES;let l=s.get(n);l||(l=new WeakMap,s.set(n,l));let d=l.get(r);return d||(d=new Os(n,new Em(n),r),l.set(r,d)),d}}Os.INSTANCES=new WeakMap;class ji{constructor(n,r){this.firestore=n,this._delegate=r,this._userDataWriter=new Em(n)}static forPath(n,r,s){if(n.length%2!=0)throw new Ue("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${n.canonicalString()} has ${n.length}`);return new ji(r,new Gn(r._delegate,s,new lt(n)))}static forKey(n,r,s){return new ji(r,new Gn(r._delegate,s,n))}get id(){return this._delegate.id}get parent(){return new bp(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(n){try{return new bp(this.firestore,qI(this._delegate,n))}catch(r){throw Di(r,"collection()","DocumentReference.collection()")}}isEqual(n){return(n=(0,jt.m9)(n))instanceof Gn&&hp(this._delegate,n)}set(n,r){r=vp("DocumentReference.set",r);try{return r?Xv(this._delegate,n,r):Xv(this._delegate,n)}catch(s){throw Di(s,"setDoc()","DocumentReference.set()")}}update(n,r,...s){try{return 1===arguments.length?eb(this._delegate,n):eb(this._delegate,n,r,...s)}catch(l){throw Di(l,"updateDoc()","DocumentReference.update()")}}delete(){return function(i){return $d(Yt(i.firestore,_r),[new $g(i._key,yr.none())])}(this._delegate)}onSnapshot(...n){const r=vx(n),s=bx(n,l=>new Cm(this.firestore,new gc(this.firestore._delegate,this._userDataWriter,l._key,l._document,l.metadata,this._delegate.converter)));return bm(this._delegate,r,s)}get(n){let r;return r="cache"===(null==n?void 0:n.source)?function(i){i=Yt(i,Gn);const n=Yt(i.firestore,_r),r=Sr(n),s=new _p(n);return function(i,n){const r=new rr;return i.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return(s=(0,Te.Z)(function*(l,d,g){try{const _=yield function(C,T){const N=We(C);return N.persistence.runTransaction("read document","readonly",k=>N.Qn.An(k,T))}(l,d);_.isFoundDocument()?g.resolve(_):_.isNoDocument()?g.resolve(null):g.reject(new Ue(Ce.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(_){const C=Bd(_,`Failed to get document '${d} from cache`);g.reject(C)}}),function(l,d,g){return s.apply(this,arguments)})(yield mm(i),n,r);var s})),r.promise}(r,i._key).then(l=>new gc(n,s,i._key,l,new mp(null!==l&&l.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===(null==n?void 0:n.source)?function(i){i=Yt(i,Gn);const n=Yt(i.firestore,_r);return $v(Sr(n),i._key,{source:"server"}).then(r=>CC(n,i,r))}(this._delegate):function(i){i=Yt(i,Gn);const n=Yt(i.firestore,_r);return $v(Sr(n),i._key).then(r=>CC(n,i,r))}(this._delegate),r.then(s=>new Cm(this.firestore,new gc(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(n){return new ji(this.firestore,this._delegate.withConverter(n?Os.getInstance(this.firestore,n):null))}}function Di(i,n,r){return i.message=i.message.replace(n,r),i}function vx(i){for(const n of i)if("object"==typeof n&&!IC(n))return n;return{}}function bx(i,n){var r,s;let l;return l=IC(i[0])?i[0]:IC(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:d=>{l.next&&l.next(n(d))},error:null===(r=l.error)||void 0===r?void 0:r.bind(l),complete:null===(s=l.complete)||void 0===s?void 0:s.bind(l)}}class Cm{constructor(n,r){this._firestore=n,this._delegate=r}get ref(){return new ji(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(n){return this._delegate.data(n)}get(n,r){return this._delegate.get(n,r)}isEqual(n){return tx(this._delegate,n._delegate)}}class zd extends Cm{data(n){const r=this._delegate.data(n);return function(i,n){i||at()}(void 0!==r),r}}class ds{constructor(n,r){this.firestore=n,this._delegate=r,this._userDataWriter=new Em(n)}where(n,r,s){try{return new ds(this.firestore,yc(this._delegate,function(i,n,r){const s=n,l=Qv("where",i);return new gR(l,s,r)}(n,r,s)))}catch(l){throw Di(l,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(n,r){try{return new ds(this.firestore,yc(this._delegate,function(i,n="asc"){const r=n,s=Qv("orderBy",i);return new yR(s,r)}(n,r)))}catch(s){throw Di(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(n){try{return new ds(this.firestore,yc(this._delegate,function(i){return $I("limit",i),new rx("limit",i,"F")}(n)))}catch(r){throw Di(r,"limit()","Query.limit()")}}limitToLast(n){try{return new ds(this.firestore,yc(this._delegate,function(i){return $I("limitToLast",i),new rx("limitToLast",i,"L")}(n)))}catch(r){throw Di(r,"limitToLast()","Query.limitToLast()")}}startAt(...n){try{return new ds(this.firestore,yc(this._delegate,function(...i){return new yp("startAt",i,!0)}(...n)))}catch(r){throw Di(r,"startAt()","Query.startAt()")}}startAfter(...n){try{return new ds(this.firestore,yc(this._delegate,function(...i){return new yp("startAfter",i,!1)}(...n)))}catch(r){throw Di(r,"startAfter()","Query.startAfter()")}}endBefore(...n){try{return new ds(this.firestore,yc(this._delegate,function(...i){return new sx("endBefore",i,!0)}(...n)))}catch(r){throw Di(r,"endBefore()","Query.endBefore()")}}endAt(...n){try{return new ds(this.firestore,yc(this._delegate,function(...i){return new sx("endAt",i,!1)}(...n)))}catch(r){throw Di(r,"endAt()","Query.endAt()")}}isEqual(n){return qv(this._delegate,n._delegate)}get(n){let r;return r="cache"===(null==n?void 0:n.source)?function(i){i=Yt(i,Ci);const n=Yt(i.firestore,_r),r=Sr(n),s=new _p(n);return function(i,n){const r=new rr;return i.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return(s=(0,Te.Z)(function*(l,d,g){try{const _=yield Ev(l,d,!0),C=new PM(d,_.Gn),T=C.Io(_.documents),N=C.applyChanges(T,!1);g.resolve(N.snapshot)}catch(_){const C=Bd(_,`Failed to execute query '${d} against cache`);g.reject(C)}}),function(l,d,g){return s.apply(this,arguments)})(yield mm(i),n,r);var s})),r.promise}(r,i._query).then(l=>new mc(n,s,i,l))}(this._delegate):"server"===(null==n?void 0:n.source)?function(i){i=Yt(i,Ci);const n=Yt(i.firestore,_r),r=Sr(n),s=new _p(n);return cC(r,i._query,{source:"server"}).then(l=>new mc(n,s,i,l))}(this._delegate):function(i){i=Yt(i,Ci);const n=Yt(i.firestore,_r),r=Sr(n),s=new _p(n);return nx(i._query),cC(r,i._query).then(l=>new mc(n,s,i,l))}(this._delegate),r.then(s=>new ib(this.firestore,new mc(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...n){const r=vx(n),s=bx(n,l=>new ib(this.firestore,new mc(this.firestore._delegate,this._userDataWriter,this._delegate,l._snapshot)));return bm(this._delegate,r,s)}withConverter(n){return new ds(this.firestore,this._delegate.withConverter(n?Os.getInstance(this.firestore,n):null))}}class wx{constructor(n,r){this._firestore=n,this._delegate=r}get type(){return this._delegate.type}get doc(){return new zd(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class ib{constructor(n,r){this._firestore=n,this._delegate=r}get query(){return new ds(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(n=>new zd(this._firestore,n))}docChanges(n){return this._delegate.docChanges(n).map(r=>new wx(this._firestore,r))}forEach(n,r){this._delegate.forEach(s=>{n.call(r,new zd(this._firestore,s))})}isEqual(n){return tx(this._delegate,n._delegate)}}class bp extends ds{constructor(n,r){super(n,r),this.firestore=n,this._delegate=r}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const n=this._delegate.parent;return n?new ji(this.firestore,n):null}doc(n){try{return new ji(this.firestore,void 0===n?ym(this._delegate):ym(this._delegate,n))}catch(r){throw Di(r,"doc()","CollectionReference.doc()")}}add(n){return function(i,n){const r=Yt(i.firestore,_r),s=ym(i),l=wC(i.converter,n);return $d(r,[Zv(ul(i.firestore),"addDoc",s._key,l,null!==i.converter,{}).toMutation(s._key,yr.exists(!1))]).then(()=>s)}(this._delegate,n).then(r=>new ji(this.firestore,r))}isEqual(n){return hp(this._delegate,n._delegate)}withConverter(n){return new bp(this.firestore,this._delegate.withConverter(n?Os.getInstance(this.firestore,n):null))}}function qd(i){return Yt(i,Gn)}class xC{constructor(...n){this._delegate=new ll(...n)}static documentId(){return new xC(Li.keyField().canonicalString())}isEqual(n){return(n=(0,jt.m9)(n))instanceof ll&&this._delegate._internalPath.isEqual(n._internalPath)}}class hs{constructor(n){this._delegate=n}static serverTimestamp(){const n=new Tr("serverTimestamp");return n._methodName="FieldValue.serverTimestamp",new hs(n)}static delete(){const n=new Hd("deleteField");return n._methodName="FieldValue.delete",new hs(n)}static arrayUnion(...n){const r=function(...i){return new KN("arrayUnion",i)}(...n);return r._methodName="FieldValue.arrayUnion",new hs(r)}static arrayRemove(...n){const r=function(...i){return new aR("arrayRemove",i)}(...n);return r._methodName="FieldValue.arrayRemove",new hs(r)}static increment(n){const r=function(i){return new lR("increment",i)}(n);return r._methodName="FieldValue.increment",new hs(r)}isEqual(n){return this._delegate.isEqual(n._delegate)}}const Dm={Firestore:mx,GeoPoint:Kv,Timestamp:Qr,Blob:vc,Transaction:yx,WriteBatch:_x,DocumentReference:ji,DocumentSnapshot:Cm,Query:ds,QueryDocumentSnapshot:zd,QuerySnapshot:ib,CollectionReference:bp,FieldPath:xC,FieldValue:hs,setLogLevel:function(i){!function(i){aa.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function(i){(function(i,n){i.INTERNAL.registerComponent(new gw.wA("firestore-compat",r=>((n,r)=>new mx(n,r,new TR))(r.getProvider("app-compat").getImmediate(),r.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},Dm)))})(i),i.registerVersion("@firebase/firestore-compat","0.1.3")}(eT.Z);var bc=B(6682),Am=B(309),RR=B(7771),OR=B(8858);class Ex extends Pn.xQ{constructor(n=Number.POSITIVE_INFINITY,r=Number.POSITIVE_INFINITY,s){super(),this.scheduler=s,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=n<1?1:n,this._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(n){if(!this.isStopped){const r=this._events;r.push(n),r.length>this._bufferSize&&r.shift()}super.next(n)}nextTimeWindow(n){this.isStopped||(this._events.push(new Cx(this._getNow(),n)),this._trimBufferThenGetEvents()),super.next(n)}_subscribe(n){const r=this._infiniteTimeWindow,s=r?this._events:this._trimBufferThenGetEvents(),l=this.scheduler,d=s.length;let g;if(this.closed)throw new Hs.N;if(this.isStopped||this.hasError?g=x.w.EMPTY:(this.observers.push(n),g=new OR.W(this,n)),l&&n.add(n=new Am.ht(n,l)),r)for(let _=0;_<d&&!n.closed;_++)n.next(s[_]);else for(let _=0;_<d&&!n.closed;_++)n.next(s[_].value);return this.hasError?n.error(this.thrownError):this.isStopped&&n.complete(),g}_getNow(){return(this.scheduler||RR.c).now()}_trimBufferThenGetEvents(){const n=this._getNow(),r=this._bufferSize,s=this._windowTime,l=this._events,d=l.length;let g=0;for(;g<d&&!(n-l[g].time<s);)g++;return d>r&&(g=Math.max(g,d-r)),g>0&&l.splice(0,g),l}}class Cx{constructor(n,r){this.time=n,this.value=r}}function SC(i,n,r){let s;return s=i&&"object"==typeof i?i:{bufferSize:i,windowTime:n,refCount:!1,scheduler:r},l=>l.lift(function({bufferSize:i=Number.POSITIVE_INFINITY,windowTime:n=Number.POSITIVE_INFINITY,refCount:r,scheduler:s}){let l,g,d=0,_=!1,C=!1;return function(N){let k;d++,!l||_?(_=!1,l=new Ex(i,n,s),k=l.subscribe(this),g=N.subscribe({next(z){l.next(z)},error(z){_=!0,l.error(z)},complete(){C=!0,g=void 0,l.complete()}}),C&&(g=void 0)):k=l.subscribe(this),this.add(()=>{d--,k.unsubscribe(),k=void 0,g&&!C&&r&&0===d&&(g.unsubscribe(),g=void 0,l=void 0)})}}(s))}function ob(i,n){return n?Xn(()=>i,n):Xn(()=>i)}var TC=B(3101);B(2329);const kR=new Map,rk={activated:!1,tokenObservers:[]},ik={initialized:!1,enabled:!1};function o(i){return kR.get(i)||rk}function a(i,n){kR.set(i,n)}function u(){return ik}class w{constructor(n,r,s,l,d){if(this.operation=n,this.retryPolicy=r,this.getWaitDuration=s,this.lowerBound=l,this.upperBound=d,this.pending=null,this.nextErrorWaitInterval=l,l>d)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(n){var r=this;return(0,Te.Z)(function*(){r.stop();try{r.pending=new jt.BH,yield function(i){return new Promise(n=>{setTimeout(n,i)})}(r.getNextRun(n)),r.pending.resolve(),yield r.pending.promise,r.pending=new jt.BH,yield r.operation(),r.pending.resolve(),yield r.pending.promise,r.process(!0).catch(()=>{})}catch(s){r.retryPolicy(s)?r.process(!1).catch(()=>{}):r.stop()}})()}getNextRun(n){if(n)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const r=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),r}}}const R=new jt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error."});function V(i){if(!o(i).activated)throw R.create("use-before-activation",{appName:i.name})}function J(i,n){return fe.apply(this,arguments)}function fe(){return(fe=(0,Te.Z)(function*({url:i,body:n},r){const s={"Content-Type":"application/json"},l=r.getImmediate({optional:!0});l&&(s["X-Firebase-Client"]=l.getPlatformInfoString());const d={method:"POST",body:JSON.stringify(n),headers:s};let g,_;try{g=yield fetch(i,d)}catch(k){throw R.create("fetch-network-error",{originalErrorMessage:k.message})}if(200!==g.status)throw R.create("fetch-status-error",{httpStatus:g.status});try{_=yield g.json()}catch(k){throw R.create("fetch-parse-error",{originalErrorMessage:k.message})}const C=_.ttl.match(/^([\d.]+)(s)$/);if(!C||!C[2]||isNaN(Number(C[1])))throw R.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${_.ttl}`});const T=1e3*Number(C[1]),N=Date.now();return{token:_.attestationToken,expireTimeMillis:N+T,issuedAtTimeMillis:N}})).apply(this,arguments)}function Ge(i,n){const{projectId:r,appId:s,apiKey:l}=i.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${r}/apps/${s}:exchangeDebugToken?key=${l}`,body:{debug_token:n}}}const _t="firebase-app-check-store";let ar=null;function to(){return ar||(ar=new Promise((i,n)=>{try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=s=>{i(s.target.result)},r.onerror=s=>{var l;n(R.create("storage-open",{originalErrorMessage:null===(l=s.target.error)||void 0===l?void 0:l.message}))},r.onupgradeneeded=s=>{const l=s.target.result;switch(s.oldVersion){case 0:l.createObjectStore(_t,{keyPath:"compositeKey"})}}}catch(r){n(R.create("storage-open",{originalErrorMessage:r.message}))}}),ar)}function Sm(){return(Sm=(0,Te.Z)(function*(i,n){const s=(yield to()).transaction(_t,"readwrite"),d=s.objectStore(_t).put({compositeKey:i,value:n});return new Promise((g,_)=>{d.onsuccess=C=>{g()},s.onerror=C=>{var T;_(R.create("storage-set",{originalErrorMessage:null===(T=C.target.error)||void 0===T?void 0:T.message}))}})})).apply(this,arguments)}const xx=new hd.Yd("@firebase/app-check");function sk(i,n){return(0,jt.hl)()?function(i,n){return function(i,n){return Sm.apply(this,arguments)}(function(i){return`${i.options.appId}-${i.name}`}(i),n)}(i,n).catch(r=>{xx.warn(`Failed to write token to IndexedDB. Error: ${r}`)}):Promise.resolve()}function ok(){return u().enabled}function ak(){return LR.apply(this,arguments)}function LR(){return(LR=(0,Te.Z)(function*(){const i=u();if(i.enabled&&i.token)return i.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const x1={error:"UNKNOWN_ERROR"};function S1(i){return jt.US.encodeString(JSON.stringify(i),!1)}function Sx(i){return VR.apply(this,arguments)}function VR(){return(VR=(0,Te.Z)(function*(i,n=!1){const r=i.app;V(r);const s=o(r);let d,g,l=s.token;if(!l){const _=yield s.cachedTokenPromise;_&&RC(_)&&(l=_,a(r,Object.assign(Object.assign({},s),{token:l})),uk(r,{token:l.token}))}if(!n&&l&&RC(l))return{token:l.token};if(ok()){const _=yield J(Ge(r,yield ak()),i.platformLoggerProvider);return yield sk(r,_),a(r,Object.assign(Object.assign({},s),{token:_})),{token:_.token}}try{l=yield s.provider.getToken()}catch(_){xx.error(_),d=_}return l?(g={token:l.token},a(r,Object.assign(Object.assign({},s),{token:l})),yield sk(r,l)):g=M1(d),uk(r,g),g})).apply(this,arguments)}function BR(i,n){const r=o(i),s=r.tokenObservers.filter(l=>l.next!==n);0===s.length&&r.tokenRefresher&&r.tokenRefresher.isRunning()&&r.tokenRefresher.stop(),a(i,Object.assign(Object.assign({},r),{tokenObservers:s}))}function uk(i,n){const r=o(i).tokenObservers;for(const s of r)try{"EXTERNAL"===s.type&&null!=n.error?s.error(n.error):s.next(n)}catch(l){}}function RC(i){return i.expireTimeMillis-Date.now()>0}function M1(i){return{token:S1(x1),error:i}}class R1{constructor(n,r){this.app=n,this.platformLoggerProvider=r}_delete(){const{tokenObservers:n}=o(this.app);for(const r of n)BR(this.app,r.next);return Promise.resolve()}}const fk="app-check-internal";(0,af._registerComponent)(new gw.wA("app-check",i=>function(i,n){return new R1(i,n)}(i.getProvider("app").getImmediate(),i.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((i,n,r)=>{i.getProvider(fk).initialize()})),(0,af._registerComponent)(new gw.wA(fk,i=>function(i){return{getToken:n=>Sx(i,n),addTokenListener:n=>function(i,n,r,s){const{app:l}=i,d=o(l),g={next:r,error:s,type:n},_=Object.assign(Object.assign({},d),{tokenObservers:[...d.tokenObservers,g]});if(!_.tokenRefresher){const C=function(i){const{app:n}=i;return new w((0,Te.Z)(function*(){let s;if(s=o(n).token?yield Sx(i,!0):yield Sx(i),s.error)throw s.error}),()=>!0,()=>{const r=o(n);if(r.token){let s=r.token.issuedAtTimeMillis+.5*(r.token.expireTimeMillis-r.token.issuedAtTimeMillis)+3e5;return s=Math.min(s,r.token.expireTimeMillis-3e5),Math.max(0,s-Date.now())}return 0},3e4,96e4)}(i);_.tokenRefresher=C}if(!_.tokenRefresher.isRunning()&&d.isTokenAutoRefreshEnabled&&_.tokenRefresher.start(),d.token&&RC(d.token)){const C=d.token;Promise.resolve().then(()=>r({token:C.token})).catch(()=>{})}else null==d.token&&d.cachedTokenPromise.then(C=>{C&&RC(C)&&r({token:C.token})}).catch(()=>{});a(l,_)}(i,"INTERNAL",n),removeTokenListener:n=>BR(i.app,n)}}(i.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,af.registerVersion)("@firebase/app-check","0.4.2");class HR{constructor(){return(0,Yr.vb)("app-check")}}"undefined"!=typeof window&&window;var K1=B(7841);const gk=new f.OlP("angularfire2.auth.use-emulator"),mk=new f.OlP("angularfire2.auth.settings"),yk=new f.OlP("angularfire2.auth.tenant-id"),_k=new f.OlP("angularfire2.auth.langugage-code"),vk=new f.OlP("angularfire2.auth.use-device-language"),bk=new f.OlP("angularfire.auth.persistence"),wk=(i,n,r,s,l,d,g,_)=>(0,Wa.cc)(`${i.name}.auth`,"AngularFireAuth",i.name,()=>{const C=n.runOutsideAngular(()=>i.auth());if(r&&C.useEmulator(...r),s&&(C.tenantId=s),C.languageCode=l,d&&C.useDeviceLanguage(),g)for(const[T,N]of Object.entries(g))C.settings[T]=N;return _&&C.setPersistence(_),C},[r,s,l,d,g,_]);let Ek=(()=>{class i{constructor(r,s,l,d,g,_,C,T,N,k,z,$){const re=new Pn.xQ,Ie=(0,dt.of)(void 0).pipe((0,Am.QV)(g.outsideAngular),Xn(()=>d.runOutsideAngular(()=>Promise.resolve().then(B.bind(B,5841)))),(0,bt.U)(()=>(0,Wa.on)(r,d,s)),(0,bt.U)(Le=>wk(Le,d,_,T,N,k,C,z)),SC({bufferSize:1,refCount:!1}));if(ui(l))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,dt.of)(null);else{Ie.pipe(qs()).subscribe();const He=Ie.pipe(Xn(gt=>gt.getRedirectResult().then(In=>In,()=>null)),Yr.iC,SC({bufferSize:1,refCount:!1})),st=Ie.pipe(Xn(gt=>new pr.y(In=>({unsubscribe:d.runOutsideAngular(()=>gt.onAuthStateChanged(br=>In.next(br),br=>In.error(br),()=>In.complete()))})))),Nt=Ie.pipe(Xn(gt=>new pr.y(In=>({unsubscribe:d.runOutsideAngular(()=>gt.onIdTokenChanged(br=>In.next(br),br=>In.error(br),()=>In.complete()))}))));this.authState=He.pipe(ob(st),(0,TC.R)(g.outsideAngular),(0,Am.QV)(g.insideAngular)),this.user=He.pipe(ob(Nt),(0,TC.R)(g.outsideAngular),(0,Am.QV)(g.insideAngular)),this.idToken=this.user.pipe(Xn(gt=>gt?(0,vn.D)(gt.getIdToken()):(0,dt.of)(null))),this.idTokenResult=this.user.pipe(Xn(gt=>gt?(0,vn.D)(gt.getIdTokenResult()):(0,dt.of)(null))),this.credential=(0,bc.T)(He,re,this.authState.pipe(Pr(gt=>!gt))).pipe((0,bt.U)(gt=>(null==gt?void 0:gt.user)?gt:null),(0,TC.R)(g.outsideAngular),(0,Am.QV)(g.insideAngular))}return(0,Wa.pX)(this,Ie,d,{spy:{apply:(Le,He,st)=>{(Le.startsWith("signIn")||Le.startsWith("createUser"))&&st.then(Nt=>re.next(Nt))}}})}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(Wa.Dh),f.LFG(Wa.xv,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(Yr.HU),f.LFG(gk,8),f.LFG(mk,8),f.LFG(yk,8),f.LFG(_k,8),f.LFG(vk,8),f.LFG(bk,8),f.LFG(HR,8))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})();function Ck(i,n){return function(i,n=pw.z){return new pr.y(r=>{let s;return null!=n?n.schedule(()=>{s=i.onSnapshot({includeMetadataChanges:!0},r)}):s=i.onSnapshot({includeMetadataChanges:!0},r),()=>{null!=s&&s()}})}(i,n)}function zR(i,n){return Ck(i,n).pipe((0,bt.U)(r=>({payload:r,type:"query"})))}function Tx(i,n){return zR(i,n).pipe(Va(void 0),Qy(),(0,bt.U)(([r,s])=>{const l=s.payload.docChanges(),d=l.map(g=>({type:g.type,payload:g}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((g,_)=>{const C=l.find(N=>N.doc.ref.isEqual(g.ref)),T=null==r?void 0:r.payload.docs.find(N=>N.ref.isEqual(g.ref));C&&JSON.stringify(C.doc.metadata)===JSON.stringify(g.metadata)||!C&&T&&JSON.stringify(T.metadata)===JSON.stringify(g.metadata)||d.push({type:"modified",payload:{oldIndex:_,newIndex:_,type:"modified",doc:g}})}),d}))}function Dk(i,n,r){return Tx(i,r).pipe(Ba((s,l)=>function(i,n,r){return n.forEach(s=>{r.indexOf(s.type)>-1&&(i=function(i,n){switch(n.type){case"added":if(!i[n.newIndex]||!i[n.newIndex].doc.ref.isEqual(n.doc.ref))return qR(i,n.newIndex,0,n);break;case"modified":if(null==i[n.oldIndex]||i[n.oldIndex].doc.ref.isEqual(n.doc.ref)){if(n.oldIndex!==n.newIndex){const r=i.slice();return r.splice(n.oldIndex,1),r.splice(n.newIndex,0,n),r}return qR(i,n.newIndex,1,n)}break;case"removed":if(i[n.oldIndex]&&i[n.oldIndex].doc.ref.isEqual(n.doc.ref))return qR(i,n.oldIndex,1)}return i}(i,s))}),i}(s,l.map(d=>d.payload),n),[]),function(i,n){return r=>r.lift(new JS(i,n))}(),(0,bt.U)(s=>s.map(l=>({type:l.type,payload:l}))))}function qR(i,n,r,...s){const l=i.slice();return l.splice(n,r,...s),l}function Ak(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class Ik{constructor(n,r,s){this.ref=n,this.query=r,this.afs=s}stateChanges(n){let r=Tx(this.query,this.afs.schedulers.outsideAngular);return n&&n.length>0&&(r=r.pipe((0,bt.U)(s=>s.filter(l=>n.indexOf(l.type)>-1)))),r.pipe(Va(void 0),Qy(),Pr(([s,l])=>l.length>0||!s),(0,bt.U)(([s,l])=>l),Yr.iC)}auditTrail(n){return this.stateChanges(n).pipe(Ba((r,s)=>[...r,...s],[]))}snapshotChanges(n){const r=Ak(n);return Dk(this.query,r,this.afs.schedulers.outsideAngular).pipe(Yr.iC)}valueChanges(n={}){return zR(this.query,this.afs.schedulers.outsideAngular).pipe((0,bt.U)(r=>r.payload.docs.map(s=>n.idField?Object.assign(Object.assign({},s.data()),{[n.idField]:s.id}):s.data())),Yr.iC)}get(n){return(0,vn.D)(this.query.get(n)).pipe(Yr.iC)}add(n){return this.ref.add(n)}doc(n){return new xk(this.ref.doc(n),this.afs)}}class xk{constructor(n,r){this.ref=n,this.afs=r}set(n,r){return this.ref.set(n,r)}update(n){return this.ref.update(n)}delete(){return this.ref.delete()}collection(n,r){const s=this.ref.collection(n),{ref:l,query:d}=Mk(s,r);return new Ik(l,d,this.afs)}snapshotChanges(){return function(i,n){return Ck(i,n).pipe(Va(void 0),Qy(),(0,bt.U)(([r,s])=>s.exists?(null==r?void 0:r.exists)?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Yr.iC)}valueChanges(n={}){return this.snapshotChanges().pipe((0,bt.U)(({payload:r})=>n.idField?Object.assign(Object.assign({},r.data()),{[n.idField]:r.id}):r.data()))}get(n){return(0,vn.D)(this.ref.get(n)).pipe(Yr.iC)}}class X1{constructor(n,r){this.query=n,this.afs=r}stateChanges(n){return n&&0!==n.length?Tx(this.query,this.afs.schedulers.outsideAngular).pipe((0,bt.U)(r=>r.filter(s=>n.indexOf(s.type)>-1)),Pr(r=>r.length>0),Yr.iC):Tx(this.query,this.afs.schedulers.outsideAngular).pipe(Yr.iC)}auditTrail(n){return this.stateChanges(n).pipe(Ba((r,s)=>[...r,...s],[]))}snapshotChanges(n){const r=Ak(n);return Dk(this.query,r,this.afs.schedulers.outsideAngular).pipe(Yr.iC)}valueChanges(n={}){return zR(this.query,this.afs.schedulers.outsideAngular).pipe((0,bt.U)(s=>s.payload.docs.map(l=>n.idField?Object.assign({[n.idField]:l.id},l.data()):l.data())),Yr.iC)}get(n){return(0,vn.D)(this.query.get(n)).pipe(Yr.iC)}}const Sk=new f.OlP("angularfire2.enableFirestorePersistence"),Tk=new f.OlP("angularfire2.firestore.persistenceSettings"),eL=new f.OlP("angularfire2.firestore.settings"),tL=new f.OlP("angularfire2.firestore.use-emulator");function Mk(i,n=(r=>r)){return{query:n(i),ref:i}}let Rk=(()=>{class i{constructor(r,s,l,d,g,_,C,T,N,k,z,$,re,Ie,Le,He,st){this.schedulers=C;const Nt=(0,Wa.on)(r,_,s),gt=N;k&&wk(Nt,_,z,re,Ie,Le,$,He),[this.firestore,this.persistenceEnabled$]=(0,Wa.cc)(`${Nt.name}.firestore`,"AngularFirestore",Nt.name,()=>{const In=_.runOutsideAngular(()=>Nt.firestore());if(d&&In.settings(d),gt&&In.useEmulator(...gt),l&&!ui(g)){const br=()=>{try{return(0,vn.D)(In.enablePersistence(T||void 0).then(()=>!0,()=>!1))}catch(fs){return"undefined"!=typeof console&&console.warn(fs),(0,dt.of)(!1)}};return[In,_.runOutsideAngular(br)]}return[In,(0,dt.of)(!1)]},[d,gt,l])}collection(r,s){let l;l="string"==typeof r?this.firestore.collection(r):r;const{ref:d,query:g}=Mk(l,s),_=this.schedulers.ngZone.run(()=>d);return new Ik(_,g,this)}collectionGroup(r,s){const l=s||(g=>g),d=this.firestore.collectionGroup(r);return new X1(l(d),this)}doc(r){let s;s="string"==typeof r?this.firestore.doc(r):r;const l=this.schedulers.ngZone.run(()=>s);return new xk(l,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(Wa.Dh),f.LFG(Wa.xv,8),f.LFG(Sk,8),f.LFG(eL,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(Yr.HU),f.LFG(Tk,8),f.LFG(tL,8),f.LFG(Ek,8),f.LFG(gk,8),f.LFG(mk,8),f.LFG(yk,8),f.LFG(_k,8),f.LFG(vk,8),f.LFG(bk,8),f.LFG(HR,8))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),nL=(()=>{class i{constructor(){K1.Z.registerVersion("angularfire",Yr.q4.full,"fst-compat")}static enablePersistence(r){return{ngModule:i,providers:[{provide:Sk,useValue:!0},{provide:Tk,useValue:r}]}}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({providers:[Rk]}),i})(),rL=(()=>{class i{constructor(r){this.firestore=r}addRunToUser(r,s){var l=this;return(0,Te.Z)(function*(){return yield l.firestore.collection("Users").doc(r).collection("Runs").doc(s.timestamp.toString()).set(s)})()}getUserRuns(r){return this.firestore.collection("Users").doc(r).collection("Runs")}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(Rk))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class Ok{}class Nk{}class Yd{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?this.lazyInit="string"==typeof n?()=>{this.headers=new Map,n.split("\n").forEach(r=>{const s=r.indexOf(":");if(s>0){const l=r.slice(0,s),d=l.toLowerCase(),g=r.slice(s+1).trim();this.maybeSetNormalizedName(l,d),this.headers.has(d)?this.headers.get(d).push(g):this.headers.set(d,[g])}})}:()=>{this.headers=new Map,Object.keys(n).forEach(r=>{let s=n[r];const l=r.toLowerCase();"string"==typeof s&&(s=[s]),s.length>0&&(this.headers.set(l,s),this.maybeSetNormalizedName(r,l))})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const r=this.headers.get(n.toLowerCase());return r&&r.length>0?r[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,r){return this.clone({name:n,value:r,op:"a"})}set(n,r){return this.clone({name:n,value:r,op:"s"})}delete(n,r){return this.clone({name:n,value:r,op:"d"})}maybeSetNormalizedName(n,r){this.normalizedNames.has(r)||this.normalizedNames.set(r,n)}init(){this.lazyInit&&(this.lazyInit instanceof Yd?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(r=>{this.headers.set(r,n.headers.get(r)),this.normalizedNames.set(r,n.normalizedNames.get(r))})}clone(n){const r=new Yd;return r.lazyInit=this.lazyInit&&this.lazyInit instanceof Yd?this.lazyInit:this,r.lazyUpdate=(this.lazyUpdate||[]).concat([n]),r}applyUpdate(n){const r=n.name.toLowerCase();switch(n.op){case"a":case"s":let s=n.value;if("string"==typeof s&&(s=[s]),0===s.length)return;this.maybeSetNormalizedName(n.name,r);const l=("a"===n.op?this.headers.get(r):void 0)||[];l.push(...s),this.headers.set(r,l);break;case"d":const d=n.value;if(d){let g=this.headers.get(r);if(!g)return;g=g.filter(_=>-1===d.indexOf(_)),0===g.length?(this.headers.delete(r),this.normalizedNames.delete(r)):this.headers.set(r,g)}else this.headers.delete(r),this.normalizedNames.delete(r)}}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(r=>n(this.normalizedNames.get(r),this.headers.get(r)))}}class iL{encodeKey(n){return kk(n)}encodeValue(n){return kk(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const oL=/%(\d[a-f0-9])/gi,aL={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function kk(i){return encodeURIComponent(i).replace(oL,(n,r)=>{var s;return null!==(s=aL[r])&&void 0!==s?s:n})}function Fk(i){return`${i}`}class Ap{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new iL,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(i,n){const r=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(l=>{const d=l.indexOf("="),[g,_]=-1==d?[n.decodeKey(l),""]:[n.decodeKey(l.slice(0,d)),n.decodeValue(l.slice(d+1))],C=r.get(g)||[];C.push(_),r.set(g,C)}),r}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(r=>{const s=n.fromObject[r];this.map.set(r,Array.isArray(s)?s:[s])})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const r=this.map.get(n);return r?r[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,r){return this.clone({param:n,value:r,op:"a"})}appendAll(n){const r=[];return Object.keys(n).forEach(s=>{const l=n[s];Array.isArray(l)?l.forEach(d=>{r.push({param:s,value:d,op:"a"})}):r.push({param:s,value:l,op:"a"})}),this.clone(r)}set(n,r){return this.clone({param:n,value:r,op:"s"})}delete(n,r){return this.clone({param:n,value:r,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const r=this.encoder.encodeKey(n);return this.map.get(n).map(s=>r+"="+this.encoder.encodeValue(s)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const r=new Ap({encoder:this.encoder});return r.cloneFrom=this.cloneFrom||this,r.updates=(this.updates||[]).concat(n),r}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const r=("a"===n.op?this.map.get(n.param):void 0)||[];r.push(Fk(n.value)),this.map.set(n.param,r);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let s=this.map.get(n.param)||[];const l=s.indexOf(Fk(n.value));-1!==l&&s.splice(l,1),s.length>0?this.map.set(n.param,s):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class lL{constructor(){this.map=new Map}set(n,r){return this.map.set(n,r),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}keys(){return this.map.keys()}}function Pk(i){return"undefined"!=typeof ArrayBuffer&&i instanceof ArrayBuffer}function Lk(i){return"undefined"!=typeof Blob&&i instanceof Blob}function Vk(i){return"undefined"!=typeof FormData&&i instanceof FormData}class OC{constructor(n,r,s,l){let d;if(this.url=r,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||l?(this.body=void 0!==s?s:null,d=l):d=s,d&&(this.reportProgress=!!d.reportProgress,this.withCredentials=!!d.withCredentials,d.responseType&&(this.responseType=d.responseType),d.headers&&(this.headers=d.headers),d.context&&(this.context=d.context),d.params&&(this.params=d.params)),this.headers||(this.headers=new Yd),this.context||(this.context=new lL),this.params){const g=this.params.toString();if(0===g.length)this.urlWithParams=r;else{const _=r.indexOf("?");this.urlWithParams=r+(-1===_?"?":_<r.length-1?"&":"")+g}}else this.params=new Ap,this.urlWithParams=r}serializeBody(){return null===this.body?null:Pk(this.body)||Lk(this.body)||Vk(this.body)||function(i){return"undefined"!=typeof URLSearchParams&&i instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ap?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Vk(this.body)?null:Lk(this.body)?this.body.type||null:Pk(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ap?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){var r;const s=n.method||this.method,l=n.url||this.url,d=n.responseType||this.responseType,g=void 0!==n.body?n.body:this.body,_=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,C=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let T=n.headers||this.headers,N=n.params||this.params;const k=null!==(r=n.context)&&void 0!==r?r:this.context;return void 0!==n.setHeaders&&(T=Object.keys(n.setHeaders).reduce((z,$)=>z.set($,n.setHeaders[$]),T)),n.setParams&&(N=Object.keys(n.setParams).reduce((z,$)=>z.set($,n.setParams[$]),N)),new OC(s,l,g,{params:N,headers:T,context:k,reportProgress:C,responseType:d,withCredentials:_})}}var ri=(()=>((ri=ri||{})[ri.Sent=0]="Sent",ri[ri.UploadProgress=1]="UploadProgress",ri[ri.ResponseHeader=2]="ResponseHeader",ri[ri.DownloadProgress=3]="DownloadProgress",ri[ri.Response=4]="Response",ri[ri.User=5]="User",ri))();class KR{constructor(n,r=200,s="OK"){this.headers=n.headers||new Yd,this.status=void 0!==n.status?n.status:r,this.statusText=n.statusText||s,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class YR extends KR{constructor(n={}){super(n),this.type=ri.ResponseHeader}clone(n={}){return new YR({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class Mx extends KR{constructor(n={}){super(n),this.type=ri.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new Mx({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class Bk extends KR{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function ZR(i,n){return{body:n,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials}}let Uk=(()=>{class i{constructor(r){this.handler=r}request(r,s,l={}){let d;if(r instanceof OC)d=r;else{let C,T;C=l.headers instanceof Yd?l.headers:new Yd(l.headers),l.params&&(T=l.params instanceof Ap?l.params:new Ap({fromObject:l.params})),d=new OC(r,s,void 0!==l.body?l.body:null,{headers:C,context:l.context,params:T,reportProgress:l.reportProgress,responseType:l.responseType||"json",withCredentials:l.withCredentials})}const g=(0,dt.of)(d).pipe(Ji(C=>this.handler.handle(C)));if(r instanceof OC||"events"===l.observe)return g;const _=g.pipe(Pr(C=>C instanceof Mx));switch(l.observe||"body"){case"body":switch(d.responseType){case"arraybuffer":return _.pipe((0,bt.U)(C=>{if(null!==C.body&&!(C.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return C.body}));case"blob":return _.pipe((0,bt.U)(C=>{if(null!==C.body&&!(C.body instanceof Blob))throw new Error("Response is not a Blob.");return C.body}));case"text":return _.pipe((0,bt.U)(C=>{if(null!==C.body&&"string"!=typeof C.body)throw new Error("Response is not a string.");return C.body}));case"json":default:return _.pipe((0,bt.U)(C=>C.body))}case"response":return _;default:throw new Error(`Unreachable: unhandled observe type ${l.observe}}`)}}delete(r,s={}){return this.request("DELETE",r,s)}get(r,s={}){return this.request("GET",r,s)}head(r,s={}){return this.request("HEAD",r,s)}jsonp(r,s){return this.request("JSONP",r,{params:(new Ap).append(s,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,s={}){return this.request("OPTIONS",r,s)}patch(r,s,l={}){return this.request("PATCH",r,ZR(l,s))}post(r,s,l={}){return this.request("POST",r,ZR(l,s))}put(r,s,l={}){return this.request("PUT",r,ZR(l,s))}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(Ok))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac}),i})();class jk{constructor(n,r){this.next=n,this.interceptor=r}handle(n){return this.interceptor.intercept(n,this.next)}}const Gk=new f.OlP("HTTP_INTERCEPTORS");let dL=(()=>{class i{intercept(r,s){return s.handle(r)}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac}),i})();const hL=/^\)\]\}',?\n/;let Hk=(()=>{class i{constructor(r){this.xhrFactory=r}handle(r){if("JSONP"===r.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new pr.y(s=>{const l=this.xhrFactory.build();if(l.open(r.method,r.urlWithParams),r.withCredentials&&(l.withCredentials=!0),r.headers.forEach(($,re)=>l.setRequestHeader($,re.join(","))),r.headers.has("Accept")||l.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){const $=r.detectContentTypeHeader();null!==$&&l.setRequestHeader("Content-Type",$)}if(r.responseType){const $=r.responseType.toLowerCase();l.responseType="json"!==$?$:"text"}const d=r.serializeBody();let g=null;const _=()=>{if(null!==g)return g;const $=1223===l.status?204:l.status,re=l.statusText||"OK",Ie=new Yd(l.getAllResponseHeaders()),Le=function(i){return"responseURL"in i&&i.responseURL?i.responseURL:/^X-Request-URL:/m.test(i.getAllResponseHeaders())?i.getResponseHeader("X-Request-URL"):null}(l)||r.url;return g=new YR({headers:Ie,status:$,statusText:re,url:Le}),g},C=()=>{let{headers:$,status:re,statusText:Ie,url:Le}=_(),He=null;204!==re&&(He=void 0===l.response?l.responseText:l.response),0===re&&(re=He?200:0);let st=re>=200&&re<300;if("json"===r.responseType&&"string"==typeof He){const Nt=He;He=He.replace(hL,"");try{He=""!==He?JSON.parse(He):null}catch(gt){He=Nt,st&&(st=!1,He={error:gt,text:He})}}st?(s.next(new Mx({body:He,headers:$,status:re,statusText:Ie,url:Le||void 0})),s.complete()):s.error(new Bk({error:He,headers:$,status:re,statusText:Ie,url:Le||void 0}))},T=$=>{const{url:re}=_(),Ie=new Bk({error:$,status:l.status||0,statusText:l.statusText||"Unknown Error",url:re||void 0});s.error(Ie)};let N=!1;const k=$=>{N||(s.next(_()),N=!0);let re={type:ri.DownloadProgress,loaded:$.loaded};$.lengthComputable&&(re.total=$.total),"text"===r.responseType&&!!l.responseText&&(re.partialText=l.responseText),s.next(re)},z=$=>{let re={type:ri.UploadProgress,loaded:$.loaded};$.lengthComputable&&(re.total=$.total),s.next(re)};return l.addEventListener("load",C),l.addEventListener("error",T),l.addEventListener("timeout",T),l.addEventListener("abort",T),r.reportProgress&&(l.addEventListener("progress",k),null!==d&&l.upload&&l.upload.addEventListener("progress",z)),l.send(d),s.next({type:ri.Sent}),()=>{l.removeEventListener("error",T),l.removeEventListener("abort",T),l.removeEventListener("load",C),l.removeEventListener("timeout",T),r.reportProgress&&(l.removeEventListener("progress",k),null!==d&&l.upload&&l.upload.removeEventListener("progress",z)),l.readyState!==l.DONE&&l.abort()}})}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(Uo))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac}),i})();const WR=new f.OlP("XSRF_COOKIE_NAME"),QR=new f.OlP("XSRF_HEADER_NAME");class $k{}let pL=(()=>{class i{constructor(r,s,l){this.doc=r,this.platform=s,this.cookieName=l,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=At(r,this.cookieName),this.lastCookieString=r),this.lastToken}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(pe),f.LFG(f.Lbi),f.LFG(WR))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac}),i})(),JR=(()=>{class i{constructor(r,s){this.tokenService=r,this.headerName=s}intercept(r,s){const l=r.url.toLowerCase();if("GET"===r.method||"HEAD"===r.method||l.startsWith("http://")||l.startsWith("https://"))return s.handle(r);const d=this.tokenService.getToken();return null!==d&&!r.headers.has(this.headerName)&&(r=r.clone({headers:r.headers.set(this.headerName,d)})),s.handle(r)}}return i.\u0275fac=function(r){return new(r||i)(f.LFG($k),f.LFG(QR))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac}),i})(),gL=(()=>{class i{constructor(r,s){this.backend=r,this.injector=s,this.chain=null}handle(r){if(null===this.chain){const s=this.injector.get(Gk,[]);this.chain=s.reduceRight((l,d)=>new jk(l,d),this.backend)}return this.chain.handle(r)}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(Nk),f.LFG(f.zs3))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac}),i})(),mL=(()=>{class i{static disable(){return{ngModule:i,providers:[{provide:JR,useClass:dL}]}}static withOptions(r={}){return{ngModule:i,providers:[r.cookieName?{provide:WR,useValue:r.cookieName}:[],r.headerName?{provide:QR,useValue:r.headerName}:[]]}}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({providers:[JR,{provide:Gk,useExisting:JR,multi:!0},{provide:$k,useClass:pL},{provide:WR,useValue:"XSRF-TOKEN"},{provide:QR,useValue:"X-XSRF-TOKEN"}]}),i})(),yL=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({providers:[Uk,{provide:Ok,useClass:gL},Hk,{provide:Nk,useExisting:Hk}],imports:[[mL.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),i})(),_L=(()=>{class i{constructor(r){this.http=r,this.baseUrl="https://tb-api.xyz/stream/get?s="}callNuclearApi(r,s){var l=this;return(0,Te.Z)(function*(){let d=l.baseUrl+`${r}&key=${s}`;return yield l.http.get(d).toPromise()})()}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(Uk))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),eO=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({}),i})();function qk(i){for(let n in i){let r=i[n]||"";switch(n){case"display":i.display="flex"===r?["-webkit-flex","flex"]:"inline-flex"===r?["-webkit-inline-flex","inline-flex"]:r;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":i["-webkit-"+n]=r;break;case"flex-direction":r=r||"row",i["-webkit-flex-direction"]=r,i["flex-direction"]=r;break;case"order":i.order=i["-webkit-"+n]=isNaN(+r)?"0":r}}return i}const tO="inline",Rx=["row","column","row-reverse","column-reverse"];function Kk(i){let[n,r,s]=Yk(i);return function(i,n=null,r=!1){return{display:r?"inline-flex":"flex","box-sizing":"border-box","flex-direction":i,"flex-wrap":n||null}}(n,r,s)}function Yk(i){i=i?i.toLowerCase():"";let[n,r,s]=i.split(" ");return Rx.find(l=>l===n)||(n=Rx[0]),r===tO&&(r=s!==tO?s:"",s=tO),[n,bL(r),!!s]}function NC(i){let[n]=Yk(i);return n.indexOf("row")>-1}function bL(i){if(i)switch(i.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":i="wrap-reverse";break;case"no":case"none":case"nowrap":i="nowrap";break;default:i="wrap"}return i}function Zd(i,...n){if(null==i)throw TypeError("Cannot convert undefined or null to object");for(let r of n)if(null!=r)for(let s in r)r.hasOwnProperty(s)&&(i[s]=r[s]);return i}const CL={provide:f.tb,useFactory:function(i,n){return()=>{if(gs(n)){const r=Array.from(i.querySelectorAll(`[class*=${Zk}]`)),s=/\bflex-layout-.+?\b/g;r.forEach(l=>{l.classList.contains(`${Zk}ssr`)&&l.parentNode?l.parentNode.removeChild(l):l.className.replace(s,"")})}}},deps:[pe,f.Lbi],multi:!0},Zk="flex-layout-";let nO=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({providers:[CL]}),i})();class Mm{constructor(n=!1,r="all",s="",l="",d=0){this.matches=n,this.mediaQuery=r,this.mqAlias=s,this.suffix=l,this.priority=d,this.property=""}clone(){return new Mm(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let DL=(()=>{class i{constructor(){this.stylesheet=new Map}addStyleToElement(r,s,l){const d=this.stylesheet.get(r);d?d.set(s,l):this.stylesheet.set(r,new Map([[s,l]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(r,s){const l=this.stylesheet.get(r);let d="";if(l){const g=l.get(s);("number"==typeof g||"string"==typeof g)&&(d=g+"")}return d}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const rO={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[]},Ip=new f.OlP("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>rO}),cb=new f.OlP("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),iO=new f.OlP("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function Wk(i,n){return i=i?i.clone():new Mm,n&&(i.mqAlias=n.alias,i.mediaQuery=n.mediaQuery,i.suffix=n.suffix,i.priority=n.priority),i}class Mr{constructor(){this.shouldCache=!0}sideEffect(n,r,s){}}let Qn=(()=>{class i{constructor(r,s,l,d){this._serverStylesheet=r,this._serverModuleLoaded=s,this._platformId=l,this.layoutConfig=d}applyStyleToElement(r,s,l=null){let d={};"string"==typeof s&&(d[s]=l,s=d),d=this.layoutConfig.disableVendorPrefixes?s:qk(s),this._applyMultiValueStyleToElement(d,r)}applyStyleToElements(r,s=[]){const l=this.layoutConfig.disableVendorPrefixes?r:qk(r);s.forEach(d=>{this._applyMultiValueStyleToElement(l,d)})}getFlowDirection(r){const s="flex-direction";let l=this.lookupStyle(r,s);return[l||"row",this.lookupInlineStyle(r,s)||ui(this._platformId)&&this._serverModuleLoaded?l:""]}hasWrap(r){return"wrap"===this.lookupStyle(r,"flex-wrap")}lookupAttributeValue(r,s){return r.getAttribute(s)||""}lookupInlineStyle(r,s){return gs(this._platformId)?r.style.getPropertyValue(s):this._getServerStyle(r,s)}lookupStyle(r,s,l=!1){let d="";return r&&((d=this.lookupInlineStyle(r,s))||(gs(this._platformId)?l||(d=getComputedStyle(r).getPropertyValue(s)):this._serverModuleLoaded&&(d=this._serverStylesheet.getStyleForElement(r,s)))),d?d.trim():""}_applyMultiValueStyleToElement(r,s){Object.keys(r).sort().forEach(l=>{const d=r[l],g=Array.isArray(d)?d:[d];g.sort();for(let _ of g)_=_?_+"":"",gs(this._platformId)||!this._serverModuleLoaded?gs(this._platformId)?s.style.setProperty(l,_):this._setServerStyle(s,l,_):this._serverStylesheet.addStyleToElement(s,l,_)})}_setServerStyle(r,s,l){s=s.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const d=this._readStyleAttribute(r);d[s]=l||"",this._writeStyleAttribute(r,d)}_getServerStyle(r,s){return this._readStyleAttribute(r)[s]||""}_readStyleAttribute(r){const s={},l=r.getAttribute("style");if(l){const d=l.split(/;+/g);for(let g=0;g<d.length;g++){const _=d[g].trim();if(_.length>0){const C=_.indexOf(":");if(-1===C)throw new Error(`Invalid CSS style: ${_}`);s[_.substr(0,C).trim()]=_.substr(C+1).trim()}}}return s}_writeStyleAttribute(r,s){let l="";for(const d in s)s[d]&&(l+=d+":"+s[d]+";");r.setAttribute("style",l)}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(DL),f.LFG(cb),f.LFG(f.Lbi),f.LFG(Ip))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function kC(i,n){return(n&&n.priority||0)-(i&&i.priority||0)}function AL(i,n){return(i.priority||0)-(n.priority||0)}let sO=(()=>{class i{constructor(r,s,l){this._zone=r,this._platformId=s,this._document=l,this.source=new Dr(new Mm(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const r=[];return this.registry.forEach((s,l)=>{s.matches&&r.push(l)}),r}isActive(r){const s=this.registry.get(r);return s?s.matches:this.registerQuery(r).some(l=>l.matches)}observe(r,s=!1){if(r&&r.length){const l=this._observable$.pipe(Pr(g=>!s||r.indexOf(g.mediaQuery)>-1)),d=new pr.y(g=>{const _=this.registerQuery(r);if(_.length){const C=_.pop();_.forEach(T=>{g.next(T)}),this.source.next(C)}g.complete()});return(0,bc.T)(d,l)}return this._observable$}registerQuery(r){const s=Array.isArray(r)?r:[r],l=[];return function(i,n){const r=i.filter(s=>!Qk[s]);if(r.length>0){const s=r.join(", ");try{const l=n.createElement("style");l.setAttribute("type","text/css"),l.styleSheet||l.appendChild(n.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${s} {.fx-query-test{ }}\n`)),n.head.appendChild(l),r.forEach(d=>Qk[d]=l)}catch(l){console.error(l)}}}(s,this._document),s.forEach(d=>{const g=C=>{this._zone.run(()=>this.source.next(new Mm(C.matches,d)))};let _=this.registry.get(d);_||(_=this.buildMQL(d),_.addListener(g),this.pendingRemoveListenerFns.push(()=>_.removeListener(g)),this.registry.set(d,_)),_.matches&&l.push(new Mm(!0,d))}),l}ngOnDestroy(){let r;for(;r=this.pendingRemoveListenerFns.pop();)r()}buildMQL(r){return function(i,n){return n&&window.matchMedia("all").addListener?window.matchMedia(i):{matches:"all"===i||""===i,media:i,addListener:()=>{},removeListener:()=>{},onchange:null,addEventListener(){},removeEventListener(){},dispatchEvent:()=>!1}}(r,gs(this._platformId))}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(f.R0b),f.LFG(f.Lbi),f.LFG(pe))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Qk={},SL=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],Jk="(orientation: portrait) and (max-width: 599.98px)",Xk="(orientation: landscape) and (max-width: 959.98px)",eF="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",tF="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",nF="(orientation: portrait) and (min-width: 840px)",rF="(orientation: landscape) and (min-width: 1280px)",Wd={HANDSET:`${Jk}, ${Xk}`,TABLET:`${eF} , ${tF}`,WEB:`${nF}, ${rF} `,HANDSET_PORTRAIT:`${Jk}`,TABLET_PORTRAIT:`${eF} `,WEB_PORTRAIT:`${nF}`,HANDSET_LANDSCAPE:`${Xk}`,TABLET_LANDSCAPE:`${tF}`,WEB_LANDSCAPE:`${rF}`},TL=[{alias:"handset",priority:2e3,mediaQuery:Wd.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:Wd.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:Wd.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:Wd.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:Wd.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:Wd.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:Wd.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:Wd.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:Wd.WEB_PORTRAIT,overlapping:!0}],ML=/(\.|-|_)/g;function RL(i){let n=i.length>0?i.charAt(0):"",r=i.length>1?i.slice(1):"";return n.toUpperCase()+r}const FL=new f.OlP("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const i=(0,f.f3M)(iO),n=(0,f.f3M)(Ip),r=[].concat.apply([],(i||[]).map(l=>Array.isArray(l)?l:[l]));return function(i,n=[]){const r={};return i.forEach(s=>{r[s.alias]=s}),n.forEach(s=>{r[s.alias]?Zd(r[s.alias],s):r[s.alias]=s}),function(i){return i.forEach(n=>{n.suffix||(n.suffix=function(i){return i.replace(ML,"|").split("|").map(RL).join("")}(n.alias),n.overlapping=!!n.overlapping)}),i}(Object.keys(r).map(s=>r[s]))}((n.disableDefaultBps?[]:SL).concat(n.addOrientationBps?TL:[]),r)}});let oO=(()=>{class i{constructor(r){this.findByMap=new Map,this.items=[...r].sort(AL)}findByAlias(r){return r?this.findWithPredicate(r,s=>s.alias==r):null}findByQuery(r){return this.findWithPredicate(r,s=>s.mediaQuery==r)}get overlappings(){return this.items.filter(r=>1==r.overlapping)}get aliases(){return this.items.map(r=>r.alias)}get suffixes(){return this.items.map(r=>r.suffix?r.suffix:"")}findWithPredicate(r,s){let l=this.findByMap.get(r);return l||(l=this.items.find(s)||null,this.findByMap.set(r,l)),l||null}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(FL))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const db="print",PL={alias:db,mediaQuery:db,priority:1e3};let LL=(()=>{class i{constructor(r,s,l){this.breakpoints=r,this.layoutConfig=s,this._document=l,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.isPrinting=!1,this.queue=new VL,this.deactivations=[]}withPrintQuery(r){return[...r,db]}isPrintEvent(r){return r.mediaQuery.startsWith(db)}get printAlias(){return this.layoutConfig.printWithBreakpoints||[]}get printBreakPoints(){return this.printAlias.map(r=>this.breakpoints.findByAlias(r)).filter(r=>null!==r)}getEventBreakpoints({mediaQuery:r}){const s=this.breakpoints.findByQuery(r);return(s?[...this.printBreakPoints,s]:this.printBreakPoints).sort(kC)}updateEvent(r){let s=this.breakpoints.findByQuery(r.mediaQuery);return this.isPrintEvent(r)&&(s=this.getEventBreakpoints(r)[0],r.mediaQuery=s?s.mediaQuery:""),Wk(r,s)}registerBeforeAfterPrintHooks(r){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const s=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(r,this.getEventBreakpoints(new Mm(!0,db))),r.updateStyles())},l=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(r),r.updateStyles())};this._document.defaultView.addEventListener("beforeprint",s),this._document.defaultView.addEventListener("afterprint",l),this.beforePrintEventListeners.push(s),this.afterPrintEventListeners.push(l)}interceptEvents(r){return this.registerBeforeAfterPrintHooks(r),s=>{this.isPrintEvent(s)?s.matches&&!this.isPrinting?(this.startPrinting(r,this.getEventBreakpoints(s)),r.updateStyles()):!s.matches&&this.isPrinting&&!this.isPrintingBeforeAfterEvent&&(this.stopPrinting(r),r.updateStyles()):this.collectActivations(s)}}blockPropagation(){return r=>!(this.isPrinting||this.isPrintEvent(r))}startPrinting(r,s){this.isPrinting=!0,r.activatedBreakpoints=this.queue.addPrintBreakpoints(s)}stopPrinting(r){r.activatedBreakpoints=this.deactivations,this.deactivations=[],this.queue.clear(),this.isPrinting=!1}collectActivations(r){if(!this.isPrinting||this.isPrintingBeforeAfterEvent)if(r.matches)this.isPrintingBeforeAfterEvent||(this.deactivations=[]);else{const s=this.breakpoints.findByQuery(r.mediaQuery);s&&(this.deactivations.push(s),this.deactivations.sort(kC))}}ngOnDestroy(){this._document.defaultView&&(this.beforePrintEventListeners.forEach(r=>this._document.defaultView.removeEventListener("beforeprint",r)),this.afterPrintEventListeners.forEach(r=>this._document.defaultView.removeEventListener("afterprint",r)))}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(oO),f.LFG(Ip),f.LFG(pe))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class VL{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(n){return n.push(PL),n.sort(kC),n.forEach(r=>this.addBreakpoint(r)),this.printBreakpoints}addBreakpoint(n){n&&void 0===this.printBreakpoints.find(s=>s.mediaQuery===n.mediaQuery)&&(this.printBreakpoints=function(i){return!!i&&i.mediaQuery.startsWith(db)}(n)?[n,...this.printBreakpoints]:[...this.printBreakpoints,n])}clear(){this.printBreakpoints=[]}}let lr=(()=>{class i{constructor(r,s,l){this.matchMedia=r,this.breakpoints=s,this.hook=l,this.activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new Pn.xQ,this.observeActivations()}get activatedAlias(){return this.activatedBreakpoints[0]?this.activatedBreakpoints[0].alias:""}onMediaChange(r){const s=this.findByQuery(r.mediaQuery);s&&((r=Wk(r,s)).matches&&-1===this.activatedBreakpoints.indexOf(s)?(this.activatedBreakpoints.push(s),this.activatedBreakpoints.sort(kC),this.updateStyles()):!r.matches&&-1!==this.activatedBreakpoints.indexOf(s)&&(this.activatedBreakpoints.splice(this.activatedBreakpoints.indexOf(s),1),this.activatedBreakpoints.sort(kC),this.updateStyles()))}init(r,s,l,d,g=[]){iF(this.updateMap,r,s,l),iF(this.clearMap,r,s,d),this.buildElementKeyMap(r,s),this.watchExtraTriggers(r,s,g)}getValue(r,s,l){const d=this.elementMap.get(r);if(d){const g=void 0!==l?d.get(l):this.getActivatedValues(d,s);if(g)return g.get(s)}}hasValue(r,s){const l=this.elementMap.get(r);if(l){const d=this.getActivatedValues(l,s);if(d)return void 0!==d.get(s)||!1}return!1}setValue(r,s,l,d){let g=this.elementMap.get(r);if(g){const C=(g.get(d)||new Map).set(s,l);g.set(d,C),this.elementMap.set(r,g)}else g=(new Map).set(d,(new Map).set(s,l)),this.elementMap.set(r,g);const _=this.getValue(r,s);void 0!==_&&this.updateElement(r,s,_)}trackValue(r,s){return this.subject.asObservable().pipe(Pr(l=>l.element===r&&l.key===s))}updateStyles(){this.elementMap.forEach((r,s)=>{const l=new Set(this.elementKeyMap.get(s));let d=this.getActivatedValues(r);d&&d.forEach((g,_)=>{this.updateElement(s,_,g),l.delete(_)}),l.forEach(g=>{if(d=this.getActivatedValues(r,g),d){const _=d.get(g);this.updateElement(s,g,_)}else this.clearElement(s,g)})})}clearElement(r,s){const l=this.clearMap.get(r);if(l){const d=l.get(s);d&&(d(),this.subject.next({element:r,key:s,value:""}))}}updateElement(r,s,l){const d=this.updateMap.get(r);if(d){const g=d.get(s);g&&(g(l),this.subject.next({element:r,key:s,value:l}))}}releaseElement(r){const s=this.watcherMap.get(r);s&&(s.forEach(d=>d.unsubscribe()),this.watcherMap.delete(r));const l=this.elementMap.get(r);l&&(l.forEach((d,g)=>l.delete(g)),this.elementMap.delete(r))}triggerUpdate(r,s){const l=this.elementMap.get(r);if(l){const d=this.getActivatedValues(l,s);d&&(s?this.updateElement(r,s,d.get(s)):d.forEach((g,_)=>this.updateElement(r,_,g)))}}buildElementKeyMap(r,s){let l=this.elementKeyMap.get(r);l||(l=new Set,this.elementKeyMap.set(r,l)),l.add(s)}watchExtraTriggers(r,s,l){if(l&&l.length){let d=this.watcherMap.get(r);if(d||(d=new Map,this.watcherMap.set(r,d)),!d.get(s)){const _=(0,bc.T)(...l).subscribe(()=>{const C=this.getValue(r,s);this.updateElement(r,s,C)});d.set(s,_)}}}findByQuery(r){return this.breakpoints.findByQuery(r)}getActivatedValues(r,s){for(let d=0;d<this.activatedBreakpoints.length;d++){const _=r.get(this.activatedBreakpoints[d].alias);if(_&&(void 0===s||_.has(s)&&null!=_.get(s)))return _}const l=r.get("");return void 0===s||l&&l.has(s)?l:void 0}observeActivations(){const s=this.breakpoints.items.map(l=>l.mediaQuery);this.matchMedia.observe(this.hook.withPrintQuery(s)).pipe((0,qr.b)(this.hook.interceptEvents(this)),Pr(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(sO),f.LFG(oO),f.LFG(LL))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function iF(i,n,r,s){if(void 0!==s){let l=i.get(n);l||(l=new Map,i.set(n,l)),l.set(r,s)}}let vr=(()=>{class i{constructor(r,s,l,d){this.elementRef=r,this.styleBuilder=s,this.styler=l,this.marshal=d,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new Pn.xQ,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(r){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,r,this.marshal.activatedAlias)}ngOnChanges(r){Object.keys(r).forEach(s=>{if(-1!==this.inputs.indexOf(s)){const l=s.split(".").slice(1).join(".");this.setValue(r[s].currentValue,l)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(r=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),r)}addStyles(r,s){const l=this.styleBuilder,d=l.shouldCache;let g=this.styleCache.get(r);(!g||!d)&&(g=l.buildStyles(r,s),d&&this.styleCache.set(r,g)),this.mru=th({},g),this.applyStyleToElement(g),l.sideEffect(r,g,s)}clearStyles(){Object.keys(this.mru).forEach(r=>{this.mru[r]=""}),this.applyStyleToElement(this.mru),this.mru={}}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(r,s=!1){if(r){const[l,d]=this.styler.getFlowDirection(r);if(!d&&s){const g=Kk(l);this.styler.applyStyleToElements(g,[r])}return l.trim()}return"row"}hasWrap(r){return this.styler.hasWrap(r)}applyStyleToElement(r,s,l=this.nativeElement){this.styler.applyStyleToElement(l,r,s)}setValue(r,s){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,r,s)}updateWithValue(r){this.currentValue!==r&&(this.addStyles(r),this.currentValue=r)}}return i.\u0275fac=function(r){return new(r||i)(f.Y36(f.SBq),f.Y36(Mr),f.Y36(Qn),f.Y36(lr))},i.\u0275dir=f.lG2({type:i,features:[f.TTD]}),i})();function sF(i,n="1",r="1"){let s=[n,r,i],l=i.indexOf("calc");if(l>0){s[2]=oF(i.substring(l).trim());let d=i.substr(0,l).trim().split(" ");2==d.length&&(s[0]=d[0],s[1]=d[1])}else if(0==l)s[2]=oF(i.trim());else{let d=i.split(" ");s=3===d.length?d:[n,r,i]}return s}function oF(i){return i.replace(/[\s]/g,"").replace(/[\/\*\+\-]/g," $& ")}function Rm(i){return n=>n.lift(new GL(i))}class GL{constructor(n){this.notifier=n}call(n,r){const s=new HL(n),l=(0,Ri.ft)(this.notifier,new Ri.IY(s));return l&&!s.seenValue?(s.add(l),r.subscribe(s)):s}}class HL extends Ri.Ds{constructor(n){super(n),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}let $L=(()=>{class i extends Mr{buildStyles(r){return Kk(r)}}return i.\u0275fac=function(){let n;return function(s){return(n||(n=f.n5z(i)))(s||i)}}(),i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const zL=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];let qL=(()=>{class i extends vr{constructor(r,s,l,d){super(r,l,s,d),this.DIRECTIVE_KEY="layout",this.styleCache=KL,this.init()}}return i.\u0275fac=function(r){return new(r||i)(f.Y36(f.SBq),f.Y36(Qn),f.Y36($L),f.Y36(lr))},i.\u0275dir=f.lG2({type:i,features:[f.qOj]}),i})(),aF=(()=>{class i extends qL{constructor(){super(...arguments),this.inputs=zL}}return i.\u0275fac=function(){let n;return function(s){return(n||(n=f.n5z(i)))(s||i)}}(),i.\u0275dir=f.lG2({type:i,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[f.qOj]}),i})();const KL=new Map;let sV=(()=>{class i extends Mr{constructor(r){super(),this.layoutConfig=r}buildStyles(r,s){let[l,d,...g]=r.split(" "),_=g.join(" ");const C=s.direction.indexOf("column")>-1?"column":"row",T=NC(C)?"max-width":"max-height",N=NC(C)?"min-width":"min-height",k=String(_).indexOf("calc")>-1,z=k||"auto"===_,$=String(_).indexOf("%")>-1&&!k,re=String(_).indexOf("px")>-1||String(_).indexOf("rem")>-1||String(_).indexOf("em")>-1||String(_).indexOf("vw")>-1||String(_).indexOf("vh")>-1;let Ie=k||re;l="0"==l?0:l,d="0"==d?0:d;const Le=!l&&!d;let He={};const st={"max-width":null,"max-height":null,"min-width":null,"min-height":null};switch(_||""){case"":const Nt=!1!==this.layoutConfig.useColumnBasisZero;_="row"===C?"0%":Nt?"0.000000001px":"auto";break;case"initial":case"nogrow":l=0,_="auto";break;case"grow":_="100%";break;case"noshrink":d=0,_="auto";break;case"auto":break;case"none":l=0,d=0,_="auto";break;default:!Ie&&!$&&!isNaN(_)&&(_+="%"),"0%"===_&&(Ie=!0),"0px"===_&&(_="0%"),He=Zd(st,k?{"flex-grow":l,"flex-shrink":d,"flex-basis":Ie?_:"100%"}:{flex:`${l} ${d} ${Ie?_:"100%"}`})}return He.flex||He["flex-grow"]||(He=Zd(st,k?{"flex-grow":l,"flex-shrink":d,"flex-basis":_}:{flex:`${l} ${d} ${_}`})),"0%"!==_&&"0px"!==_&&"0.000000001px"!==_&&"auto"!==_&&(He[N]=Le||Ie&&l?_:null,He[T]=Le||!z&&d?_:null),He[N]||He[T]?s.hasWrap&&(He[k?"flex-basis":"flex"]=He[T]?k?He[T]:`${l} ${d} ${He[T]}`:k?He[N]:`${l} ${d} ${He[N]}`):He=Zd(st,k?{"flex-grow":l,"flex-shrink":d,"flex-basis":_}:{flex:`${l} ${d} ${_}`}),Zd(He,{"box-sizing":"border-box"})}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(Ip))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const oV=["fxFlex","fxFlex.xs","fxFlex.sm","fxFlex.md","fxFlex.lg","fxFlex.xl","fxFlex.lt-sm","fxFlex.lt-md","fxFlex.lt-lg","fxFlex.lt-xl","fxFlex.gt-xs","fxFlex.gt-sm","fxFlex.gt-md","fxFlex.gt-lg"];let aV=(()=>{class i extends vr{constructor(r,s,l,d,g){super(r,d,s,g),this.layoutConfig=l,this.marshal=g,this.DIRECTIVE_KEY="flex",this.direction=void 0,this.wrap=void 0,this.flexGrow="1",this.flexShrink="1",this.init()}get shrink(){return this.flexShrink}set shrink(r){this.flexShrink=r||"1",this.triggerReflow()}get grow(){return this.flexGrow}set grow(r){this.flexGrow=r||"1",this.triggerReflow()}ngOnInit(){this.parentElement&&(this.marshal.trackValue(this.parentElement,"layout").pipe(Rm(this.destroySubject)).subscribe(this.onLayoutChange.bind(this)),this.marshal.trackValue(this.nativeElement,"layout-align").pipe(Rm(this.destroySubject)).subscribe(this.triggerReflow.bind(this)))}onLayoutChange(r){const l=r.value.split(" ");this.direction=l[0],this.wrap=void 0!==l[1]&&"wrap"===l[1],this.triggerUpdate()}updateWithValue(r){void 0===this.direction&&(this.direction=this.getFlexFlowDirection(this.parentElement,!1!==this.layoutConfig.addFlexToParent)),void 0===this.wrap&&(this.wrap=this.hasWrap(this.parentElement));const l=this.direction,d=l.startsWith("row"),g=this.wrap;d&&g?this.styleCache=cV:d&&!g?this.styleCache=lV:!d&&g?this.styleCache=dV:!d&&!g&&(this.styleCache=uV);const C=sF(String(r).replace(";",""),this.flexGrow,this.flexShrink);this.addStyles(C.join(" "),{direction:l,hasWrap:g})}triggerReflow(){const r=this.activatedValue;if(void 0!==r){const s=sF(r+"",this.flexGrow,this.flexShrink);this.marshal.updateElement(this.nativeElement,this.DIRECTIVE_KEY,s.join(" "))}}}return i.\u0275fac=function(r){return new(r||i)(f.Y36(f.SBq),f.Y36(Qn),f.Y36(Ip),f.Y36(sV),f.Y36(lr))},i.\u0275dir=f.lG2({type:i,inputs:{shrink:["fxShrink","shrink"],grow:["fxGrow","grow"]},features:[f.qOj]}),i})(),cF=(()=>{class i extends aV{constructor(){super(...arguments),this.inputs=oV}}return i.\u0275fac=function(){let n;return function(s){return(n||(n=f.n5z(i)))(s||i)}}(),i.\u0275dir=f.lG2({type:i,selectors:[["","fxFlex",""],["","fxFlex.xs",""],["","fxFlex.sm",""],["","fxFlex.md",""],["","fxFlex.lg",""],["","fxFlex.xl",""],["","fxFlex.lt-sm",""],["","fxFlex.lt-md",""],["","fxFlex.lt-lg",""],["","fxFlex.lt-xl",""],["","fxFlex.gt-xs",""],["","fxFlex.gt-sm",""],["","fxFlex.gt-md",""],["","fxFlex.gt-lg",""]],inputs:{fxFlex:"fxFlex","fxFlex.xs":"fxFlex.xs","fxFlex.sm":"fxFlex.sm","fxFlex.md":"fxFlex.md","fxFlex.lg":"fxFlex.lg","fxFlex.xl":"fxFlex.xl","fxFlex.lt-sm":"fxFlex.lt-sm","fxFlex.lt-md":"fxFlex.lt-md","fxFlex.lt-lg":"fxFlex.lt-lg","fxFlex.lt-xl":"fxFlex.lt-xl","fxFlex.gt-xs":"fxFlex.gt-xs","fxFlex.gt-sm":"fxFlex.gt-sm","fxFlex.gt-md":"fxFlex.gt-md","fxFlex.gt-lg":"fxFlex.gt-lg"},features:[f.qOj]}),i})();const lV=new Map,uV=new Map,cV=new Map,dV=new Map;let kV=(()=>{class i extends Mr{buildStyles(r,s){const l={},[d,g]=r.split(" ");switch(d){case"center":l["justify-content"]="center";break;case"space-around":l["justify-content"]="space-around";break;case"space-between":l["justify-content"]="space-between";break;case"space-evenly":l["justify-content"]="space-evenly";break;case"end":case"flex-end":l["justify-content"]="flex-end";break;case"start":case"flex-start":default:l["justify-content"]="flex-start"}switch(g){case"start":case"flex-start":l["align-items"]=l["align-content"]="flex-start";break;case"center":l["align-items"]=l["align-content"]="center";break;case"end":case"flex-end":l["align-items"]=l["align-content"]="flex-end";break;case"space-between":l["align-content"]="space-between",l["align-items"]="stretch";break;case"space-around":l["align-content"]="space-around",l["align-items"]="stretch";break;case"baseline":l["align-content"]="stretch",l["align-items"]="baseline";break;case"stretch":default:l["align-items"]=l["align-content"]="stretch"}return Zd(l,{display:s.inline?"inline-flex":"flex","flex-direction":s.layout,"box-sizing":"border-box","max-width":"stretch"===g?NC(s.layout)?null:"100%":null,"max-height":"stretch"===g&&NC(s.layout)?"100%":null})}}return i.\u0275fac=function(){let n;return function(s){return(n||(n=f.n5z(i)))(s||i)}}(),i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const FV=["fxLayoutAlign","fxLayoutAlign.xs","fxLayoutAlign.sm","fxLayoutAlign.md","fxLayoutAlign.lg","fxLayoutAlign.xl","fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg"];let PV=(()=>{class i extends vr{constructor(r,s,l,d){super(r,l,s,d),this.DIRECTIVE_KEY="layout-align",this.layout="row",this.inline=!1,this.init(),this.marshal.trackValue(this.nativeElement,"layout").pipe(Rm(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}updateWithValue(r){const s=this.layout||"row",l=this.inline;"row"===s&&l?this.styleCache=jV:"row"!==s||l?"row-reverse"===s&&l?this.styleCache=HV:"row-reverse"!==s||l?"column"===s&&l?this.styleCache=GV:"column"!==s||l?"column-reverse"===s&&l?this.styleCache=$V:"column-reverse"===s&&!l&&(this.styleCache=UV):this.styleCache=VV:this.styleCache=BV:this.styleCache=LV,this.addStyles(r,{layout:s,inline:l})}onLayoutChange(r){const s=r.value.split(" ");this.layout=s[0],this.inline=r.value.includes("inline"),Rx.find(l=>l===this.layout)||(this.layout="row"),this.triggerUpdate()}}return i.\u0275fac=function(r){return new(r||i)(f.Y36(f.SBq),f.Y36(Qn),f.Y36(kV),f.Y36(lr))},i.\u0275dir=f.lG2({type:i,features:[f.qOj]}),i})(),dF=(()=>{class i extends PV{constructor(){super(...arguments),this.inputs=FV}}return i.\u0275fac=function(){let n;return function(s){return(n||(n=f.n5z(i)))(s||i)}}(),i.\u0275dir=f.lG2({type:i,selectors:[["","fxLayoutAlign",""],["","fxLayoutAlign.xs",""],["","fxLayoutAlign.sm",""],["","fxLayoutAlign.md",""],["","fxLayoutAlign.lg",""],["","fxLayoutAlign.xl",""],["","fxLayoutAlign.lt-sm",""],["","fxLayoutAlign.lt-md",""],["","fxLayoutAlign.lt-lg",""],["","fxLayoutAlign.lt-xl",""],["","fxLayoutAlign.gt-xs",""],["","fxLayoutAlign.gt-sm",""],["","fxLayoutAlign.gt-md",""],["","fxLayoutAlign.gt-lg",""]],inputs:{fxLayoutAlign:"fxLayoutAlign","fxLayoutAlign.xs":"fxLayoutAlign.xs","fxLayoutAlign.sm":"fxLayoutAlign.sm","fxLayoutAlign.md":"fxLayoutAlign.md","fxLayoutAlign.lg":"fxLayoutAlign.lg","fxLayoutAlign.xl":"fxLayoutAlign.xl","fxLayoutAlign.lt-sm":"fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md":"fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg":"fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl":"fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs":"fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm":"fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md":"fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg":"fxLayoutAlign.gt-lg"},features:[f.qOj]}),i})();const LV=new Map,VV=new Map,BV=new Map,UV=new Map,jV=new Map,GV=new Map,HV=new Map,$V=new Map;let hF=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({imports:[[nO,eO]]}),i})();class fF{}const Qd="*";function pF(i,n=null){return{type:2,steps:i,options:n}}function gF(i){return{type:6,styles:i,offset:null}}function mF(i){Promise.resolve(null).then(i)}class hb{constructor(n=0,r=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=n+r}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._onStartFns.push(n)}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){mF(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){const r="start"==n?this._onStartFns:this._onDoneFns;r.forEach(s=>s()),r.length=0}}class yF{constructor(n){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=n;let r=0,s=0,l=0;const d=this.players.length;0==d?mF(()=>this._onFinish()):this.players.forEach(g=>{g.onDone(()=>{++r==d&&this._onFinish()}),g.onDestroy(()=>{++s==d&&this._onDestroy()}),g.onStart(()=>{++l==d&&this._onStart()})}),this.totalTime=this.players.reduce((g,_)=>Math.max(g,_.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){const r=n*this.totalTime;this.players.forEach(s=>{const l=s.totalTime?Math.min(1,r/s.totalTime):1;s.setPosition(l)})}getPosition(){const n=this.players.reduce((r,s)=>null===r||s.totalTime>r.totalTime?s:r,null);return null!=n?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){const r="start"==n?this._onStartFns:this._onDoneFns;r.forEach(s=>s()),r.length=0}}function _F(){return"undefined"!=typeof window&&void 0!==window.document}function lO(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function xp(i){switch(i.length){case 0:return new hb;case 1:return i[0];default:return new yF(i)}}function vF(i,n,r,s,l={},d={}){const g=[],_=[];let C=-1,T=null;if(s.forEach(N=>{const k=N.offset,z=k==C,$=z&&T||{};Object.keys(N).forEach(re=>{let Ie=re,Le=N[re];if("offset"!==re)switch(Ie=n.normalizePropertyName(Ie,g),Le){case"!":Le=l[re];break;case Qd:Le=d[re];break;default:Le=n.normalizeStyleValue(re,Ie,Le,g)}$[Ie]=Le}),z||_.push($),T=$,C=k}),g.length){const N="\n - ";throw new Error(`Unable to animate due to the following errors:${N}${g.join(N)}`)}return _}function uO(i,n,r,s){switch(n){case"start":i.onStart(()=>s(r&&cO(r,"start",i)));break;case"done":i.onDone(()=>s(r&&cO(r,"done",i)));break;case"destroy":i.onDestroy(()=>s(r&&cO(r,"destroy",i)))}}function cO(i,n,r){const s=r.totalTime,d=dO(i.element,i.triggerName,i.fromState,i.toState,n||i.phaseName,null==s?i.totalTime:s,!!r.disabled),g=i._data;return null!=g&&(d._data=g),d}function dO(i,n,r,s,l="",d=0,g){return{element:i,triggerName:n,fromState:r,toState:s,phaseName:l,totalTime:d,disabled:!!g}}function ma(i,n,r){let s;return i instanceof Map?(s=i.get(n),s||i.set(n,s=r)):(s=i[n],s||(s=i[n]=r)),s}function bF(i){const n=i.indexOf(":");return[i.substring(1,n),i.substr(n+1)]}let hO=(i,n)=>!1,fO=(i,n)=>!1,wF=(i,n,r)=>[];const EF=lO();(EF||"undefined"!=typeof Element)&&(hO=_F()?(i,n)=>{for(;n&&n!==document.documentElement;){if(n===i)return!0;n=n.parentNode||n.host}return!1}:(i,n)=>i.contains(n),fO=(()=>{if(EF||Element.prototype.matches)return(i,n)=>i.matches(n);{const i=Element.prototype,n=i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector;return n?(r,s)=>n.apply(r,[s]):fO}})(),wF=(i,n,r)=>{let s=[];if(r){const l=i.querySelectorAll(n);for(let d=0;d<l.length;d++)s.push(l[d])}else{const l=i.querySelector(n);l&&s.push(l)}return s});let Om=null,CF=!1;function pO(i){Om||(Om=("undefined"!=typeof document?document.body:null)||{},CF=!!Om.style&&"WebkitAppearance"in Om.style);let n=!0;return Om.style&&!function(i){return"ebkit"==i.substring(1,6)}(i)&&(n=i in Om.style,!n&&CF&&(n="Webkit"+i.charAt(0).toUpperCase()+i.substr(1)in Om.style)),n}const gO=fO,mO=hO,yO=wF;function DF(i){const n={};return Object.keys(i).forEach(r=>{const s=r.replace(/([a-z])([A-Z])/g,"$1-$2");n[s]=i[r]}),n}let AF=(()=>{class i{validateStyleProperty(r){return pO(r)}matchesElement(r,s){return gO(r,s)}containsElement(r,s){return mO(r,s)}query(r,s,l){return yO(r,s,l)}computeStyle(r,s,l){return l||""}animate(r,s,l,d,g,_=[],C){return new hb(l,d)}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac}),i})(),_O=(()=>{class i{}return i.NOOP=new AF,i})();const vO="ng-enter",Nx="ng-leave",kx="ng-trigger",Fx=".ng-trigger",xF="ng-animating",bO=".ng-animating";function Nm(i){if("number"==typeof i)return i;const n=i.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:wO(parseFloat(n[1]),n[2])}function wO(i,n){switch(n){case"s":return 1e3*i;default:return i}}function Px(i,n,r){return i.hasOwnProperty("duration")?i:function(i,n,r){let l,d=0,g="";if("string"==typeof i){const _=i.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===_)return n.push(`The provided timing value "${i}" is invalid.`),{duration:0,delay:0,easing:""};l=wO(parseFloat(_[1]),_[2]);const C=_[3];null!=C&&(d=wO(parseFloat(C),_[4]));const T=_[5];T&&(g=T)}else l=i;if(!r){let _=!1,C=n.length;l<0&&(n.push("Duration values below 0 are not allowed for this animation step."),_=!0),d<0&&(n.push("Delay values below 0 are not allowed for this animation step."),_=!0),_&&n.splice(C,0,`The provided timing value "${i}" is invalid.`)}return{duration:l,delay:d,easing:g}}(i,n,r)}function fb(i,n={}){return Object.keys(i).forEach(r=>{n[r]=i[r]}),n}function Sp(i,n,r={}){if(n)for(let s in i)r[s]=i[s];else fb(i,r);return r}function TF(i,n,r){return r?n+":"+r+";":""}function MF(i){let n="";for(let r=0;r<i.style.length;r++){const s=i.style.item(r);n+=TF(0,s,i.style.getPropertyValue(s))}for(const r in i.style)i.style.hasOwnProperty(r)&&!r.startsWith("_")&&(n+=TF(0,XV(r),i.style[r]));i.setAttribute("style",n)}function wc(i,n,r){i.style&&(Object.keys(n).forEach(s=>{const l=CO(s);r&&!r.hasOwnProperty(s)&&(r[s]=i.style[l]),i.style[l]=n[s]}),lO()&&MF(i))}function km(i,n){i.style&&(Object.keys(n).forEach(r=>{const s=CO(r);i.style[s]=""}),lO()&&MF(i))}function FC(i){return Array.isArray(i)?1==i.length?i[0]:pF(i):i}const EO=new RegExp("{{\\s*(.+?)\\s*}}","g");function RF(i){let n=[];if("string"==typeof i){let r;for(;r=EO.exec(i);)n.push(r[1]);EO.lastIndex=0}return n}function Lx(i,n,r){const s=i.toString(),l=s.replace(EO,(d,g)=>{let _=n[g];return n.hasOwnProperty(g)||(r.push(`Please provide a value for the animation param ${g}`),_=""),_.toString()});return l==s?i:l}function Vx(i){const n=[];let r=i.next();for(;!r.done;)n.push(r.value),r=i.next();return n}const JV=/-+([a-z0-9])/g;function CO(i){return i.replace(JV,(...n)=>n[1].toUpperCase())}function XV(i){return i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function OF(i,n){return 0===i||0===n}function NF(i,n,r){const s=Object.keys(r);if(s.length&&n.length){let d=n[0],g=[];if(s.forEach(_=>{d.hasOwnProperty(_)||g.push(_),d[_]=r[_]}),g.length)for(var l=1;l<n.length;l++){let _=n[l];g.forEach(function(C){_[C]=DO(i,C)})}}return n}function ya(i,n,r){switch(n.type){case 7:return i.visitTrigger(n,r);case 0:return i.visitState(n,r);case 1:return i.visitTransition(n,r);case 2:return i.visitSequence(n,r);case 3:return i.visitGroup(n,r);case 4:return i.visitAnimate(n,r);case 5:return i.visitKeyframes(n,r);case 6:return i.visitStyle(n,r);case 8:return i.visitReference(n,r);case 9:return i.visitAnimateChild(n,r);case 10:return i.visitAnimateRef(n,r);case 11:return i.visitQuery(n,r);case 12:return i.visitStagger(n,r);default:throw new Error(`Unable to resolve animation metadata node #${n.type}`)}}function DO(i,n){return window.getComputedStyle(i)[n]}function eB(i,n){const r=[];return"string"==typeof i?i.split(/\s*,\s*/).forEach(s=>function(i,n,r){if(":"==i[0]){const C=function(i,n){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(r,s)=>parseFloat(s)>parseFloat(r);case":decrement":return(r,s)=>parseFloat(s)<parseFloat(r);default:return n.push(`The transition alias value "${i}" is not supported`),"* => *"}}(i,r);if("function"==typeof C)return void n.push(C);i=C}const s=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==s||s.length<4)return r.push(`The provided transition expression "${i}" is not supported`),n;const l=s[1],d=s[2],g=s[3];n.push(kF(l,g));"<"==d[0]&&!("*"==l&&"*"==g)&&n.push(kF(g,l))}(s,r,n)):r.push(i),r}const Ux=new Set(["true","1"]),jx=new Set(["false","0"]);function kF(i,n){const r=Ux.has(i)||jx.has(i),s=Ux.has(n)||jx.has(n);return(l,d)=>{let g="*"==i||i==l,_="*"==n||n==d;return!g&&r&&"boolean"==typeof l&&(g=l?Ux.has(i):jx.has(i)),!_&&s&&"boolean"==typeof d&&(_=d?Ux.has(n):jx.has(n)),g&&_}}const rB=new RegExp("s*:selfs*,?","g");function AO(i,n,r){return new iB(i).build(n,r)}class iB{constructor(n){this._driver=n}build(n,r){const s=new aB(r);return this._resetContextStyleTimingState(s),ya(this,FC(n),s)}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles={},n.collectedStyles[""]={},n.currentTime=0}visitTrigger(n,r){let s=r.queryCount=0,l=r.depCount=0;const d=[],g=[];return"@"==n.name.charAt(0)&&r.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),n.definitions.forEach(_=>{if(this._resetContextStyleTimingState(r),0==_.type){const C=_,T=C.name;T.toString().split(/\s*,\s*/).forEach(N=>{C.name=N,d.push(this.visitState(C,r))}),C.name=T}else if(1==_.type){const C=this.visitTransition(_,r);s+=C.queryCount,l+=C.depCount,g.push(C)}else r.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:n.name,states:d,transitions:g,queryCount:s,depCount:l,options:null}}visitState(n,r){const s=this.visitStyle(n.styles,r),l=n.options&&n.options.params||null;if(s.containsDynamicStyles){const d=new Set,g=l||{};if(s.styles.forEach(_=>{if(Gx(_)){const C=_;Object.keys(C).forEach(T=>{RF(C[T]).forEach(N=>{g.hasOwnProperty(N)||d.add(N)})})}}),d.size){const _=Vx(d.values());r.errors.push(`state("${n.name}", ...) must define default values for all the following style substitutions: ${_.join(", ")}`)}}return{type:0,name:n.name,style:s,options:l?{params:l}:null}}visitTransition(n,r){r.queryCount=0,r.depCount=0;const s=ya(this,FC(n.animation),r);return{type:1,matchers:eB(n.expr,r.errors),animation:s,queryCount:r.queryCount,depCount:r.depCount,options:Fm(n.options)}}visitSequence(n,r){return{type:2,steps:n.steps.map(s=>ya(this,s,r)),options:Fm(n.options)}}visitGroup(n,r){const s=r.currentTime;let l=0;const d=n.steps.map(g=>{r.currentTime=s;const _=ya(this,g,r);return l=Math.max(l,r.currentTime),_});return r.currentTime=l,{type:3,steps:d,options:Fm(n.options)}}visitAnimate(n,r){const s=function(i,n){let r=null;if(i.hasOwnProperty("duration"))r=i;else if("number"==typeof i)return IO(Px(i,n).duration,0,"");const s=i;if(s.split(/\s+/).some(d=>"{"==d.charAt(0)&&"{"==d.charAt(1))){const d=IO(0,0,"");return d.dynamic=!0,d.strValue=s,d}return r=r||Px(s,n),IO(r.duration,r.delay,r.easing)}(n.timings,r.errors);r.currentAnimateTimings=s;let l,d=n.styles?n.styles:gF({});if(5==d.type)l=this.visitKeyframes(d,r);else{let g=n.styles,_=!1;if(!g){_=!0;const T={};s.easing&&(T.easing=s.easing),g=gF(T)}r.currentTime+=s.duration+s.delay;const C=this.visitStyle(g,r);C.isEmptyStep=_,l=C}return r.currentAnimateTimings=null,{type:4,timings:s,style:l,options:null}}visitStyle(n,r){const s=this._makeStyleAst(n,r);return this._validateStyleAst(s,r),s}_makeStyleAst(n,r){const s=[];Array.isArray(n.styles)?n.styles.forEach(g=>{"string"==typeof g?g==Qd?s.push(g):r.errors.push(`The provided style string value ${g} is not allowed.`):s.push(g)}):s.push(n.styles);let l=!1,d=null;return s.forEach(g=>{if(Gx(g)){const _=g,C=_.easing;if(C&&(d=C,delete _.easing),!l)for(let T in _)if(_[T].toString().indexOf("{{")>=0){l=!0;break}}}),{type:6,styles:s,easing:d,offset:n.offset,containsDynamicStyles:l,options:null}}_validateStyleAst(n,r){const s=r.currentAnimateTimings;let l=r.currentTime,d=r.currentTime;s&&d>0&&(d-=s.duration+s.delay),n.styles.forEach(g=>{"string"!=typeof g&&Object.keys(g).forEach(_=>{if(!this._driver.validateStyleProperty(_))return void r.errors.push(`The provided animation property "${_}" is not a supported CSS property for animations`);const C=r.collectedStyles[r.currentQuerySelector],T=C[_];let N=!0;T&&(d!=l&&d>=T.startTime&&l<=T.endTime&&(r.errors.push(`The CSS property "${_}" that exists between the times of "${T.startTime}ms" and "${T.endTime}ms" is also being animated in a parallel animation between the times of "${d}ms" and "${l}ms"`),N=!1),d=T.startTime),N&&(C[_]={startTime:d,endTime:l}),r.options&&function(i,n,r){const s=n.params||{},l=RF(i);l.length&&l.forEach(d=>{s.hasOwnProperty(d)||r.push(`Unable to resolve the local animation param ${d} in the given list of values`)})}(g[_],r.options,r.errors)})})}visitKeyframes(n,r){const s={type:5,styles:[],options:null};if(!r.currentAnimateTimings)return r.errors.push("keyframes() must be placed inside of a call to animate()"),s;let d=0;const g=[];let _=!1,C=!1,T=0;const N=n.steps.map(He=>{const st=this._makeStyleAst(He,r);let Nt=null!=st.offset?st.offset:function(i){if("string"==typeof i)return null;let n=null;if(Array.isArray(i))i.forEach(r=>{if(Gx(r)&&r.hasOwnProperty("offset")){const s=r;n=parseFloat(s.offset),delete s.offset}});else if(Gx(i)&&i.hasOwnProperty("offset")){const r=i;n=parseFloat(r.offset),delete r.offset}return n}(st.styles),gt=0;return null!=Nt&&(d++,gt=st.offset=Nt),C=C||gt<0||gt>1,_=_||gt<T,T=gt,g.push(gt),st});C&&r.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),_&&r.errors.push("Please ensure that all keyframe offsets are in order");const k=n.steps.length;let z=0;d>0&&d<k?r.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==d&&(z=1/(k-1));const $=k-1,re=r.currentTime,Ie=r.currentAnimateTimings,Le=Ie.duration;return N.forEach((He,st)=>{const Nt=z>0?st==$?1:z*st:g[st],gt=Nt*Le;r.currentTime=re+Ie.delay+gt,Ie.duration=gt,this._validateStyleAst(He,r),He.offset=Nt,s.styles.push(He)}),s}visitReference(n,r){return{type:8,animation:ya(this,FC(n.animation),r),options:Fm(n.options)}}visitAnimateChild(n,r){return r.depCount++,{type:9,options:Fm(n.options)}}visitAnimateRef(n,r){return{type:10,animation:this.visitReference(n.animation,r),options:Fm(n.options)}}visitQuery(n,r){const s=r.currentQuerySelector,l=n.options||{};r.queryCount++,r.currentQuery=n;const[d,g]=function(i){const n=!!i.split(/\s*,\s*/).find(r=>":self"==r);return n&&(i=i.replace(rB,"")),[i=i.replace(/@\*/g,Fx).replace(/@\w+/g,r=>Fx+"-"+r.substr(1)).replace(/:animating/g,bO),n]}(n.selector);r.currentQuerySelector=s.length?s+" "+d:d,ma(r.collectedStyles,r.currentQuerySelector,{});const _=ya(this,FC(n.animation),r);return r.currentQuery=null,r.currentQuerySelector=s,{type:11,selector:d,limit:l.limit||0,optional:!!l.optional,includeSelf:g,animation:_,originalSelector:n.selector,options:Fm(n.options)}}visitStagger(n,r){r.currentQuery||r.errors.push("stagger() can only be used inside of query()");const s="full"===n.timings?{duration:0,delay:0,easing:"full"}:Px(n.timings,r.errors,!0);return{type:12,animation:ya(this,FC(n.animation),r),timings:s,options:null}}}class aB{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Gx(i){return!Array.isArray(i)&&"object"==typeof i}function Fm(i){return i?(i=fb(i)).params&&(i.params=function(i){return i?fb(i):null}(i.params)):i={},i}function IO(i,n,r){return{duration:i,delay:n,easing:r}}function xO(i,n,r,s,l,d,g=null,_=!1){return{type:1,element:i,keyframes:n,preStyleProps:r,postStyleProps:s,duration:l,delay:d,totalTime:l+d,easing:g,subTimeline:_}}class Hx{constructor(){this._map=new Map}consume(n){let r=this._map.get(n);return r?this._map.delete(n):r=[],r}append(n,r){let s=this._map.get(n);s||this._map.set(n,s=[]),s.push(...r)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const hB=new RegExp(":enter","g"),pB=new RegExp(":leave","g");function SO(i,n,r,s,l,d={},g={},_,C,T=[]){return(new gB).buildKeyframes(i,n,r,s,l,d,g,_,C,T)}class gB{buildKeyframes(n,r,s,l,d,g,_,C,T,N=[]){T=T||new Hx;const k=new TO(n,r,T,l,d,N,[]);k.options=C,k.currentTimeline.setStyles([g],null,k.errors,C),ya(this,s,k);const z=k.timelines.filter($=>$.containsAnimation());if(z.length&&Object.keys(_).length){const $=z[z.length-1];$.allowOnlyTimelineStyles()||$.setStyles([_],null,k.errors,C)}return z.length?z.map($=>$.buildKeyframes()):[xO(r,[],[],[],0,0,"",!1)]}visitTrigger(n,r){}visitState(n,r){}visitTransition(n,r){}visitAnimateChild(n,r){const s=r.subInstructions.consume(r.element);if(s){const l=r.createSubContext(n.options),d=r.currentTimeline.currentTime,g=this._visitSubInstructions(s,l,l.options);d!=g&&r.transformIntoNewTimeline(g)}r.previousNode=n}visitAnimateRef(n,r){const s=r.createSubContext(n.options);s.transformIntoNewTimeline(),this.visitReference(n.animation,s),r.transformIntoNewTimeline(s.currentTimeline.currentTime),r.previousNode=n}_visitSubInstructions(n,r,s){let d=r.currentTimeline.currentTime;const g=null!=s.duration?Nm(s.duration):null,_=null!=s.delay?Nm(s.delay):null;return 0!==g&&n.forEach(C=>{const T=r.appendInstructionToTimeline(C,g,_);d=Math.max(d,T.duration+T.delay)}),d}visitReference(n,r){r.updateOptions(n.options,!0),ya(this,n.animation,r),r.previousNode=n}visitSequence(n,r){const s=r.subContextCount;let l=r;const d=n.options;if(d&&(d.params||d.delay)&&(l=r.createSubContext(d),l.transformIntoNewTimeline(),null!=d.delay)){6==l.previousNode.type&&(l.currentTimeline.snapshotCurrentStyles(),l.previousNode=$x);const g=Nm(d.delay);l.delayNextStep(g)}n.steps.length&&(n.steps.forEach(g=>ya(this,g,l)),l.currentTimeline.applyStylesToKeyframe(),l.subContextCount>s&&l.transformIntoNewTimeline()),r.previousNode=n}visitGroup(n,r){const s=[];let l=r.currentTimeline.currentTime;const d=n.options&&n.options.delay?Nm(n.options.delay):0;n.steps.forEach(g=>{const _=r.createSubContext(n.options);d&&_.delayNextStep(d),ya(this,g,_),l=Math.max(l,_.currentTimeline.currentTime),s.push(_.currentTimeline)}),s.forEach(g=>r.currentTimeline.mergeTimelineCollectedStyles(g)),r.transformIntoNewTimeline(l),r.previousNode=n}_visitTiming(n,r){if(n.dynamic){const s=n.strValue;return Px(r.params?Lx(s,r.params,r.errors):s,r.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,r){const s=r.currentAnimateTimings=this._visitTiming(n.timings,r),l=r.currentTimeline;s.delay&&(r.incrementTime(s.delay),l.snapshotCurrentStyles());const d=n.style;5==d.type?this.visitKeyframes(d,r):(r.incrementTime(s.duration),this.visitStyle(d,r),l.applyStylesToKeyframe()),r.currentAnimateTimings=null,r.previousNode=n}visitStyle(n,r){const s=r.currentTimeline,l=r.currentAnimateTimings;!l&&s.getCurrentStyleProperties().length&&s.forwardFrame();const d=l&&l.easing||n.easing;n.isEmptyStep?s.applyEmptyStep(d):s.setStyles(n.styles,d,r.errors,r.options),r.previousNode=n}visitKeyframes(n,r){const s=r.currentAnimateTimings,l=r.currentTimeline.duration,d=s.duration,_=r.createSubContext().currentTimeline;_.easing=s.easing,n.styles.forEach(C=>{_.forwardTime((C.offset||0)*d),_.setStyles(C.styles,C.easing,r.errors,r.options),_.applyStylesToKeyframe()}),r.currentTimeline.mergeTimelineCollectedStyles(_),r.transformIntoNewTimeline(l+d),r.previousNode=n}visitQuery(n,r){const s=r.currentTimeline.currentTime,l=n.options||{},d=l.delay?Nm(l.delay):0;d&&(6===r.previousNode.type||0==s&&r.currentTimeline.getCurrentStyleProperties().length)&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=$x);let g=s;const _=r.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!l.optional,r.errors);r.currentQueryTotal=_.length;let C=null;_.forEach((T,N)=>{r.currentQueryIndex=N;const k=r.createSubContext(n.options,T);d&&k.delayNextStep(d),T===r.element&&(C=k.currentTimeline),ya(this,n.animation,k),k.currentTimeline.applyStylesToKeyframe(),g=Math.max(g,k.currentTimeline.currentTime)}),r.currentQueryIndex=0,r.currentQueryTotal=0,r.transformIntoNewTimeline(g),C&&(r.currentTimeline.mergeTimelineCollectedStyles(C),r.currentTimeline.snapshotCurrentStyles()),r.previousNode=n}visitStagger(n,r){const s=r.parentContext,l=r.currentTimeline,d=n.timings,g=Math.abs(d.duration),_=g*(r.currentQueryTotal-1);let C=g*r.currentQueryIndex;switch(d.duration<0?"reverse":d.easing){case"reverse":C=_-C;break;case"full":C=s.currentStaggerTime}const N=r.currentTimeline;C&&N.delayNextStep(C);const k=N.currentTime;ya(this,n.animation,r),r.previousNode=n,s.currentStaggerTime=l.currentTime-k+(l.startTime-s.currentTimeline.startTime)}}const $x={};class TO{constructor(n,r,s,l,d,g,_,C){this._driver=n,this.element=r,this.subInstructions=s,this._enterClassName=l,this._leaveClassName=d,this.errors=g,this.timelines=_,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=$x,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=C||new zx(this._driver,r,0),_.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,r){if(!n)return;const s=n;let l=this.options;null!=s.duration&&(l.duration=Nm(s.duration)),null!=s.delay&&(l.delay=Nm(s.delay));const d=s.params;if(d){let g=l.params;g||(g=this.options.params={}),Object.keys(d).forEach(_=>{(!r||!g.hasOwnProperty(_))&&(g[_]=Lx(d[_],g,this.errors))})}}_copyOptions(){const n={};if(this.options){const r=this.options.params;if(r){const s=n.params={};Object.keys(r).forEach(l=>{s[l]=r[l]})}}return n}createSubContext(n=null,r,s){const l=r||this.element,d=new TO(this._driver,l,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(l,s||0));return d.previousNode=this.previousNode,d.currentAnimateTimings=this.currentAnimateTimings,d.options=this._copyOptions(),d.updateOptions(n),d.currentQueryIndex=this.currentQueryIndex,d.currentQueryTotal=this.currentQueryTotal,d.parentContext=this,this.subContextCount++,d}transformIntoNewTimeline(n){return this.previousNode=$x,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,r,s){const l={duration:null!=r?r:n.duration,delay:this.currentTimeline.currentTime+(null!=s?s:0)+n.delay,easing:""},d=new mB(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,l,n.stretchStartingKeyframe);return this.timelines.push(d),l}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,r,s,l,d,g){let _=[];if(l&&_.push(this.element),n.length>0){n=(n=n.replace(hB,"."+this._enterClassName)).replace(pB,"."+this._leaveClassName);let T=this._driver.query(this.element,n,1!=s);0!==s&&(T=s<0?T.slice(T.length+s,T.length):T.slice(0,s)),_.push(...T)}return!d&&0==_.length&&g.push(`\`query("${r}")\` returned zero elements. (Use \`query("${r}", { optional: true })\` if you wish to allow this.)`),_}}class zx{constructor(n,r,s,l){this._driver=n,this.element=r,this.startTime=s,this._elementTimelineStylesLookup=l,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(r),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(r,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const r=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||r?(this.forwardTime(this.currentTime+n),r&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,r){return this.applyStylesToKeyframe(),new zx(this._driver,n,r||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,r){this._localTimelineStyles[n]=r,this._globalTimelineStyles[n]=r,this._styleSummary[n]={time:this.currentTime,value:r}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&(this._previousKeyframe.easing=n),Object.keys(this._globalTimelineStyles).forEach(r=>{this._backFill[r]=this._globalTimelineStyles[r]||Qd,this._currentKeyframe[r]=Qd}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,r,s,l){r&&(this._previousKeyframe.easing=r);const d=l&&l.params||{},g=function(i,n){const r={};let s;return i.forEach(l=>{"*"===l?(s=s||Object.keys(n),s.forEach(d=>{r[d]=Qd})):Sp(l,!1,r)}),r}(n,this._globalTimelineStyles);Object.keys(g).forEach(_=>{const C=Lx(g[_],d,s);this._pendingStyles[_]=C,this._localTimelineStyles.hasOwnProperty(_)||(this._backFill[_]=this._globalTimelineStyles.hasOwnProperty(_)?this._globalTimelineStyles[_]:Qd),this._updateStyle(_,C)})}applyStylesToKeyframe(){const n=this._pendingStyles,r=Object.keys(n);0!=r.length&&(this._pendingStyles={},r.forEach(s=>{this._currentKeyframe[s]=n[s]}),Object.keys(this._localTimelineStyles).forEach(s=>{this._currentKeyframe.hasOwnProperty(s)||(this._currentKeyframe[s]=this._localTimelineStyles[s])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(n=>{const r=this._localTimelineStyles[n];this._pendingStyles[n]=r,this._updateStyle(n,r)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let r in this._currentKeyframe)n.push(r);return n}mergeTimelineCollectedStyles(n){Object.keys(n._styleSummary).forEach(r=>{const s=this._styleSummary[r],l=n._styleSummary[r];(!s||l.time>s.time)&&this._updateStyle(r,l.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,r=new Set,s=1===this._keyframes.size&&0===this.duration;let l=[];this._keyframes.forEach((_,C)=>{const T=Sp(_,!0);Object.keys(T).forEach(N=>{const k=T[N];"!"==k?n.add(N):k==Qd&&r.add(N)}),s||(T.offset=C/this.duration),l.push(T)});const d=n.size?Vx(n.values()):[],g=r.size?Vx(r.values()):[];if(s){const _=l[0],C=fb(_);_.offset=0,C.offset=1,l=[_,C]}return xO(this.element,l,d,g,this.duration,this.startTime,this.easing,!1)}}class mB extends zx{constructor(n,r,s,l,d,g,_=!1){super(n,r,g.delay),this.keyframes=s,this.preStyleProps=l,this.postStyleProps=d,this._stretchStartingKeyframe=_,this.timings={duration:g.duration,delay:g.delay,easing:g.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:r,duration:s,easing:l}=this.timings;if(this._stretchStartingKeyframe&&r){const d=[],g=s+r,_=r/g,C=Sp(n[0],!1);C.offset=0,d.push(C);const T=Sp(n[0],!1);T.offset=LF(_),d.push(T);const N=n.length-1;for(let k=1;k<=N;k++){let z=Sp(n[k],!1);z.offset=LF((r+z.offset*s)/g),d.push(z)}s=g,r=0,l="",n=d}return xO(this.element,n,this.preStyleProps,this.postStyleProps,s,r,l,!0)}}function LF(i,n=3){const r=Math.pow(10,n-1);return Math.round(i*r)/r}class MO{}class _B extends MO{normalizePropertyName(n,r){return CO(n)}normalizeStyleValue(n,r,s,l){let d="";const g=s.toString().trim();if(vB[r]&&0!==s&&"0"!==s)if("number"==typeof s)d="px";else{const _=s.match(/^[+-]?[\d\.]+([a-z]*)$/);_&&0==_[1].length&&l.push(`Please provide a CSS unit value for ${n}:${s}`)}return g+d}}const vB=(()=>function(i){const n={};return i.forEach(r=>n[r]=!0),n}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function VF(i,n,r,s,l,d,g,_,C,T,N,k,z){return{type:0,element:i,triggerName:n,isRemovalTransition:l,fromState:r,fromStyles:d,toState:s,toStyles:g,timelines:_,queriedElements:C,preStyleProps:T,postStyleProps:N,totalTime:k,errors:z}}const RO={};class BF{constructor(n,r,s){this._triggerName=n,this.ast=r,this._stateStyles=s}match(n,r,s,l){return function(i,n,r,s,l){return i.some(d=>d(n,r,s,l))}(this.ast.matchers,n,r,s,l)}buildStyles(n,r,s){const l=this._stateStyles["*"],d=this._stateStyles[n],g=l?l.buildStyles(r,s):{};return d?d.buildStyles(r,s):g}build(n,r,s,l,d,g,_,C,T,N){const k=[],z=this.ast.options&&this.ast.options.params||RO,re=this.buildStyles(s,_&&_.params||RO,k),Ie=C&&C.params||RO,Le=this.buildStyles(l,Ie,k),He=new Set,st=new Map,Nt=new Map,gt="void"===l,In={params:Object.assign(Object.assign({},z),Ie)},br=N?[]:SO(n,r,this.ast.animation,d,g,re,Le,In,T,k);let fs=0;if(br.forEach(Xd=>{fs=Math.max(Xd.duration+Xd.delay,fs)}),k.length)return VF(r,this._triggerName,s,l,gt,re,Le,[],[],st,Nt,fs,k);br.forEach(Xd=>{const eh=Xd.element,l1=ma(st,eh,{});Xd.preStyleProps.forEach(Bm=>l1[Bm]=!0);const UC=ma(Nt,eh,{});Xd.postStyleProps.forEach(Bm=>UC[Bm]=!0),eh!==r&&He.add(eh)});const Jd=Vx(He.values());return VF(r,this._triggerName,s,l,gt,re,Le,br,Jd,st,Nt,fs)}}class EB{constructor(n,r,s){this.styles=n,this.defaultParams=r,this.normalizer=s}buildStyles(n,r){const s={},l=fb(this.defaultParams);return Object.keys(n).forEach(d=>{const g=n[d];null!=g&&(l[d]=g)}),this.styles.styles.forEach(d=>{if("string"!=typeof d){const g=d;Object.keys(g).forEach(_=>{let C=g[_];C.length>1&&(C=Lx(C,l,r));const T=this.normalizer.normalizePropertyName(_,r);C=this.normalizer.normalizeStyleValue(_,T,C,r),s[T]=C})}}),s}}class DB{constructor(n,r,s){this.name=n,this.ast=r,this._normalizer=s,this.transitionFactories=[],this.states={},r.states.forEach(l=>{this.states[l.name]=new EB(l.style,l.options&&l.options.params||{},s)}),UF(this.states,"true","1"),UF(this.states,"false","0"),r.transitions.forEach(l=>{this.transitionFactories.push(new BF(n,l,this.states))}),this.fallbackTransition=function(i,n,r){return new BF(i,{type:1,animation:{type:2,steps:[],options:null},matchers:[(g,_)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,r,s,l){return this.transitionFactories.find(g=>g.match(n,r,s,l))||null}matchStyles(n,r,s){return this.fallbackTransition.buildStyles(n,r,s)}}function UF(i,n,r){i.hasOwnProperty(n)?i.hasOwnProperty(r)||(i[r]=i[n]):i.hasOwnProperty(r)&&(i[n]=i[r])}const IB=new Hx;class xB{constructor(n,r,s){this.bodyNode=n,this._driver=r,this._normalizer=s,this._animations={},this._playersById={},this.players=[]}register(n,r){const s=[],l=AO(this._driver,r,s);if(s.length)throw new Error(`Unable to build the animation due to the following errors: ${s.join("\n")}`);this._animations[n]=l}_buildPlayer(n,r,s){const l=n.element,d=vF(0,this._normalizer,0,n.keyframes,r,s);return this._driver.animate(l,d,n.duration,n.delay,n.easing,[],!0)}create(n,r,s={}){const l=[],d=this._animations[n];let g;const _=new Map;if(d?(g=SO(this._driver,r,d,vO,Nx,{},{},s,IB,l),g.forEach(N=>{const k=ma(_,N.element,{});N.postStyleProps.forEach(z=>k[z]=null)})):(l.push("The requested animation doesn't exist or has already been destroyed"),g=[]),l.length)throw new Error(`Unable to create the animation due to the following errors: ${l.join("\n")}`);_.forEach((N,k)=>{Object.keys(N).forEach(z=>{N[z]=this._driver.computeStyle(k,z,Qd)})});const T=xp(g.map(N=>{const k=_.get(N.element);return this._buildPlayer(N,{},k)}));return this._playersById[n]=T,T.onDestroy(()=>this.destroy(n)),this.players.push(T),T}destroy(n){const r=this._getPlayer(n);r.destroy(),delete this._playersById[n];const s=this.players.indexOf(r);s>=0&&this.players.splice(s,1)}_getPlayer(n){const r=this._playersById[n];if(!r)throw new Error(`Unable to find the timeline player referenced by ${n}`);return r}listen(n,r,s,l){const d=dO(r,"","","");return uO(this._getPlayer(n),s,d,l),()=>{}}command(n,r,s,l){if("register"==s)return void this.register(n,l[0]);if("create"==s)return void this.create(n,r,l[0]||{});const d=this._getPlayer(n);switch(s){case"play":d.play();break;case"pause":d.pause();break;case"reset":d.reset();break;case"restart":d.restart();break;case"finish":d.finish();break;case"init":d.init();break;case"setPosition":d.setPosition(parseFloat(l[0]));break;case"destroy":this.destroy(n)}}}const jF="ng-animate-queued",GF="ng-animate-disabled",HF=".ng-animate-disabled",RB=[],$F={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},OB={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},cl="__ng_removed";class OO{constructor(n,r=""){this.namespaceId=r;const s=n&&n.hasOwnProperty("value");if(this.value=function(i){return null!=i?i:null}(s?n.value:n),s){const d=fb(n);delete d.value,this.options=d}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(n){const r=n.params;if(r){const s=this.options.params;Object.keys(r).forEach(l=>{null==s[l]&&(s[l]=r[l])})}}}const PC="void",NO=new OO(PC);class NB{constructor(n,r,s){this.id=n,this.hostElement=r,this._engine=s,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,dl(r,this._hostClassName)}listen(n,r,s,l){if(!this._triggers.hasOwnProperty(r))throw new Error(`Unable to listen on the animation trigger event "${s}" because the animation trigger "${r}" doesn't exist!`);if(null==s||0==s.length)throw new Error(`Unable to listen on the animation trigger "${r}" because the provided event is undefined!`);if(!function(i){return"start"==i||"done"==i}(s))throw new Error(`The provided animation trigger event "${s}" for the animation trigger "${r}" is not supported!`);const d=ma(this._elementListeners,n,[]),g={name:r,phase:s,callback:l};d.push(g);const _=ma(this._engine.statesByElement,n,{});return _.hasOwnProperty(r)||(dl(n,kx),dl(n,kx+"-"+r),_[r]=NO),()=>{this._engine.afterFlush(()=>{const C=d.indexOf(g);C>=0&&d.splice(C,1),this._triggers[r]||delete _[r]})}}register(n,r){return!this._triggers[n]&&(this._triggers[n]=r,!0)}_getTrigger(n){const r=this._triggers[n];if(!r)throw new Error(`The provided animation trigger "${n}" has not been registered!`);return r}trigger(n,r,s,l=!0){const d=this._getTrigger(r),g=new kO(this.id,r,n);let _=this._engine.statesByElement.get(n);_||(dl(n,kx),dl(n,kx+"-"+r),this._engine.statesByElement.set(n,_={}));let C=_[r];const T=new OO(s,this.id);if(!(s&&s.hasOwnProperty("value"))&&C&&T.absorbOptions(C.options),_[r]=T,C||(C=NO),T.value!==PC&&C.value===T.value){if(!function(i,n){const r=Object.keys(i),s=Object.keys(n);if(r.length!=s.length)return!1;for(let l=0;l<r.length;l++){const d=r[l];if(!n.hasOwnProperty(d)||i[d]!==n[d])return!1}return!0}(C.params,T.params)){const Ie=[],Le=d.matchStyles(C.value,C.params,Ie),He=d.matchStyles(T.value,T.params,Ie);Ie.length?this._engine.reportError(Ie):this._engine.afterFlush(()=>{km(n,Le),wc(n,He)})}return}const z=ma(this._engine.playersByElement,n,[]);z.forEach(Ie=>{Ie.namespaceId==this.id&&Ie.triggerName==r&&Ie.queued&&Ie.destroy()});let $=d.matchTransition(C.value,T.value,n,T.params),re=!1;if(!$){if(!l)return;$=d.fallbackTransition,re=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:r,transition:$,fromState:C,toState:T,player:g,isFallbackTransition:re}),re||(dl(n,jF),g.onStart(()=>{pb(n,jF)})),g.onDone(()=>{let Ie=this.players.indexOf(g);Ie>=0&&this.players.splice(Ie,1);const Le=this._engine.playersByElement.get(n);if(Le){let He=Le.indexOf(g);He>=0&&Le.splice(He,1)}}),this.players.push(g),z.push(g),g}deregister(n){delete this._triggers[n],this._engine.statesByElement.forEach((r,s)=>{delete r[n]}),this._elementListeners.forEach((r,s)=>{this._elementListeners.set(s,r.filter(l=>l.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const r=this._engine.playersByElement.get(n);r&&(r.forEach(s=>s.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,r){const s=this._engine.driver.query(n,Fx,!0);s.forEach(l=>{if(l[cl])return;const d=this._engine.fetchNamespacesByElement(l);d.size?d.forEach(g=>g.triggerLeaveAnimation(l,r,!1,!0)):this.clearElementCache(l)}),this._engine.afterFlushAnimationsDone(()=>s.forEach(l=>this.clearElementCache(l)))}triggerLeaveAnimation(n,r,s,l){const d=this._engine.statesByElement.get(n);if(d){const g=[];if(Object.keys(d).forEach(_=>{if(this._triggers[_]){const C=this.trigger(n,_,PC,l);C&&g.push(C)}}),g.length)return this._engine.markElementAsRemoved(this.id,n,!0,r),s&&xp(g).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const r=this._elementListeners.get(n),s=this._engine.statesByElement.get(n);if(r&&s){const l=new Set;r.forEach(d=>{const g=d.name;if(l.has(g))return;l.add(g);const C=this._triggers[g].fallbackTransition,T=s[g]||NO,N=new OO(PC),k=new kO(this.id,g,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:g,transition:C,fromState:T,toState:N,player:k,isFallbackTransition:!0})})}}removeNode(n,r){const s=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,r),this.triggerLeaveAnimation(n,r,!0))return;let l=!1;if(s.totalAnimations){const d=s.players.length?s.playersByQueriedElement.get(n):[];if(d&&d.length)l=!0;else{let g=n;for(;g=g.parentNode;)if(s.statesByElement.get(g)){l=!0;break}}}if(this.prepareLeaveAnimationListeners(n),l)s.markElementAsRemoved(this.id,n,!1,r);else{const d=n[cl];(!d||d===$F)&&(s.afterFlush(()=>this.clearElementCache(n)),s.destroyInnerAnimations(n),s._onRemovalComplete(n,r))}}insertNode(n,r){dl(n,this._hostClassName)}drainQueuedTransitions(n){const r=[];return this._queue.forEach(s=>{const l=s.player;if(l.destroyed)return;const d=s.element,g=this._elementListeners.get(d);g&&g.forEach(_=>{if(_.name==s.triggerName){const C=dO(d,s.triggerName,s.fromState.value,s.toState.value);C._data=n,uO(s.player,_.phase,C,_.callback)}}),l.markedForDestroy?this._engine.afterFlush(()=>{l.destroy()}):r.push(s)}),this._queue=[],r.sort((s,l)=>{const d=s.transition.ast.depCount,g=l.transition.ast.depCount;return 0==d||0==g?d-g:this._engine.driver.containsElement(s.element,l.element)?1:-1})}destroy(n){this.players.forEach(r=>r.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}elementContainsData(n){let r=!1;return this._elementListeners.has(n)&&(r=!0),r=!!this._queue.find(s=>s.element===n)||r,r}}class kB{constructor(n,r,s){this.bodyNode=n,this.driver=r,this._normalizer=s,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(l,d)=>{}}_onRemovalComplete(n,r){this.onRemovalComplete(n,r)}get queuedPlayers(){const n=[];return this._namespaceList.forEach(r=>{r.players.forEach(s=>{s.queued&&n.push(s)})}),n}createNamespace(n,r){const s=new NB(n,r,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,r)?this._balanceNamespaceList(s,r):(this.newHostElements.set(r,s),this.collectEnterElement(r)),this._namespaceLookup[n]=s}_balanceNamespaceList(n,r){const s=this._namespaceList.length-1;if(s>=0){let l=!1;for(let d=s;d>=0;d--)if(this.driver.containsElement(this._namespaceList[d].hostElement,r)){this._namespaceList.splice(d+1,0,n),l=!0;break}l||this._namespaceList.splice(0,0,n)}else this._namespaceList.push(n);return this.namespacesByHostElement.set(r,n),n}register(n,r){let s=this._namespaceLookup[n];return s||(s=this.createNamespace(n,r)),s}registerTrigger(n,r,s){let l=this._namespaceLookup[n];l&&l.register(r,s)&&this.totalAnimations++}destroy(n,r){if(!n)return;const s=this._fetchNamespace(n);this.afterFlush(()=>{this.namespacesByHostElement.delete(s.hostElement),delete this._namespaceLookup[n];const l=this._namespaceList.indexOf(s);l>=0&&this._namespaceList.splice(l,1)}),this.afterFlushAnimationsDone(()=>s.destroy(r))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const r=new Set,s=this.statesByElement.get(n);if(s){const l=Object.keys(s);for(let d=0;d<l.length;d++){const g=s[l[d]].namespaceId;if(g){const _=this._fetchNamespace(g);_&&r.add(_)}}}return r}trigger(n,r,s,l){if(qx(r)){const d=this._fetchNamespace(n);if(d)return d.trigger(r,s,l),!0}return!1}insertNode(n,r,s,l){if(!qx(r))return;const d=r[cl];if(d&&d.setForRemoval){d.setForRemoval=!1,d.setForMove=!0;const g=this.collectedLeaveElements.indexOf(r);g>=0&&this.collectedLeaveElements.splice(g,1)}if(n){const g=this._fetchNamespace(n);g&&g.insertNode(r,s)}l&&this.collectEnterElement(r)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,r){r?this.disabledNodes.has(n)||(this.disabledNodes.add(n),dl(n,GF)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),pb(n,GF))}removeNode(n,r,s,l){if(qx(r)){const d=n?this._fetchNamespace(n):null;if(d?d.removeNode(r,l):this.markElementAsRemoved(n,r,!1,l),s){const g=this.namespacesByHostElement.get(r);g&&g.id!==n&&g.removeNode(r,l)}}else this._onRemovalComplete(r,l)}markElementAsRemoved(n,r,s,l){this.collectedLeaveElements.push(r),r[cl]={namespaceId:n,setForRemoval:l,hasAnimation:s,removedBeforeQueried:!1}}listen(n,r,s,l,d){return qx(r)?this._fetchNamespace(n).listen(r,s,l,d):()=>{}}_buildInstruction(n,r,s,l,d){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,s,l,n.fromState.options,n.toState.options,r,d)}destroyInnerAnimations(n){let r=this.driver.query(n,Fx,!0);r.forEach(s=>this.destroyActiveAnimationsForElement(s)),0!=this.playersByQueriedElement.size&&(r=this.driver.query(n,bO,!0),r.forEach(s=>this.finishActiveQueriedAnimationOnElement(s)))}destroyActiveAnimationsForElement(n){const r=this.playersByElement.get(n);r&&r.forEach(s=>{s.queued?s.markedForDestroy=!0:s.destroy()})}finishActiveQueriedAnimationOnElement(n){const r=this.playersByQueriedElement.get(n);r&&r.forEach(s=>s.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return xp(this.players).onDone(()=>n());n()})}processLeaveNode(n){const r=n[cl];if(r&&r.setForRemoval){if(n[cl]=$F,r.namespaceId){this.destroyInnerAnimations(n);const s=this._fetchNamespace(r.namespaceId);s&&s.clearElementCache(n)}this._onRemovalComplete(n,r.setForRemoval)}this.driver.matchesElement(n,HF)&&this.markElementAsDisabled(n,!1),this.driver.query(n,HF,!0).forEach(s=>{this.markElementAsDisabled(s,!1)})}flush(n=-1){let r=[];if(this.newHostElements.size&&(this.newHostElements.forEach((s,l)=>this._balanceNamespaceList(s,l)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let s=0;s<this.collectedEnterElements.length;s++)dl(this.collectedEnterElements[s],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const s=[];try{r=this._flushAnimations(s,n)}finally{for(let l=0;l<s.length;l++)s[l]()}}else for(let s=0;s<this.collectedLeaveElements.length;s++)this.processLeaveNode(this.collectedLeaveElements[s]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(s=>s()),this._flushFns=[],this._whenQuietFns.length){const s=this._whenQuietFns;this._whenQuietFns=[],r.length?xp(r).onDone(()=>{s.forEach(l=>l())}):s.forEach(l=>l())}}reportError(n){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${n.join("\n")}`)}_flushAnimations(n,r){const s=new Hx,l=[],d=new Map,g=[],_=new Map,C=new Map,T=new Map,N=new Set;this.disabledNodes.forEach(ot=>{N.add(ot);const wt=this.driver.query(ot,".ng-animate-queued",!0);for(let Ft=0;Ft<wt.length;Ft++)N.add(wt[Ft])});const k=this.bodyNode,z=Array.from(this.statesByElement.keys()),$=KF(z,this.collectedEnterElements),re=new Map;let Ie=0;$.forEach((ot,wt)=>{const Ft=vO+Ie++;re.set(wt,Ft),ot.forEach(an=>dl(an,Ft))});const Le=[],He=new Set,st=new Set;for(let ot=0;ot<this.collectedLeaveElements.length;ot++){const wt=this.collectedLeaveElements[ot],Ft=wt[cl];Ft&&Ft.setForRemoval&&(Le.push(wt),He.add(wt),Ft.hasAnimation?this.driver.query(wt,".ng-star-inserted",!0).forEach(an=>He.add(an)):st.add(wt))}const Nt=new Map,gt=KF(z,Array.from(He));gt.forEach((ot,wt)=>{const Ft=Nx+Ie++;Nt.set(wt,Ft),ot.forEach(an=>dl(an,Ft))}),n.push(()=>{$.forEach((ot,wt)=>{const Ft=re.get(wt);ot.forEach(an=>pb(an,Ft))}),gt.forEach((ot,wt)=>{const Ft=Nt.get(wt);ot.forEach(an=>pb(an,Ft))}),Le.forEach(ot=>{this.processLeaveNode(ot)})});const In=[],br=[];for(let ot=this._namespaceList.length-1;ot>=0;ot--)this._namespaceList[ot].drainQueuedTransitions(r).forEach(Ft=>{const an=Ft.player,Gi=Ft.element;if(In.push(an),this.collectedEnterElements.length){const Cc=Gi[cl];if(Cc&&Cc.setForMove)return void an.destroy()}const Ec=!k||!this.driver.containsElement(k,Gi),_a=Nt.get(Gi),Tp=re.get(Gi),Rr=this._buildInstruction(Ft,s,Tp,_a,Ec);if(Rr.errors&&Rr.errors.length)br.push(Rr);else{if(Ec)return an.onStart(()=>km(Gi,Rr.fromStyles)),an.onDestroy(()=>wc(Gi,Rr.toStyles)),void l.push(an);if(Ft.isFallbackTransition)return an.onStart(()=>km(Gi,Rr.fromStyles)),an.onDestroy(()=>wc(Gi,Rr.toStyles)),void l.push(an);Rr.timelines.forEach(Cc=>Cc.stretchStartingKeyframe=!0),s.append(Gi,Rr.timelines),g.push({instruction:Rr,player:an,element:Gi}),Rr.queriedElements.forEach(Cc=>ma(_,Cc,[]).push(an)),Rr.preStyleProps.forEach((Cc,jC)=>{const tS=Object.keys(Cc);if(tS.length){let Um=C.get(jC);Um||C.set(jC,Um=new Set),tS.forEach(KO=>Um.add(KO))}}),Rr.postStyleProps.forEach((Cc,jC)=>{const tS=Object.keys(Cc);let Um=T.get(jC);Um||T.set(jC,Um=new Set),tS.forEach(KO=>Um.add(KO))})}});if(br.length){const ot=[];br.forEach(wt=>{ot.push(`@${wt.triggerName} has failed due to:\n`),wt.errors.forEach(Ft=>ot.push(`- ${Ft}\n`))}),In.forEach(wt=>wt.destroy()),this.reportError(ot)}const fs=new Map,Jd=new Map;g.forEach(ot=>{const wt=ot.element;s.has(wt)&&(Jd.set(wt,wt),this._beforeAnimationBuild(ot.player.namespaceId,ot.instruction,fs))}),l.forEach(ot=>{const wt=ot.element;this._getPreviousPlayers(wt,!1,ot.namespaceId,ot.triggerName,null).forEach(an=>{ma(fs,wt,[]).push(an),an.destroy()})});const Xd=Le.filter(ot=>ZF(ot,C,T)),eh=new Map;qF(eh,this.driver,st,T,Qd).forEach(ot=>{ZF(ot,C,T)&&Xd.push(ot)});const UC=new Map;$.forEach((ot,wt)=>{qF(UC,this.driver,new Set(ot),C,"!")}),Xd.forEach(ot=>{const wt=eh.get(ot),Ft=UC.get(ot);eh.set(ot,Object.assign(Object.assign({},wt),Ft))});const Bm=[],u1=[],c1={};g.forEach(ot=>{const{element:wt,player:Ft,instruction:an}=ot;if(s.has(wt)){if(N.has(wt))return Ft.onDestroy(()=>wc(wt,an.toStyles)),Ft.disabled=!0,Ft.overrideTotalTime(an.totalTime),void l.push(Ft);let Gi=c1;if(Jd.size>1){let _a=wt;const Tp=[];for(;_a=_a.parentNode;){const Rr=Jd.get(_a);if(Rr){Gi=Rr;break}Tp.push(_a)}Tp.forEach(Rr=>Jd.set(Rr,Gi))}const Ec=this._buildAnimation(Ft.namespaceId,an,fs,d,UC,eh);if(Ft.setRealPlayer(Ec),Gi===c1)Bm.push(Ft);else{const _a=this.playersByElement.get(Gi);_a&&_a.length&&(Ft.parentPlayer=xp(_a)),l.push(Ft)}}else km(wt,an.fromStyles),Ft.onDestroy(()=>wc(wt,an.toStyles)),u1.push(Ft),N.has(wt)&&l.push(Ft)}),u1.forEach(ot=>{const wt=d.get(ot.element);if(wt&&wt.length){const Ft=xp(wt);ot.setRealPlayer(Ft)}}),l.forEach(ot=>{ot.parentPlayer?ot.syncPlayerEvents(ot.parentPlayer):ot.destroy()});for(let ot=0;ot<Le.length;ot++){const wt=Le[ot],Ft=wt[cl];if(pb(wt,Nx),Ft&&Ft.hasAnimation)continue;let an=[];if(_.size){let Ec=_.get(wt);Ec&&Ec.length&&an.push(...Ec);let _a=this.driver.query(wt,bO,!0);for(let Tp=0;Tp<_a.length;Tp++){let Rr=_.get(_a[Tp]);Rr&&Rr.length&&an.push(...Rr)}}const Gi=an.filter(Ec=>!Ec.destroyed);Gi.length?VB(this,wt,Gi):this.processLeaveNode(wt)}return Le.length=0,Bm.forEach(ot=>{this.players.push(ot),ot.onDone(()=>{ot.destroy();const wt=this.players.indexOf(ot);this.players.splice(wt,1)}),ot.play()}),Bm}elementContainsData(n,r){let s=!1;const l=r[cl];return l&&l.setForRemoval&&(s=!0),this.playersByElement.has(r)&&(s=!0),this.playersByQueriedElement.has(r)&&(s=!0),this.statesByElement.has(r)&&(s=!0),this._fetchNamespace(n).elementContainsData(r)||s}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,r,s,l,d){let g=[];if(r){const _=this.playersByQueriedElement.get(n);_&&(g=_)}else{const _=this.playersByElement.get(n);if(_){const C=!d||d==PC;_.forEach(T=>{T.queued||!C&&T.triggerName!=l||g.push(T)})}}return(s||l)&&(g=g.filter(_=>!(s&&s!=_.namespaceId||l&&l!=_.triggerName))),g}_beforeAnimationBuild(n,r,s){const d=r.element,g=r.isRemovalTransition?void 0:n,_=r.isRemovalTransition?void 0:r.triggerName;for(const C of r.timelines){const T=C.element,N=T!==d,k=ma(s,T,[]);this._getPreviousPlayers(T,N,g,_,r.toState).forEach($=>{const re=$.getRealPlayer();re.beforeDestroy&&re.beforeDestroy(),$.destroy(),k.push($)})}km(d,r.fromStyles)}_buildAnimation(n,r,s,l,d,g){const _=r.triggerName,C=r.element,T=[],N=new Set,k=new Set,z=r.timelines.map(re=>{const Ie=re.element;N.add(Ie);const Le=Ie[cl];if(Le&&Le.removedBeforeQueried)return new hb(re.duration,re.delay);const He=Ie!==C,st=function(i){const n=[];return YF(i,n),n}((s.get(Ie)||RB).map(fs=>fs.getRealPlayer())).filter(fs=>!!fs.element&&fs.element===Ie),Nt=d.get(Ie),gt=g.get(Ie),In=vF(0,this._normalizer,0,re.keyframes,Nt,gt),br=this._buildPlayer(re,In,st);if(re.subTimeline&&l&&k.add(Ie),He){const fs=new kO(n,_,Ie);fs.setRealPlayer(br),T.push(fs)}return br});T.forEach(re=>{ma(this.playersByQueriedElement,re.element,[]).push(re),re.onDone(()=>function(i,n,r){let s;if(i instanceof Map){if(s=i.get(n),s){if(s.length){const l=s.indexOf(r);s.splice(l,1)}0==s.length&&i.delete(n)}}else if(s=i[n],s){if(s.length){const l=s.indexOf(r);s.splice(l,1)}0==s.length&&delete i[n]}return s}(this.playersByQueriedElement,re.element,re))}),N.forEach(re=>dl(re,xF));const $=xp(z);return $.onDestroy(()=>{N.forEach(re=>pb(re,xF)),wc(C,r.toStyles)}),k.forEach(re=>{ma(l,re,[]).push($)}),$}_buildPlayer(n,r,s){return r.length>0?this.driver.animate(n.element,r,n.duration,n.delay,n.easing,s):new hb(n.duration,n.delay)}}class kO{constructor(n,r,s){this.namespaceId=n,this.triggerName=r,this.element=s,this._player=new hb,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,Object.keys(this._queuedCallbacks).forEach(r=>{this._queuedCallbacks[r].forEach(s=>uO(n,r,void 0,s))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const r=this._player;r.triggerCallback&&n.onStart(()=>r.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,r){ma(this._queuedCallbacks,n,[]).push(r)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const r=this._player;r.triggerCallback&&r.triggerCallback(n)}}function qx(i){return i&&1===i.nodeType}function zF(i,n){const r=i.style.display;return i.style.display=null!=n?n:"none",r}function qF(i,n,r,s,l){const d=[];r.forEach(C=>d.push(zF(C)));const g=[];s.forEach((C,T)=>{const N={};C.forEach(k=>{const z=N[k]=n.computeStyle(T,k,l);(!z||0==z.length)&&(T[cl]=OB,g.push(T))}),i.set(T,N)});let _=0;return r.forEach(C=>zF(C,d[_++])),g}function KF(i,n){const r=new Map;if(i.forEach(_=>r.set(_,[])),0==n.length)return r;const l=new Set(n),d=new Map;function g(_){if(!_)return 1;let C=d.get(_);if(C)return C;const T=_.parentNode;return C=r.has(T)?T:l.has(T)?1:g(T),d.set(_,C),C}return n.forEach(_=>{const C=g(_);1!==C&&r.get(C).push(_)}),r}const Kx="$$classes";function dl(i,n){if(i.classList)i.classList.add(n);else{let r=i[Kx];r||(r=i[Kx]={}),r[n]=!0}}function pb(i,n){if(i.classList)i.classList.remove(n);else{let r=i[Kx];r&&delete r[n]}}function VB(i,n,r){xp(r).onDone(()=>i.processLeaveNode(n))}function YF(i,n){for(let r=0;r<i.length;r++){const s=i[r];s instanceof yF?YF(s.players,n):n.push(s)}}function ZF(i,n,r){const s=r.get(i);if(!s)return!1;let l=n.get(i);return l?s.forEach(d=>l.add(d)):n.set(i,s),r.delete(i),!0}class Yx{constructor(n,r,s){this.bodyNode=n,this._driver=r,this._normalizer=s,this._triggerCache={},this.onRemovalComplete=(l,d)=>{},this._transitionEngine=new kB(n,r,s),this._timelineEngine=new xB(n,r,s),this._transitionEngine.onRemovalComplete=(l,d)=>this.onRemovalComplete(l,d)}registerTrigger(n,r,s,l,d){const g=n+"-"+l;let _=this._triggerCache[g];if(!_){const C=[],T=AO(this._driver,d,C);if(C.length)throw new Error(`The animation trigger "${l}" has failed to build due to the following errors:\n - ${C.join("\n - ")}`);_=function(i,n,r){return new DB(i,n,r)}(l,T,this._normalizer),this._triggerCache[g]=_}this._transitionEngine.registerTrigger(r,l,_)}register(n,r){this._transitionEngine.register(n,r)}destroy(n,r){this._transitionEngine.destroy(n,r)}onInsert(n,r,s,l){this._transitionEngine.insertNode(n,r,s,l)}onRemove(n,r,s,l){this._transitionEngine.removeNode(n,r,l||!1,s)}disableAnimations(n,r){this._transitionEngine.markElementAsDisabled(n,r)}process(n,r,s,l){if("@"==s.charAt(0)){const[d,g]=bF(s);this._timelineEngine.command(d,r,g,l)}else this._transitionEngine.trigger(n,r,s,l)}listen(n,r,s,l,d){if("@"==s.charAt(0)){const[g,_]=bF(s);return this._timelineEngine.listen(g,r,_,d)}return this._transitionEngine.listen(n,r,s,l,d)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function WF(i,n){let r=null,s=null;return Array.isArray(n)&&n.length?(r=FO(n[0]),n.length>1&&(s=FO(n[n.length-1]))):n&&(r=FO(n)),r||s?new jB(i,r,s):null}let jB=(()=>{class i{constructor(r,s,l){this._element=r,this._startStyles=s,this._endStyles=l,this._state=0;let d=i.initialStylesByElement.get(r);d||i.initialStylesByElement.set(r,d={}),this._initialStyles=d}start(){this._state<1&&(this._startStyles&&wc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(wc(this._element,this._initialStyles),this._endStyles&&(wc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(i.initialStylesByElement.delete(this._element),this._startStyles&&(km(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(km(this._element,this._endStyles),this._endStyles=null),wc(this._element,this._initialStyles),this._state=3)}}return i.initialStylesByElement=new WeakMap,i})();function FO(i){let n=null;const r=Object.keys(i);for(let s=0;s<r.length;s++){const l=r[s];GB(l)&&(n=n||{},n[l]=i[l])}return n}function GB(i){return"display"===i||"position"===i}const QF="animation",JF="animationend";class zB{constructor(n,r,s,l,d,g,_){this._element=n,this._name=r,this._duration=s,this._delay=l,this._easing=d,this._fillMode=g,this._onDoneFn=_,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=C=>this._handleCallback(C)}apply(){(function(i,n){const r=LO(i,"").trim();let s=0;r.length&&(function(i,n){let r=0;for(let s=0;s<i.length;s++)","===i.charAt(s)&&r++;return r}(r)+1,n=`${r}, ${n}`),Zx(i,"",n)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),tP(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){XF(this._element,this._name,"paused")}resume(){XF(this._element,this._name,"running")}setPosition(n){const r=eP(this._element,this._name);this._position=n*this._duration,Zx(this._element,"Delay",`-${this._position}ms`,r)}getPosition(){return this._position}_handleCallback(n){const r=n._ngTestManualTimestamp||Date.now(),s=1e3*parseFloat(n.elapsedTime.toFixed(3));n.animationName==this._name&&Math.max(r-this._startTime,0)>=this._delay&&s>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),tP(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(i,n){const s=LO(i,"").split(","),l=PO(s,n);l>=0&&(s.splice(l,1),Zx(i,"",s.join(",")))}(this._element,this._name))}}function XF(i,n,r){Zx(i,"PlayState",r,eP(i,n))}function eP(i,n){const r=LO(i,"");return r.indexOf(",")>0?PO(r.split(","),n):PO([r],n)}function PO(i,n){for(let r=0;r<i.length;r++)if(i[r].indexOf(n)>=0)return r;return-1}function tP(i,n,r){r?i.removeEventListener(JF,n):i.addEventListener(JF,n)}function Zx(i,n,r,s){const l=QF+n;if(null!=s){const d=i.style[l];if(d.length){const g=d.split(",");g[s]=r,r=g.join(",")}}i.style[l]=r}function LO(i,n){return i.style[QF+n]||""}class nP{constructor(n,r,s,l,d,g,_,C){this.element=n,this.keyframes=r,this.animationName=s,this._duration=l,this._delay=d,this._finalStyles=_,this._specialStyles=C,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=g||"linear",this.totalTime=l+d,this._buildStyler()}onStart(n){this._onStartFns.push(n)}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(n=>n()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(n){this._styler.setPosition(n)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new zB(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(n){const r="start"==n?this._onStartFns:this._onDoneFns;r.forEach(s=>s()),r.length=0}beforeDestroy(){this.init();const n={};if(this.hasStarted()){const r=this._state>=3;Object.keys(this._finalStyles).forEach(s=>{"offset"!=s&&(n[s]=r?this._finalStyles[s]:DO(this.element,s))})}this.currentSnapshot=n}}class QB extends hb{constructor(n,r){super(),this.element=n,this._startingStyles={},this.__initialized=!1,this._styles=DF(r)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(n=>{this._startingStyles[n]=this.element.style[n]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(n=>this.element.style.setProperty(n,this._styles[n])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(n=>{const r=this._startingStyles[n];r?this.element.style.setProperty(n,r):this.element.style.removeProperty(n)}),this._startingStyles=null,super.destroy())}}class iP{constructor(){this._count=0}validateStyleProperty(n){return pO(n)}matchesElement(n,r){return gO(n,r)}containsElement(n,r){return mO(n,r)}query(n,r,s){return yO(n,r,s)}computeStyle(n,r,s){return window.getComputedStyle(n)[r]}buildKeyframeElement(n,r,s){s=s.map(_=>DF(_));let l=`@keyframes ${r} {\n`,d="";s.forEach(_=>{d=" ";const C=parseFloat(_.offset);l+=`${d}${100*C}% {\n`,d+=" ",Object.keys(_).forEach(T=>{const N=_[T];switch(T){case"offset":return;case"easing":return void(N&&(l+=`${d}animation-timing-function: ${N};\n`));default:return void(l+=`${d}${T}: ${N};\n`)}}),l+=`${d}}\n`}),l+="}\n";const g=document.createElement("style");return g.textContent=l,g}animate(n,r,s,l,d,g=[],_){const C=g.filter(Le=>Le instanceof nP),T={};OF(s,l)&&C.forEach(Le=>{let He=Le.currentSnapshot;Object.keys(He).forEach(st=>T[st]=He[st])});const N=function(i){let n={};return i&&(Array.isArray(i)?i:[i]).forEach(s=>{Object.keys(s).forEach(l=>{"offset"==l||"easing"==l||(n[l]=s[l])})}),n}(r=NF(n,r,T));if(0==s)return new QB(n,N);const k="gen_css_kf_"+this._count++,z=this.buildKeyframeElement(n,k,r);(function(i){var n;const r=null===(n=i.getRootNode)||void 0===n?void 0:n.call(i);return"undefined"!=typeof ShadowRoot&&r instanceof ShadowRoot?r:document.head})(n).appendChild(z);const re=WF(n,r),Ie=new nP(n,r,k,s,l,d,N,re);return Ie.onDestroy(()=>function(i){i.parentNode.removeChild(i)}(z)),Ie}}class oP{constructor(n,r,s,l){this.element=n,this.keyframes=r,this.options=s,this._specialStyles=l,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=s.duration,this._delay=s.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(n,r,s){return n.animate(r,s)}onStart(n){this._onStartFns.push(n)}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const n={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(r=>{"offset"!=r&&(n[r]=this._finished?this._finalKeyframe[r]:DO(this.element,r))}),this.currentSnapshot=n}triggerCallback(n){const r="start"==n?this._onStartFns:this._onDoneFns;r.forEach(s=>s()),r.length=0}}class n2{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(aP().toString()),this._cssKeyframesDriver=new iP}validateStyleProperty(n){return pO(n)}matchesElement(n,r){return gO(n,r)}containsElement(n,r){return mO(n,r)}query(n,r,s){return yO(n,r,s)}computeStyle(n,r,s){return window.getComputedStyle(n)[r]}overrideWebAnimationsSupport(n){this._isNativeImpl=n}animate(n,r,s,l,d,g=[],_){if(!_&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(n,r,s,l,d,g);const N={duration:s,delay:l,fill:0==l?"both":"forwards"};d&&(N.easing=d);const k={},z=g.filter(re=>re instanceof oP);OF(s,l)&&z.forEach(re=>{let Ie=re.currentSnapshot;Object.keys(Ie).forEach(Le=>k[Le]=Ie[Le])});const $=WF(n,r=NF(n,r=r.map(re=>Sp(re,!1)),k));return new oP(n,r,N,$)}}function aP(){return _F()&&Element.prototype.animate||{}}let s2=(()=>{class i extends fF{constructor(r,s){super(),this._nextAnimationId=0,this._renderer=r.createRenderer(s.body,{id:"0",encapsulation:f.ifc.None,styles:[],data:{animation:[]}})}build(r){const s=this._nextAnimationId.toString();this._nextAnimationId++;const l=Array.isArray(r)?pF(r):r;return lP(this._renderer,null,s,"register",[l]),new o2(s,this._renderer)}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(f.FYo),f.LFG(pe))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac}),i})();class o2 extends class{}{constructor(n,r){super(),this._id=n,this._renderer=r}create(n,r){return new a2(this._id,n,r||{},this._renderer)}}class a2{constructor(n,r,s,l){this.id=n,this.element=r,this._renderer=l,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",s)}_listen(n,r){return this._renderer.listen(this.element,`@@${this.id}:${n}`,r)}_command(n,...r){return lP(this._renderer,this.element,this.id,n,r)}onDone(n){this._listen("done",n)}onStart(n){this._listen("start",n)}onDestroy(n){this._listen("destroy",n)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(n){this._command("setPosition",n)}getPosition(){var n,r;return null!==(r=null===(n=this._renderer.engine.players[+this.id])||void 0===n?void 0:n.getPosition())&&void 0!==r?r:0}}function lP(i,n,r,s,l){return i.setProperty(n,`@@${r}:${s}`,l)}const uP="@.disabled";let l2=(()=>{class i{constructor(r,s,l){this.delegate=r,this.engine=s,this._zone=l,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),s.onRemovalComplete=(d,g)=>{g&&g.parentNode(d)&&g.removeChild(d.parentNode,d)}}createRenderer(r,s){const d=this.delegate.createRenderer(r,s);if(!(r&&s&&s.data&&s.data.animation)){let N=this._rendererCache.get(d);return N||(N=new cP("",d,this.engine),this._rendererCache.set(d,N)),N}const g=s.id,_=s.id+"-"+this._currentId;this._currentId++,this.engine.register(_,r);const C=N=>{Array.isArray(N)?N.forEach(C):this.engine.registerTrigger(g,_,r,N.name,N)};return s.data.animation.forEach(C),new u2(this,_,d,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(r,s,l){r>=0&&r<this._microtaskId?this._zone.run(()=>s(l)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(d=>{const[g,_]=d;g(_)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([s,l]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(f.FYo),f.LFG(Yx),f.LFG(f.R0b))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac}),i})();class cP{constructor(n,r,s){this.namespaceId=n,this.delegate=r,this.engine=s,this.destroyNode=this.delegate.destroyNode?l=>r.destroyNode(l):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(n,r){return this.delegate.createElement(n,r)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,r){this.delegate.appendChild(n,r),this.engine.onInsert(this.namespaceId,r,n,!1)}insertBefore(n,r,s,l=!0){this.delegate.insertBefore(n,r,s),this.engine.onInsert(this.namespaceId,r,n,l)}removeChild(n,r,s){this.engine.onRemove(this.namespaceId,r,this.delegate,s)}selectRootElement(n,r){return this.delegate.selectRootElement(n,r)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,r,s,l){this.delegate.setAttribute(n,r,s,l)}removeAttribute(n,r,s){this.delegate.removeAttribute(n,r,s)}addClass(n,r){this.delegate.addClass(n,r)}removeClass(n,r){this.delegate.removeClass(n,r)}setStyle(n,r,s,l){this.delegate.setStyle(n,r,s,l)}removeStyle(n,r,s){this.delegate.removeStyle(n,r,s)}setProperty(n,r,s){"@"==r.charAt(0)&&r==uP?this.disableAnimations(n,!!s):this.delegate.setProperty(n,r,s)}setValue(n,r){this.delegate.setValue(n,r)}listen(n,r,s){return this.delegate.listen(n,r,s)}disableAnimations(n,r){this.engine.disableAnimations(n,r)}}class u2 extends cP{constructor(n,r,s,l){super(r,s,l),this.factory=n,this.namespaceId=r}setProperty(n,r,s){"@"==r.charAt(0)?"."==r.charAt(1)&&r==uP?this.disableAnimations(n,s=void 0===s||!!s):this.engine.process(this.namespaceId,n,r.substr(1),s):this.delegate.setProperty(n,r,s)}listen(n,r,s){if("@"==r.charAt(0)){const l=function(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}(n);let d=r.substr(1),g="";return"@"!=d.charAt(0)&&([d,g]=function(i){const n=i.indexOf(".");return[i.substring(0,n),i.substr(n+1)]}(d)),this.engine.listen(this.namespaceId,l,d,g,_=>{this.factory.scheduleListenerCallback(_._data||-1,s,_)})}return this.delegate.listen(n,r,s)}}let h2=(()=>{class i extends Yx{constructor(r,s,l){super(r.body,s,l)}ngOnDestroy(){this.flush()}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(pe),f.LFG(_O),f.LFG(MO))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac}),i})();const Pm=new f.OlP("AnimationModuleType"),dP=[{provide:fF,useClass:s2},{provide:MO,useFactory:function(){return new _B}},{provide:Yx,useClass:h2},{provide:f.FYo,useFactory:function(i,n,r){return new l2(i,n,r)},deps:[zo,Yx,f.R0b]}],hP=[{provide:_O,useFactory:function(){return"function"==typeof aP()?new n2:new iP}},{provide:Pm,useValue:"BrowserAnimations"},...dP],fP=[{provide:_O,useClass:AF},{provide:Pm,useValue:"NoopAnimations"},...dP];let VO,m2=(()=>{class i{static withConfig(r){return{ngModule:i,providers:r.disableAnimations?fP:hP}}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({providers:hP,imports:[Wo]}),i})();function Ns(i){return null!=i&&"false"!=`${i}`}try{VO="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(i){VO=!1}let lu=(()=>{class i{constructor(r){this._platformId=r,this.isBrowser=this._platformId?gs(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!VO)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(f.Lbi))},i.\u0275prov=f.Yz7({factory:function(){return new i(f.LFG(f.Lbi))},token:i,providedIn:"root"}),i})(),BO=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({}),i})();"undefined"!=typeof Element&&Element;const TP="cdk-high-contrast-black-on-white",MP="cdk-high-contrast-white-on-black",$O="cdk-high-contrast-active";let RP=(()=>{class i{constructor(r,s){this._platform=r,this._document=s}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const r=this._document.createElement("div");r.style.backgroundColor="rgb(1,2,3)",r.style.position="absolute",this._document.body.appendChild(r);const s=this._document.defaultView||window,l=s&&s.getComputedStyle?s.getComputedStyle(r):null,d=(l&&l.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(r),d){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const r=this._document.body.classList;r.remove($O),r.remove(TP),r.remove(MP),this._hasCheckedHighContrastMode=!0;const s=this.getHighContrastMode();1===s?(r.add($O),r.add(TP)):2===s&&(r.add($O),r.add(MP))}}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(lu),f.LFG(pe))},i.\u0275prov=f.Yz7({factory:function(){return new i(f.LFG(lu),f.LFG(pe))},token:i,providedIn:"root"}),i})();const OP=new f.GfV("12.2.13"),NP=new f.GfV("12.2.13"),fU=new f.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Vm,Mo=(()=>{class i{constructor(r,s,l){this._hasDoneGlobalChecks=!1,this._document=l,r._applyBodyHighContrastModeCssClasses(),this._sanityChecks=s,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checkIsEnabled(r){return!(!(0,f.X6Q)()||"undefined"!=typeof __karma__&&__karma__||"undefined"!=typeof jasmine&&jasmine||"undefined"!=typeof jest&&jest||"undefined"!=typeof Mocha&&Mocha)&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[r])}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const r=this._document.createElement("div");r.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(r);const s=getComputedStyle(r);s&&"none"!==s.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(r)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&NP.full!==OP.full&&console.warn("The Angular Material version ("+NP.full+") does not match the Angular CDK version ("+OP.full+").\nPlease ensure the versions of these two packages exactly match.")}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(RP),f.LFG(fU,8),f.LFG(pe))},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({imports:[[eO],eO]}),i})();try{Vm="undefined"!=typeof Intl}catch(i){Vm=!1}let UP=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({imports:[[Mo,BO],Mo]}),i})();const BU=["*",[["mat-card-footer"]]],UU=["*","mat-card-footer"],jU=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],GU=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let zU=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=f.lG2({type:i,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),i})(),qU=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=f.lG2({type:i,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),i})(),KU=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=f.lG2({type:i,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),i})(),YU=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=f.lG2({type:i,selectors:[["mat-card-footer"]],hostAttrs:[1,"mat-card-footer"]}),i})(),ZU=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=f.lG2({type:i,selectors:[["","mat-card-avatar",""],["","matCardAvatar",""]],hostAttrs:[1,"mat-card-avatar"]}),i})(),WU=(()=>{class i{constructor(r){this._animationMode=r}}return i.\u0275fac=function(r){return new(r||i)(f.Y36(Pm,8))},i.\u0275cmp=f.Xpm({type:i,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(r,s){2&r&&f.ekj("_mat-animation-noopable","NoopAnimations"===s._animationMode)},exportAs:["matCard"],ngContentSelectors:UU,decls:2,vars:0,template:function(r,s){1&r&&(f.F$t(BU),f.Hsn(0),f.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),i})(),QU=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=f.Xpm({type:i,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:GU,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(r,s){1&r&&(f.F$t(jU),f.Hsn(0),f.TgZ(1,"div",0),f.Hsn(2,1),f.qZA(),f.Hsn(3,2))},encapsulation:2,changeDetection:0}),i})(),JU=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({imports:[[Mo],Mo]}),i})(),XU=(()=>{class i{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(r){this._vertical=Ns(r)}get inset(){return this._inset}set inset(r){this._inset=Ns(r)}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=f.Xpm({type:i,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(r,s){2&r&&(f.uIk("aria-orientation",s.vertical?"vertical":"horizontal"),f.ekj("mat-divider-vertical",s.vertical)("mat-divider-horizontal",!s.vertical)("mat-divider-inset",s.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(r,s){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\n"],encapsulation:2,changeDetection:0}),i})(),ej=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({imports:[[Mo],Mo]}),i})();function tj(i,n){if(1&i&&(f.TgZ(0,"div",19),f._UZ(1,"img",20),f.qZA()),2&i){const r=n.$implicit;f.xp6(1),f.MGl("src","./../assets/images/mutations/",r,".webp",f.LSH),f.s9C("title",r)}}let nj=(()=>{class i{constructor(){}ngOnInit(){this.card=function(i){var n={char:rf[i.char],lasthit:Ag[i.lasthit],world:i.world,level:i.level,worldName:Ig[i.world],crown:Wy[i.crown],wepA:Wl[i.wepA],wepB:Wl[i.wepB],skin:0==i.skin?"":"B",ultra:0==i.ultra?"":1==i.ultra?"A":"B",charlvl:i.charlvl,loops:i.loops,mutations:[],kills:i.kills,type:i.type,time:""},r=new Date(1e3*i.timestamp);n.time=r.toLocaleDateString()+"  "+r.toLocaleTimeString();for(let s=0;s<i.mutations.length;s++)"1"==i.mutations.charAt(s)&&n.mutations.push(sf[s]);return n}(this.run),this.areaFilename=Zy[this.card.world]}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=f.Xpm({type:i,selectors:[["app-card"]],inputs:{run:"run"},decls:39,vars:24,consts:[[1,"example-card","mat-elevation-z4"],["mat-card-avatar","",1,"avatar-img",3,"src"],[1,"header-title"],[1,"header-subtitle"],[1,"crown-img",3,"src"],["inset",""],[1,"container"],[1,"col-sm"],[1,"row"],[1,"col-sm","card-column"],[1,"card-text"],[1,"area-image",3,"src"],[1,"killedBy-image",3,"src"],[1,"weapon-image",3,"src","title"],["id","MutationsLabel",1,"card-text"],["class","row mutations-row",4,"ngFor","ngForOf"],[1,"ultra-div"],["title","HEYEHAHDA",1,"ultra-img",3,"src"],[1,"footer-subtitle"],[1,"row","mutations-row"],[1,"mutations-image",3,"src","title"]],template:function(r,s){1&r&&(f.TgZ(0,"mat-card",0),f.TgZ(1,"mat-card-header"),f._UZ(2,"img",1),f.TgZ(3,"mat-card-title",2),f._uU(4),f.qZA(),f.TgZ(5,"mat-card-subtitle",3),f._uU(6),f.qZA(),f._UZ(7,"img",4),f.qZA(),f._UZ(8,"mat-divider",5),f.TgZ(9,"mat-card-content"),f.TgZ(10,"div",6),f.TgZ(11,"div",7),f.TgZ(12,"div",8),f.TgZ(13,"div",9),f.TgZ(14,"p",10),f._uU(15),f.qZA(),f._UZ(16,"img",11),f.qZA(),f.TgZ(17,"div",9),f.TgZ(18,"p",10),f._uU(19,"Killed by"),f.qZA(),f._UZ(20,"img",12),f.qZA(),f.qZA(),f.TgZ(21,"div",8),f.TgZ(22,"div",9),f.TgZ(23,"p",10),f._uU(24,"Weapon A"),f.qZA(),f._UZ(25,"img",13),f.qZA(),f.TgZ(26,"div",9),f.TgZ(27,"p",10),f._uU(28,"Weapon B"),f.qZA(),f._UZ(29,"img",13),f.qZA(),f.qZA(),f.TgZ(30,"p",14),f._uU(31,"Mutations:"),f.qZA(),f.YNc(32,tj,2,2,"div",15),f.TgZ(33,"div",16),f._UZ(34,"img",17),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f._UZ(35,"mat-divider",5),f.TgZ(36,"mat-card-footer"),f.TgZ(37,"mat-card-subtitle",18),f._uU(38),f.qZA(),f.qZA(),f.qZA()),2&r&&(f.xp6(2),f.MGl("src","./../assets/images/characters/",s.card.char,".png",f.LSH),f.xp6(2),f.Oqu(s.card.char),f.xp6(2),f.Oqu(s.card.type),f.xp6(1),f.MGl("src","./../assets/images/crowns/",s.card.crown,".png",f.LSH),f.xp6(8),f.HOy(" ",s.card.worldName," ",s.card.world,"-",s.card.level," Loop: ",s.card.loops," "),f.xp6(1),f.MGl("src","./../assets/images/areas/",s.areaFilename,".webp",f.LSH),f.xp6(4),f.MGl("src","./../assets/images/enemies/",s.card.lasthit,".gif",f.LSH),f.xp6(5),f.Udp("visibility","Nothing"==s.card.wepA?"hidden":"visible"),f.MGl("src","./../assets/images/weapons/",s.card.wepA,".png",f.LSH),f.s9C("title",s.card.wepA),f.xp6(4),f.Udp("visibility","Nothing"==s.card.wepB?"hidden":"visible"),f.MGl("src","./../assets/images/weapons/",s.card.wepB,".png",f.LSH),f.s9C("title",s.card.wepB),f.xp6(3),f.Q6J("ngForOf",s.card.mutations),f.xp6(2),f.Udp("visibility",""==s.card.ultra?"hidden":"visible"),f.hYB("src","./../assets/images/mutations/ultra/",s.card.char,"_",s.card.ultra,".webp",f.LSH),f.xp6(4),f.Oqu(s.card.time))},directives:[WU,QU,ZU,qU,KU,XU,zU,xi,YU],styles:[".example-card[_ngcontent-%COMP%]{width:380px;height:480px;margin:8px auto}.avatar-img[_ngcontent-%COMP%]{margin-left:20px;background-size:cover;width:60px;height:60px;border-radius:0%}mat-card-header[_ngcontent-%COMP%]{margin-bottom:10px}mat-card-content[_ngcontent-%COMP%]{margin-top:10px}.mutations-image[_ngcontent-%COMP%]{width:30px;height:30px}.footer-subtitle[_ngcontent-%COMP%]{text-align:center}mat-card-footer[_ngcontent-%COMP%]{margin-top:10px}.header-title[_ngcontent-%COMP%]{margin-top:10px;margin-left:57px}.header-subtitle[_ngcontent-%COMP%]{margin-left:65px}mat-card-title[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}.killedBy-image[_ngcontent-%COMP%]{width:60%;height:60%}.area-image[_ngcontent-%COMP%]{width:80px;height:80px}.weapon-image[_ngcontent-%COMP%]{width:40%;height:40%}.card-column[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;width:50%;text-align:center}.ultra-div[_ngcontent-%COMP%]{margin-top:10px;margin-left:auto;margin-right:auto;width:-moz-fit-content;width:fit-content}.ultra-img[_ngcontent-%COMP%]{width:50px;height:50px}.mutations-row[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;margin-left:auto;margin-right:auto}.card-text[_ngcontent-%COMP%]{margin-bottom:2px;margin-top:10px}#MutationsLabel[_ngcontent-%COMP%]{margin-left:40px}.crown-img[_ngcontent-%COMP%]{height:50px;width:50px;margin-top:7px;margin-left:60px}"]}),i})();function rj(i,n){if(1&i&&(f.TgZ(0,"div",2),f._UZ(1,"app-card",3),f.qZA()),2&i){const r=n.$implicit;f.xp6(1),f.Q6J("run",r)}}let ij=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=f.Xpm({type:i,selectors:[["app-cards-group"]],inputs:{runs:"runs"},decls:2,vars:1,consts:[["id","layout","fxLayout","row wrap","fxLayoutAlign","center center"],["fxFlex","33.3333333333%",4,"ngFor","ngForOf"],["fxFlex","33.3333333333%"],[3,"run"]],template:function(r,s){1&r&&(f.TgZ(0,"div",0),f.YNc(1,rj,2,1,"div",1),f.qZA()),2&r&&(f.xp6(1),f.Q6J("ngForOf",s.runs))},directives:[aF,dF,xi,cF,nj],styles:[""]}),i})(),sj=(()=>{class i{constructor(r,s){this.firestoreService=r,this.nuclearApi=s,this.userRunsHistory=[],this.userId="",this.steamId="",this.userRuns={},this.streamKey="",this.autocheck=!1,this.myForm=new By({formSteamID:new Jh(""),formStreamKey:new Jh("")})}ngOnInit(){}getUserRunsHistory(r){r.SteamId!=this.userId&&(this.userId=r.SteamId,this.getRuns())}updateSteamId(r){r!=this.steamId&&(this.steamId=r)}updateStreamKey(r){this.streamKey!=r&&(this.streamKey=r)}submitForm(){clearInterval(this.addRunInterval),this.updateSteamId(this.myForm.value.formSteamID),this.updateStreamKey(this.myForm.value.formStreamKey),this.autocheck=this.myForm.value.formAutoCheck,1==this.myForm.value.formAutoCheck?this.addRunLoop():this.addRunToUser()}manageAutoCheck(){this.autocheck?(clearInterval(this.addRunInterval),this.autocheck=!1):(this.addRunLoop(),this.autocheck=!0)}addRunLoop(){var r=this;this.addRunInterval=setInterval(function(){r.addRunToUser()},15e3)}addRunToUser(){this.nuclearApi.callNuclearApi(this.steamId,this.streamKey).then(r=>{null!=r.previous&&0==function(i,n){return null!=i&&null!=i&&null!=n&&null!=n&&i.steamid===n.steamid&&i.timestamp===n.timestamp}(this.userRuns.previous,r.previous)&&(this.userRuns=r,this.firestoreService.addRunToUser(this.steamId,this.userRuns.previous).then(s=>{console.log(s)}))})}getRuns(){this.firestoreService.getUserRuns(this.userId).valueChanges().subscribe(r=>{this.userRunsHistory=r})}}return i.\u0275fac=function(r){return new(r||i)(f.Y36(rL),f.Y36(_L))},i.\u0275cmp=f.Xpm({type:i,selectors:[["app-nuclear-main"]],decls:54,vars:6,consts:[[1,"runs-title"],[1,"wrapper"],[1,"divider","div-transparent","div-arrow-down"],[1,"container"],[1,"row"],[1,"forms-div"],[3,"formGroup","ngSubmit"],[1,"myRow"],[1,"form-row","align-items-center"],[1,"col-auto"],["id","steam-id","formControlName","formSteamID","type","text","placeholder","Enter Steam ID",1,"form-control"],[1,"form-text","text-muted"],[1,"form-row"],["id","stream-key","formControlName","formStreamKey","type","text","placeholder","Enter Stream Key",1,"form-control"],[1,"form-check","auto-checkbox"],["id","auto-check","formControlName","formAutoCheck","type","checkbox","value","false",1,"form-check-input"],["for","flexCheckDefault",1,"form-check-label"],[1,"new-run"],["type","submit",1,"btn","btn-primary"],[1,"acc-info"],[2,"color","#007afc"],["type","button",1,"btn","btn-primary",3,"click"],[1,"center-form",3,"ngSubmit"],["steamID","ngForm"],["type","text","name","SteamId","placeholder","Enter Steam ID","ngModel","",1,"form-control"],[1,"cards-div"],[3,"runs"]],template:function(r,s){if(1&r){const l=f.EpF();f.TgZ(0,"h2",0),f._uU(1,"Check Info"),f.qZA(),f.TgZ(2,"div",1),f._UZ(3,"div",2),f.qZA(),f.TgZ(4,"div",3),f.TgZ(5,"div",4),f.TgZ(6,"div",5),f.TgZ(7,"form",6),f.NdJ("ngSubmit",function(){return s.submitForm()}),f.TgZ(8,"div",7),f.TgZ(9,"div",8),f.TgZ(10,"div",9),f._UZ(11,"input",10),f.qZA(),f.qZA(),f.TgZ(12,"small",11),f._uU(13,"Example: 76561198087280179"),f.qZA(),f.qZA(),f.TgZ(14,"div",7),f.TgZ(15,"div",12),f.TgZ(16,"div",9),f._UZ(17,"input",13),f.qZA(),f.qZA(),f.TgZ(18,"small",11),f._uU(19," You can find it in Nuclear Throne options "),f.qZA(),f.qZA(),f.TgZ(20,"div",14),f._UZ(21,"input",15),f.TgZ(22,"label",16),f._uU(23," Auto checking "),f.qZA(),f.qZA(),f.TgZ(24,"div",17),f.TgZ(25,"button",18),f._uU(26,"Check"),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.TgZ(27,"div",19),f.TgZ(28,"p"),f._uU(29),f.qZA(),f.TgZ(30,"p"),f._uU(31),f.qZA(),f.TgZ(32,"p"),f._uU(33,"Auto checking: "),f.TgZ(34,"span",20),f._uU(35),f.qZA(),f.qZA(),f.TgZ(36,"button",21),f.NdJ("click",function(){return s.manageAutoCheck()}),f._uU(37),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.TgZ(38,"h2",0),f._uU(39,"History"),f.qZA(),f.TgZ(40,"div",1),f._UZ(41,"div",2),f.qZA(),f.TgZ(42,"form",22,23),f.NdJ("ngSubmit",function(){f.CHM(l);const g=f.MAs(43);return s.getUserRunsHistory(g.value)}),f.TgZ(44,"div",8),f.TgZ(45,"div",9),f._UZ(46,"input",24),f.qZA(),f.TgZ(47,"div",9),f.TgZ(48,"button",18),f._uU(49,"Search"),f.qZA(),f.qZA(),f.qZA(),f.TgZ(50,"small",11),f._uU(51,"Example: 76561198087280179"),f.qZA(),f.qZA(),f.TgZ(52,"div",25),f._UZ(53,"app-cards-group",26),f.qZA()}2&r&&(f.xp6(7),f.Q6J("formGroup",s.myForm),f.xp6(22),f.hij("Steam ID: ",s.steamId,""),f.xp6(2),f.hij("Stream Key: ",s.streamKey,""),f.xp6(4),f.Oqu(1==s.autocheck?"On":"Off"),f.xp6(2),f.Oqu(1==s.autocheck?"Stop AutoCheck":"Start Autocheck"),f.xp6(16),f.Q6J("runs",s.userRunsHistory))},directives:[R0,Ny,cw,As,Jb,ra,It,Uy,ow,ij],styles:['.text-muted[_ngcontent-%COMP%]{text-indent:10px}form[_ngcontent-%COMP%]{margin:5px 5px 20px}.new-run[_ngcontent-%COMP%]{margin-top:20px;width:-moz-fit-content;width:fit-content;margin-left:auto;margin-right:auto}.clearfix[_ngcontent-%COMP%]:after{content:"";clear:both;display:table}.forms-div[_ngcontent-%COMP%]{border:1px solid gray;width:-moz-fit-content;width:fit-content;margin-left:27%;margin-right:30px}.myRow[_ngcontent-%COMP%]{margin-bottom:15px}.auto-checkbox[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;width:-moz-fit-content;width:fit-content;font-size:16px}.acc-info[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;height:-moz-fit-content;height:fit-content;padding:12px 10px;margin-top:auto;margin-bottom:auto;text-align:left;border:1px solid gray;font-size:16px;margin-left:30px}.cards-div[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;width:-moz-fit-content;width:fit-content;max-width:1200px;place-content:center;align-items:center}.runs-title[_ngcontent-%COMP%]{text-align:center;font-size:calc(19.2px + 13.9776 * (100vw - 320px) / 1600);font-weight:500;font-family:Rubik,sans-serif;width:100%;max-width:none;float:none;margin-top:40px;margin-left:auto;margin-right:auto;display:block;padding-left:32px;padding-right:32px}.divider[_ngcontent-%COMP%]{position:relative;margin-top:5px;margin-bottom:30px;height:1px}.div-transparent[_ngcontent-%COMP%]:before{content:"";position:absolute;margin-left:auto;margin-right:auto;top:0;left:5%;right:5%;width:50%;height:1px;background-image:linear-gradient(to right,transparent,rgb(48,49,51),transparent)}.div-arrow-down[_ngcontent-%COMP%]:after{content:"";position:absolute;z-index:1;top:-7px;left:calc(50% - 7px);width:14px;height:14px;transform:rotate(45deg);background-color:#f2f2f2;border-bottom:1px solid rgb(48,49,51);border-right:1px solid rgb(48,49,51)}.center-form[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;width:-moz-fit-content;width:fit-content}']}),i})(),oj=(()=>{class i{constructor(){this.title="NuclearHistory"}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=f.Xpm({type:i,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"center","clearfix"]],template:function(r,s){1&r&&(f.TgZ(0,"div",0),f.TgZ(1,"h1"),f._uU(2,"Nuclear History"),f.qZA(),f._UZ(3,"br"),f._UZ(4,"app-nuclear-main"),f.qZA())},directives:[sj],styles:['.center[_ngcontent-%COMP%]{margin:auto;width:100vw;padding:10px}h1[_ngcontent-%COMP%]{text-align:center}.clearfix[_ngcontent-%COMP%]:after{content:"";clear:both;display:table}']}),i})();const $P_firebase={projectId:"nthistory-2a391",appId:"1:386559392839:web:23c2e2d6ea00f76cd40562",storageBucket:"nthistory-2a391.appspot.com",locationId:"europe-west",apiKey:"AIzaSyDaVq2B7T0L1VztLxip2CEujpfjEOSeanM",authDomain:"nthistory-2a391.firebaseapp.com",messagingSenderId:"386559392839"};let dj=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({imports:[[Mo],Mo]}),i})(),mj=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({imports:[[UP,Mo],Mo]}),i})(),XP=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({imports:[[nO]]}),i})(),a1=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({imports:[[nO]]}),i})(),nH=(()=>{class i{constructor(r,s){ui(s)&&!r&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(r,s=[]){return{ngModule:i,providers:r.serverLoaded?[{provide:Ip,useValue:th(th({},rO),r)},{provide:iO,useValue:s,multi:!0},{provide:cb,useValue:!0}]:[{provide:Ip,useValue:th(th({},rO),r)},{provide:iO,useValue:s,multi:!0}]}}}return i.\u0275fac=function(r){return new(r||i)(f.LFG(cb),f.LFG(f.Lbi))},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({imports:[[hF,XP,a1],hF,XP,a1]}),i})(),rH=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=f.oAB({type:i,bootstrap:[oj]}),i.\u0275inj=f.cJS({providers:[],imports:[[Wo,mS,Wa.hO.initializeApp($P_firebase),nL,Zl,yL,m2,JU,dj,mj,ej,nH,fw]]}),i})();(0,f.G48)(),Up().bootstrapModule(rH).catch(i=>console.error(i))},4762:(et,Me,B)=>{"use strict";function Ee(le,he){var _e={};for(var ge in le)Object.prototype.hasOwnProperty.call(le,ge)&&he.indexOf(ge)<0&&(_e[ge]=le[ge]);if(null!=le&&"function"==typeof Object.getOwnPropertySymbols){var je=0;for(ge=Object.getOwnPropertySymbols(le);je<ge.length;je++)he.indexOf(ge[je])<0&&Object.prototype.propertyIsEnumerable.call(le,ge[je])&&(_e[ge[je]]=le[ge[je]])}return _e}function ve(le,he,_e,ge){return new(_e||(_e=Promise))(function(be,ct){function Zt(en){try{Tt(ge.next(en))}catch($n){ct($n)}}function Hn(en){try{Tt(ge.throw(en))}catch($n){ct($n)}}function Tt(en){en.done?be(en.value):function(be){return be instanceof _e?be:new _e(function(ct){ct(be)})}(en.value).then(Zt,Hn)}Tt((ge=ge.apply(le,he||[])).next())})}function X(le,he){var ge,je,be,ct,_e={label:0,sent:function(){if(1&be[0])throw be[1];return be[1]},trys:[],ops:[]};return ct={next:Zt(0),throw:Zt(1),return:Zt(2)},"function"==typeof Symbol&&(ct[Symbol.iterator]=function(){return this}),ct;function Zt(Tt){return function(en){return function(Tt){if(ge)throw new TypeError("Generator is already executing.");for(;_e;)try{if(ge=1,je&&(be=2&Tt[0]?je.return:Tt[0]?je.throw||((be=je.return)&&be.call(je),0):je.next)&&!(be=be.call(je,Tt[1])).done)return be;switch(je=0,be&&(Tt=[2&Tt[0],be.value]),Tt[0]){case 0:case 1:be=Tt;break;case 4:return _e.label++,{value:Tt[1],done:!1};case 5:_e.label++,je=Tt[1],Tt=[0];continue;case 7:Tt=_e.ops.pop(),_e.trys.pop();continue;default:if(!(be=(be=_e.trys).length>0&&be[be.length-1])&&(6===Tt[0]||2===Tt[0])){_e=0;continue}if(3===Tt[0]&&(!be||Tt[1]>be[0]&&Tt[1]<be[3])){_e.label=Tt[1];break}if(6===Tt[0]&&_e.label<be[1]){_e.label=be[1],be=Tt;break}if(be&&_e.label<be[2]){_e.label=be[2],_e.ops.push(Tt);break}be[2]&&_e.ops.pop(),_e.trys.pop();continue}Tt=he.call(le,_e)}catch(en){Tt=[6,en],je=0}finally{ge=be=0}if(5&Tt[0])throw Tt[1];return{value:Tt[0]?Tt[1]:void 0,done:!0}}([Tt,en])}}}function ie(le){var he="function"==typeof Symbol&&Symbol.iterator,_e=he&&le[he],ge=0;if(_e)return _e.call(le);if(le&&"number"==typeof le.length)return{next:function(){return le&&ge>=le.length&&(le=void 0),{value:le&&le[ge++],done:!le}}};throw new TypeError(he?"Object is not iterable.":"Symbol.iterator is not defined.")}function ne(le,he){var _e="function"==typeof Symbol&&le[Symbol.iterator];if(!_e)return le;var je,ct,ge=_e.call(le),be=[];try{for(;(void 0===he||he-- >0)&&!(je=ge.next()).done;)be.push(je.value)}catch(Zt){ct={error:Zt}}finally{try{je&&!je.done&&(_e=ge.return)&&_e.call(ge)}finally{if(ct)throw ct.error}}return be}function me(le,he,_e){if(_e||2===arguments.length)for(var be,ge=0,je=he.length;ge<je;ge++)(be||!(ge in he))&&(be||(be=Array.prototype.slice.call(he,0,ge)),be[ge]=he[ge]);return le.concat(be||Array.prototype.slice.call(he))}B.d(Me,{_T:()=>Ee,mG:()=>ve,Jh:()=>X,XA:()=>ie,CR:()=>ne,ev:()=>me})},8239:(et,Me,B)=>{"use strict";function f(j,Ee,ae,ce,pe,ve,X){try{var U=j[ve](X),G=U.value}catch(ie){return void ae(ie)}U.done?Ee(G):Promise.resolve(G).then(ce,pe)}function oe(j){return function(){var Ee=this,ae=arguments;return new Promise(function(ce,pe){var ve=j.apply(Ee,ae);function X(G){f(ve,ce,pe,X,U,"next",G)}function U(G){f(ve,ce,pe,X,U,"throw",G)}X(void 0)})}}B.d(Me,{Z:()=>oe})}},et=>{et(et.s=4906)}]);